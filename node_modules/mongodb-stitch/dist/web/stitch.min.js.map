{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///stitch.min.js","webpack:///webpack/bootstrap 972b321159bd8ce760d4","webpack:///./~/buffer/index.js","webpack:///./~/bson/lib/bson/long.js","webpack:///./src/util.js","webpack:///./src/auth/common.js","webpack:///./~/bson/lib/bson/binary.js","webpack:///./~/bson/lib/bson/min_key.js","webpack:///./src/common.js","webpack:///./src/errors.js","webpack:///./~/bson/lib/bson/code.js","webpack:///./~/bson/lib/bson/db_ref.js","webpack:///./~/bson/lib/bson/decimal128.js","webpack:///./~/bson/lib/bson/double.js","webpack:///./~/bson/lib/bson/max_key.js","webpack:///./~/bson/lib/bson/objectid.js","webpack:///./~/bson/lib/bson/regexp.js","webpack:///./~/bson/lib/bson/timestamp.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/client.js","webpack:///./~/mongodb-extjson/index.js","webpack:///./~/bson/lib/bson/int_32.js","webpack:///./~/bson/lib/bson/map.js","webpack:///./~/bson/lib/bson/symbol.js","webpack:///./src/auth/providers.js","webpack:///./~/fetch-everywhere/fetch-npm-browserify.js","webpack:///./src/admin.js","webpack:///./~/Base64/base64.js","webpack:///./~/bson/lib/bson/bson.js","webpack:///./~/bson/lib/bson/float_parser.js","webpack:///./~/bson/lib/bson/parser/calculate_size.js","webpack:///./~/bson/lib/bson/parser/deserializer.js","webpack:///./~/bson/lib/bson/parser/serializer.js","webpack:///./src/auth/index.js","webpack:///./src/auth/storage.js","webpack:///./src/index.js","webpack:///./src/services/aws/s3_service.js","webpack:///./src/services/aws/ses_service.js","webpack:///./src/services/http/http_service.js","webpack:///./src/services/index.js","webpack:///./src/services/mongodb/collection.js","webpack:///./src/services/mongodb/db.js","webpack:///./src/services/mongodb/mongodb_service.js","webpack:///./src/services/twilio/twilio_service.js","webpack:///./~/mongodb-extjson/lib/bson/binary.js","webpack:///./~/mongodb-extjson/lib/bson/code.js","webpack:///./~/mongodb-extjson/lib/bson/db_ref.js","webpack:///./~/mongodb-extjson/lib/bson/decimal128.js","webpack:///./~/mongodb-extjson/lib/bson/double.js","webpack:///./~/mongodb-extjson/lib/bson/index.js","webpack:///./~/mongodb-extjson/lib/bson/int_32.js","webpack:///./~/mongodb-extjson/lib/bson/long.js","webpack:///./~/mongodb-extjson/lib/bson/max_key.js","webpack:///./~/mongodb-extjson/lib/bson/min_key.js","webpack:///./~/mongodb-extjson/lib/bson/objectid.js","webpack:///./~/mongodb-extjson/lib/bson/regexp.js","webpack:///./~/mongodb-extjson/lib/bson/symbol.js","webpack:///./~/mongodb-extjson/lib/bson/timestamp.js","webpack:///./~/mongodb-extjson/lib/ext_json.js","webpack:///./~/base64-js/index.js","webpack:///./~/detect-browser/browser.js","webpack:///./~/detect-browser/lib/detectBrowser.js","webpack:///./~/detect-browser/lib/detectOS.js","webpack:///./~/ieee754/index.js","webpack:///./~/isarray/index.js","webpack:///./~/jwt-decode/lib/atob.js","webpack:///./~/jwt-decode/lib/base64_url_decode.js","webpack:///./~/jwt-decode/lib/index.js","webpack:///./~/object-assign/index.js","webpack:///./~/process/browser.js","webpack:///./~/query-string/index.js","webpack:///./~/strict-uri-encode/index.js","webpack:///./~/whatwg-fetch/fetch.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","global","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","length","RangeError","Uint8Array","__proto__","arg","encodingOrOffset","Error","allocUnsafe","from","TypeError","ArrayBuffer","fromArrayBuffer","fromString","fromObject","assertSize","size","alloc","fill","encoding","undefined","checked","string","isEncoding","byteLength","actual","write","slice","fromArrayLike","array","byteOffset","obj","isBuffer","len","copy","buffer","isnan","type","isArray","data","toString","SlowBuffer","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","start","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","b","bidirectionalIndexOf","val","dir","isNaN","arrayIndexOf","indexOf","lastIndexOf","arr","read","buf","indexSize","readUInt16BE","arrLength","valLength","String","foundIndex","found","j","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","base64","fromByteArray","Math","min","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","push","decodeCodePointsArray","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","apply","ret","out","toHex","bytes","checkOffset","ext","checkInt","max","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","ieee754","writeDouble","base64clean","str","stringtrim","replace","INVALID_BASE64_RE","trim","units","Infinity","leadSurrogate","charCodeAt","byteArray","hi","lo","toByteArray","src","dst","INSPECT_MAX_BYTES","foo","subarray","e","poolSize","_augment","Symbol","species","allocUnsafeSlow","_isBuffer","compare","a","x","y","concat","list","pos","swap16","swap32","swap64","arguments","equals","inspect","match","join","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","Array","_arr","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","set","code","Long","low","high","_bsontype","low_","high_","toInt","toNumber","TWO_PWR_32_DBL_","getLowBitsUnsigned","opt_radix","radix","isZero","isNegative","MIN_VALUE","radixLong","fromNumber","div","rem","multiply","subtract","negate","radixToPower","result","remDiv","intval","digits","getHighBits","getLowBits","getNumBitsAbs","bit","isOdd","other","notEquals","lessThan","lessThanOrEqual","greaterThan","greaterThanOrEqual","thisNeg","otherNeg","not","add","ONE","a48","a32","a16","a00","b48","b32","b16","b00","c48","c32","c16","c00","fromBits","ZERO","TWO_PWR_24_","NEG_ONE","halfThis","shiftRight","approx","shiftLeft","log2","ceil","log","LN2","delta","approxRes","approxRem","modulo","and","or","xor","numBits","shiftRightUnsigned","fromInt","cachedObj","INT_CACHE_","TWO_PWR_63_DBL_","MAX_VALUE","lowBits","highBits","charAt","substring","power","TWO_PWR_16_DBL_","TWO_PWR_24_DBL_","TWO_PWR_31_DBL_","TWO_PWR_48_DBL_","TWO_PWR_64_DBL_","serviceResponse","service","_ref","_ref$serviceName","serviceName","action","args","client","executeServiceFunction","uriEncodeObject","encodeURIComponent","btoa","JSON","stringify","_Base","newObj","key","default","USER_AUTH_KEY","REFRESH_TOKEN_KEY","DEVICE_ID_KEY","STATE_KEY","USER_AUTH_COOKIE_NAME","STITCH_ERROR_KEY","STITCH_LINK_KEY","USER_LOGGED_IN_PT_KEY","STITCH_REDIRECT_PROVIDER","DEFAULT_ACCESS_TOKEN_EXPIRE_WITHIN_SECS","APP_CLIENT_CODEC","accessToken","refreshToken","deviceId","userId","ADMIN_CLIENT_CODEC","Binary","subType","sub_type","position","BSON_BINARY_SUBTYPE_DEFAULT","BUFFER_SIZE","writeStringToArray","put","byte_value","decoded_byte","asRaw","newBuffer","convertArraytoUtf8BinaryString","format","startIndex","endIndex","SUBTYPE_DEFAULT","SUBTYPE_FUNCTION","SUBTYPE_BYTE_ARRAY","SUBTYPE_UUID_OLD","SUBTYPE_UUID","SUBTYPE_MD5","SUBTYPE_USER_DEFINED","MinKey","makeFetchArgs","checkStatus","SDK_VERSION","DEFAULT_STITCH_SERVER_URL","ADMIN_CLIENT_TYPE","APP_CLIENT_TYPE","JSONTYPE","_errors","version","response","status","headers","json","then","error","StitchError","error_code","Promise","reject","statusText","method","body","init","Accept","Content-Type","cors","_classCallCheck","instance","Constructor","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","_extendableBuiltin2","message","_this","getPrototypeOf","captureStackTrace","stack","cls","ExtendableBuiltin","Reflect","construct","ErrAuthProviderNotFound","ErrInvalidSession","ErrUnauthorized","Code","scope","DBRef","collection","oid","db","fields","$ref","$id","$db","assign","PARSE_STRING_REGEXP","PARSE_INF_REGEXP","PARSE_NAN_REGEXP","EXPONENT_BIAS","NAN_BUFFER","reverse","INF_NEGATIVE_BUFFER","INF_POSITIVE_BUFFER","EXPONENT_REGEX","isDigit","divideu128","DIVISOR","_rem","parts","quotient","multiply64x2","left","right","leftHigh","leftLow","rightHigh","rightLow","productHigh","productMid","productMid2","productLow","uhleft","uhright","invalidErr","Decimal128","sawRadix","foundNonZero","significantDigits","nDigitsRead","nDigits","radixPosition","firstNonZero","nDigitsStored","digitsInsert","firstDigit","lastDigit","exponent","significandHigh","significandLow","biasedExponent","index","stringMatch","infMatch","nanMatch","unsignedNumber","expSign","expNumber","digitsString","endOfString","roundDigit","roundBit","dIdx","significand","dec","midh","midl","combination","biased_exponent","significand_digits","scientific_exponent","significand_msb","k","is_zero","significand128","least_digits","radix_position","$numberDecimal","Double","valueOf","MaxKey","process","MACHINE_ID","random","checkForHexRegExp","RegExp","hasBufferType","err","ObjectID","id","generate","cacheHexString","__id","valid","isValid","createFromHexString","toHexString","hexTable","hexString","_Buffer","convertToHex","get_inc","getInc","time","Date","now","pid","inc","otherId","getTimestamp","timestamp","setTime","createPk","createFromTime","decodeLookup","test","ObjectId","BSONRegExp","pattern","options","Timestamp","$timestamp","g","Function","eval","window","_interopRequireDefault","_defineProperty","newStitchClient","clientAppID","_v","_v2","_v3","_stitchClient$rootURL","stitchClient","baseUrl","common","authUrl","rootURLsByAPIVersion","v1","API_TYPE_PUBLIC","API_TYPE_CLIENT","API_TYPE_PRIVATE","API_TYPE_APP","v2","v3","authOptions","codec","storage","storageType","platform","authCodec","_auth","AuthFactory","auth","all","handleRedirect","handleCookie","StitchClient","StitchClientFactory","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_providers","_common","_services","_services2","_common2","_mongodbExtjson","_mongodbExtjson2","_queryString","_queryString2","classname","email","password","authenticate","PROVIDER_TYPE_ANON","username","provider","register","providerType","isAuthenticated","authedId","_this2","authenticateFn","getLoggedInProviderType","resolve","logout","_this3","_do","refreshOnFailure","useRefreshToken","rootURL","clear","ServiceType","_len","_key","_doFunctionCall","_len2","_key2","request","responseDecoder","parse","relaxed","strict","text","userApiKeyName","keyID","url","fetchArgs","resource","_this4","fetch","appURL","apiVersion","apiType","queryParams","_fetchArgs2","_fetchArgs","noAuth","_fetch","token","getRefreshToken","getAccessToken","Authorization","ExtJSON","Int32","Map","_keys","_values","entry","v","delete","splice","entries","next","done","forEach","callback","has","keys","values","_interopRequireWildcard","urlWithLinkParam","link","anonProvider","getDeviceId","device","getDeviceInfo","rootUrl","_util","fetchArgsWithLink","customProvider","PROVIDER_TYPE_CUSTOM","userPassProvider","providerRoute","isAppClient","loginRoute","PROVIDER_TYPE_USERPASS","emailConfirm","tokenId","sendEmailConfirm","sendPasswordReset","passwordReset","apiKeyProvider","PROVIDER_TYPE_APIKEY","generateState","state","alpha","getOAuthLoginURL","providerName","redirectUrl","pageRootUrl","authCommon","encodeURI","googleProvider","authCode","PROVIDER_TYPE_GOOGLE","location","facebookProvider","PROVIDER_TYPE_FACEBOOK","mongodbCloudProvider","apiKey","cookie","credentials","PROVIDER_TYPE_MONGODB_CLOUD","createProviders","_ref2","globalObj","bind","StitchAdminClient","StitchAdminClientFactory","_get","receiver","desc","getOwnPropertyDescriptor","parent","_client","_common3","_StitchClient","groupId","api","groupUrl","query","defaults","_post","app","appId","appUrl","remove","_delete","export","measurements","filter","valueId","valueUrl","update","_put","services","serviceId","_patch","runCommand","commandName","config","rules","rule","ruleId","ruleUrl","incomingWebhooks","incomingWebhook","incomingWebhookId","webhookUrl","pushNotifications","pushNotification","messageId","send","users","user","uid","devices","enable","disable","userRegistrations","sendConfirmationEmail","debug","executeFunction","user_id","executeFunctionSource","_ref$source","source","_ref$evalSource","evalSource","runAsSystem","eval_source","run_as_system","authProviders","authProvider","providerId","security","allowedRequestOrigins","logs","apiKeys","apiKeyId","functions","function","functionId","eventSubscriptions","eventSubscription","eventSubscriptionId","resume","v3do","split","InvalidCharacterError","chars","input","block","charCode","idx","map","output","atob","bs","bc","deserialize","serializer","calculateObjectSize","BSON","serialize","checkKeys","serializeFunctions","ignoreUndefined","serializationIndex","finishedBuffer","serializeWithBufferAndIndex","finalBuffer","deserializeStream","numberOfDocuments","documents","docStartIndex","BSON_INT32_MAX","BSON_INT32_MIN","BSON_INT64_MAX","BSON_INT64_MIN","JS_INT_MAX","JS_INT_MIN","BSON_DATA_NUMBER","BSON_DATA_STRING","BSON_DATA_OBJECT","BSON_DATA_ARRAY","BSON_DATA_BINARY","BSON_DATA_OID","BSON_DATA_BOOLEAN","BSON_DATA_DATE","BSON_DATA_NULL","BSON_DATA_REGEXP","BSON_DATA_CODE","BSON_DATA_SYMBOL","BSON_DATA_CODE_W_SCOPE","BSON_DATA_INT","BSON_DATA_TIMESTAMP","BSON_DATA_LONG","BSON_DATA_MIN_KEY","BSON_DATA_MAX_KEY","BSON_BINARY_SUBTYPE_FUNCTION","BSON_BINARY_SUBTYPE_BYTE_ARRAY","BSON_BINARY_SUBTYPE_UUID","BSON_BINARY_SUBTYPE_MD5","BSON_BINARY_SUBTYPE_USER_DEFINED","readIEEE754","endian","mLen","nBytes","bBE","eLen","eMax","eBias","nBits","NaN","writeIEEE754","rt","abs","calculateElement","toBSON","_typeof","isDate","ordered_values","ignoreCase","multiline","iterator","totalLength","deserializeObject","evalFunctions","cacheFunctions","cacheFunctionsCrc32","crc32","fieldsAsRaw","raw","bsonRegExp","promoteBuffers","promoteLongs","promoteValues","arrayIndex","elementType","stringSize","_index","objectSize","arrayOptions","stopIndex","BSON_DATA_UNDEFINED","long","JS_INT_MAX_LONG","JS_INT_MIN_LONG","BSON_DATA_DECIMAL128","decimal128","toObject","binarySize","totalBinarySize","_buffer","regExpOptions","optionsArray","functionString","hash","isolateEvalWithHash","functionCache","isolateEval","totalSize","scopeObject","BSON_DATA_DBPOINTER","namespace","oidBuffer","shift","dollarKeys","startsWith","regexp","isRegExp","serializeString","serializeNumber","numberOfWrittenBytes","longVal","serializeNull","serializeBoolean","serializeDate","dateInMilis","getTime","serializeRegExp","serializeBSONRegExp","sort","serializeMinMax","serializeObjectId","serializeBuffer","serializeObject","depth","path","serializeInto","pop","serializeDecimal128","serializeLong","serializeInt32","serializeDouble","serializeFunction","serializeCode","codeSize","serializeBinary","serializeSymbol","serializeDBRef","startingIndex","newAuth","Auth","_platform","_storage","createStorage","providers","_slicedToArray","authObj","loggedInProviderType","sliceIterator","_n","_d","_e","_s","_i","_detectBrowser","jwtDecode","appVersion","deviceInfo","sdkVersion","platformVersion","doSessionPost","protocol","host","pathname","_error","_ref3","_ref4","ourState","redirectProvider","redirectFragment","redirectState","parseRedirectFragment","lastError","console","history","replaceState","_ref5","stateValid","ua","catch","splitCookies","document","sepIdx","cookieVal","uaCookie","getCookie","userAuth","unmarshallUserAuth","withinSeconds","decodedToken","exp","authType","newUserAuth","setters","_this5","fragment","vars","shouldBreak","pairParts","decodeURIComponent","theirState","_ref6","_runMigration","migrations","store","getItem","item","setItem","_generateKey","removeItem","_VERSION_KEY","_VERSION","localStorage","Storage","sessionStorage","MemoryStorage","_data","_orderedKeys","_migration","_admin","S3Service","bucket","acl","contentType","SESService","fromAddress","toAddress","subject","buildArgs","urlOrOptions","buildResponse","HTTPService","_s3_service","_s3_service2","_ses_service","_ses_service2","_http_service","_http_service2","_mongodb_service","_mongodb_service2","_twilio_service","_twilio_service2","aws-s3","aws-ses","aws_s3","aws_ses","http","mongodb","twilio","updateOp","isMulti","outgoingOptions","upsert","findOp","project","aggregateOp","pipeline","database","MongoQuery","Collection","doc","docs","count","execute","_collection","_collection2","DB","_db","_db2","MongoDBService","databaseName","TwilioService","to","convert","integer","toExtendedJSON","$binary","fromExtendedJSON","$code","$scope","$numberDouble","parseFloat","$numberInt","$numberLong","$maxKey","$minKey","$oid","$regularExpression","$symbol","t","setBSONModule","BSONTypes","deserializeValue","int32Range","int64Range","$undefined","keysToCodecs","$date","date","codecs","$dbPointer","serializeArray","serializeValue","getISOString","isoStr","toISOString","getUTCMilliseconds","dateNum","inRange","serializeDocument","tempScope","tempDoc","tempId","_doc","tempVal","reducer","indents","opts","placeHoldersCount","b64","tmp","placeHolders","Arr","L","revLookup","tripletToBase64","num","lookup","encodeChunk","uint8","extraBytes","len2","agent","detectBrowser","navigator","userAgent","detectOS","userAgentString","exec","os","Boolean","operatingSystems","detected","isLE","polyfill","b64DecodeUnicode","toUpperCase","InvalidTokenError","base64_url_decode","header","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","test1","getOwnPropertyNames","test2","test3","letter","symbols","defaultSetTimout","defaultClearTimeout","runTimeout","fun","cachedSetTimeout","setTimeout","runClearTimeout","marker","cachedClearTimeout","clearTimeout","cleanUpNextTick","draining","currentQueue","queue","queueIndex","drainQueue","timeout","run","Item","noop","nextTick","title","browser","env","argv","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","encoderForArrayFormat","arrayFormat","encode","parserForArrayFormat","accumulator","strictUriEncode","keysSorter","objectAssign","extract","formatter","param","reduce","val2","normalizeName","normalizeValue","iteratorFor","items","support","iterable","Headers","append","consumed","bodyUsed","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","blob","FileReader","promise","readAsArrayBuffer","readBlobAsText","readAsText","readArrayBufferAsText","view","bufferClone","Body","_initBody","_bodyInit","_bodyText","Blob","isPrototypeOf","_bodyBlob","formData","FormData","_bodyFormData","searchParams","URLSearchParams","arrayBuffer","isDataView","_bodyArrayBuffer","isArrayBufferView","rejected","decode","normalizeMethod","upcased","methods","Request","mode","referrer","form","parseHeaders","rawHeaders","line","Response","bodyInit","ok","viewClasses","DataView","oldValue","thisArg","clone","redirectStatuses","redirect","xhr","XMLHttpRequest","getAllResponseHeaders","responseURL","responseText","ontimeout","open","withCredentials","responseType","setRequestHeader"],"mappings":"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","file":"stitch.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"stitch\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"stitch\"] = factory();\n\telse\n\t\troot[\"stitch\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"stitch\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"stitch\"] = factory();\n\telse\n\t\troot[\"stitch\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 33);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\n\nvar base64 = __webpack_require__(57)\nvar ieee754 = __webpack_require__(61)\nvar isArray = __webpack_require__(62)\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(16)))\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n// Copyright 2009 Google Inc. All Rights Reserved\n\n/**\n * Defines a Long class for representing a 64-bit two's-complement\n * integer value, which faithfully simulates the behavior of a Java \"Long\". This\n * implementation is derived from LongLib in GWT.\n *\n * Constructs a 64-bit two's-complement integer, given its low and high 32-bit\n * values as *signed* integers.  See the from* functions below for more\n * convenient ways of constructing Longs.\n *\n * The internal representation of a Long is the two given signed, 32-bit values.\n * We use 32-bit pieces because these are the size of integers on which\n * Javascript performs bit-operations.  For operations like addition and\n * multiplication, we split each number into 16-bit pieces, which can easily be\n * multiplied within Javascript's floating-point representation without overflow\n * or change in sign.\n *\n * In the algorithms below, we frequently reduce the negative case to the\n * positive case by negating the input(s) and then post-processing the result.\n * Note that we must ALWAYS check specially whether those values are MIN_VALUE\n * (-2^63) because -MIN_VALUE == MIN_VALUE (since 2^63 cannot be represented as\n * a positive number, it overflows back into a negative).  Not handling this\n * case would often result in infinite recursion.\n *\n * @class\n * @param {number} low  the low (signed) 32 bits of the Long.\n * @param {number} high the high (signed) 32 bits of the Long.\n * @return {Long}\n */\n\nfunction Long(low, high) {\n  if (!(this instanceof Long)) return new Long(low, high);\n\n  this._bsontype = 'Long';\n  /**\n   * @type {number}\n   * @ignore\n   */\n  this.low_ = low | 0; // force into 32 signed bits.\n\n  /**\n   * @type {number}\n   * @ignore\n   */\n  this.high_ = high | 0; // force into 32 signed bits.\n}\n\n/**\n * Return the int value.\n *\n * @method\n * @return {number} the value, assuming it is a 32-bit integer.\n */\nLong.prototype.toInt = function () {\n  return this.low_;\n};\n\n/**\n * Return the Number value.\n *\n * @method\n * @return {number} the closest floating-point representation to this value.\n */\nLong.prototype.toNumber = function () {\n  return this.high_ * Long.TWO_PWR_32_DBL_ + this.getLowBitsUnsigned();\n};\n\n/**\n * Return the JSON value.\n *\n * @method\n * @return {string} the JSON representation.\n */\nLong.prototype.toJSON = function () {\n  return this.toString();\n};\n\n/**\n * Return the String value.\n *\n * @method\n * @param {number} [opt_radix] the radix in which the text should be written.\n * @return {string} the textual representation of this value.\n */\nLong.prototype.toString = function (opt_radix) {\n  var radix = opt_radix || 10;\n  if (radix < 2 || 36 < radix) {\n    throw Error('radix out of range: ' + radix);\n  }\n\n  if (this.isZero()) {\n    return '0';\n  }\n\n  if (this.isNegative()) {\n    if (this.equals(Long.MIN_VALUE)) {\n      // We need to change the Long value before it can be negated, so we remove\n      // the bottom-most digit in this base and then recurse to do the rest.\n      var radixLong = Long.fromNumber(radix);\n      var div = this.div(radixLong);\n      var rem = div.multiply(radixLong).subtract(this);\n      return div.toString(radix) + rem.toInt().toString(radix);\n    } else {\n      return '-' + this.negate().toString(radix);\n    }\n  }\n\n  // Do several (6) digits each time through the loop, so as to\n  // minimize the calls to the very expensive emulated div.\n  var radixToPower = Long.fromNumber(Math.pow(radix, 6));\n\n  rem = this;\n  var result = '';\n\n  while (!rem.isZero()) {\n    var remDiv = rem.div(radixToPower);\n    var intval = rem.subtract(remDiv.multiply(radixToPower)).toInt();\n    var digits = intval.toString(radix);\n\n    rem = remDiv;\n    if (rem.isZero()) {\n      return digits + result;\n    } else {\n      while (digits.length < 6) {\n        digits = '0' + digits;\n      }\n      result = '' + digits + result;\n    }\n  }\n};\n\n/**\n * Return the high 32-bits value.\n *\n * @method\n * @return {number} the high 32-bits as a signed value.\n */\nLong.prototype.getHighBits = function () {\n  return this.high_;\n};\n\n/**\n * Return the low 32-bits value.\n *\n * @method\n * @return {number} the low 32-bits as a signed value.\n */\nLong.prototype.getLowBits = function () {\n  return this.low_;\n};\n\n/**\n * Return the low unsigned 32-bits value.\n *\n * @method\n * @return {number} the low 32-bits as an unsigned value.\n */\nLong.prototype.getLowBitsUnsigned = function () {\n  return this.low_ >= 0 ? this.low_ : Long.TWO_PWR_32_DBL_ + this.low_;\n};\n\n/**\n * Returns the number of bits needed to represent the absolute value of this Long.\n *\n * @method\n * @return {number} Returns the number of bits needed to represent the absolute value of this Long.\n */\nLong.prototype.getNumBitsAbs = function () {\n  if (this.isNegative()) {\n    if (this.equals(Long.MIN_VALUE)) {\n      return 64;\n    } else {\n      return this.negate().getNumBitsAbs();\n    }\n  } else {\n    var val = this.high_ !== 0 ? this.high_ : this.low_;\n    for (var bit = 31; bit > 0; bit--) {\n      if ((val & 1 << bit) !== 0) {\n        break;\n      }\n    }\n    return this.high_ !== 0 ? bit + 33 : bit + 1;\n  }\n};\n\n/**\n * Return whether this value is zero.\n *\n * @method\n * @return {boolean} whether this value is zero.\n */\nLong.prototype.isZero = function () {\n  return this.high_ === 0 && this.low_ === 0;\n};\n\n/**\n * Return whether this value is negative.\n *\n * @method\n * @return {boolean} whether this value is negative.\n */\nLong.prototype.isNegative = function () {\n  return this.high_ < 0;\n};\n\n/**\n * Return whether this value is odd.\n *\n * @method\n * @return {boolean} whether this value is odd.\n */\nLong.prototype.isOdd = function () {\n  return (this.low_ & 1) === 1;\n};\n\n/**\n * Return whether this Long equals the other\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} whether this Long equals the other\n */\nLong.prototype.equals = function (other) {\n  return this.high_ === other.high_ && this.low_ === other.low_;\n};\n\n/**\n * Return whether this Long does not equal the other.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} whether this Long does not equal the other.\n */\nLong.prototype.notEquals = function (other) {\n  return this.high_ !== other.high_ || this.low_ !== other.low_;\n};\n\n/**\n * Return whether this Long is less than the other.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} whether this Long is less than the other.\n */\nLong.prototype.lessThan = function (other) {\n  return this.compare(other) < 0;\n};\n\n/**\n * Return whether this Long is less than or equal to the other.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} whether this Long is less than or equal to the other.\n */\nLong.prototype.lessThanOrEqual = function (other) {\n  return this.compare(other) <= 0;\n};\n\n/**\n * Return whether this Long is greater than the other.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} whether this Long is greater than the other.\n */\nLong.prototype.greaterThan = function (other) {\n  return this.compare(other) > 0;\n};\n\n/**\n * Return whether this Long is greater than or equal to the other.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} whether this Long is greater than or equal to the other.\n */\nLong.prototype.greaterThanOrEqual = function (other) {\n  return this.compare(other) >= 0;\n};\n\n/**\n * Compares this Long with the given one.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} 0 if they are the same, 1 if the this is greater, and -1 if the given one is greater.\n */\nLong.prototype.compare = function (other) {\n  if (this.equals(other)) {\n    return 0;\n  }\n\n  var thisNeg = this.isNegative();\n  var otherNeg = other.isNegative();\n  if (thisNeg && !otherNeg) {\n    return -1;\n  }\n  if (!thisNeg && otherNeg) {\n    return 1;\n  }\n\n  // at this point, the signs are the same, so subtraction will not overflow\n  if (this.subtract(other).isNegative()) {\n    return -1;\n  } else {\n    return 1;\n  }\n};\n\n/**\n * The negation of this value.\n *\n * @method\n * @return {Long} the negation of this value.\n */\nLong.prototype.negate = function () {\n  if (this.equals(Long.MIN_VALUE)) {\n    return Long.MIN_VALUE;\n  } else {\n    return this.not().add(Long.ONE);\n  }\n};\n\n/**\n * Returns the sum of this and the given Long.\n *\n * @method\n * @param {Long} other Long to add to this one.\n * @return {Long} the sum of this and the given Long.\n */\nLong.prototype.add = function (other) {\n  // Divide each number into 4 chunks of 16 bits, and then sum the chunks.\n\n  var a48 = this.high_ >>> 16;\n  var a32 = this.high_ & 0xffff;\n  var a16 = this.low_ >>> 16;\n  var a00 = this.low_ & 0xffff;\n\n  var b48 = other.high_ >>> 16;\n  var b32 = other.high_ & 0xffff;\n  var b16 = other.low_ >>> 16;\n  var b00 = other.low_ & 0xffff;\n\n  var c48 = 0,\n      c32 = 0,\n      c16 = 0,\n      c00 = 0;\n  c00 += a00 + b00;\n  c16 += c00 >>> 16;\n  c00 &= 0xffff;\n  c16 += a16 + b16;\n  c32 += c16 >>> 16;\n  c16 &= 0xffff;\n  c32 += a32 + b32;\n  c48 += c32 >>> 16;\n  c32 &= 0xffff;\n  c48 += a48 + b48;\n  c48 &= 0xffff;\n  return Long.fromBits(c16 << 16 | c00, c48 << 16 | c32);\n};\n\n/**\n * Returns the difference of this and the given Long.\n *\n * @method\n * @param {Long} other Long to subtract from this.\n * @return {Long} the difference of this and the given Long.\n */\nLong.prototype.subtract = function (other) {\n  return this.add(other.negate());\n};\n\n/**\n * Returns the product of this and the given Long.\n *\n * @method\n * @param {Long} other Long to multiply with this.\n * @return {Long} the product of this and the other.\n */\nLong.prototype.multiply = function (other) {\n  if (this.isZero()) {\n    return Long.ZERO;\n  } else if (other.isZero()) {\n    return Long.ZERO;\n  }\n\n  if (this.equals(Long.MIN_VALUE)) {\n    return other.isOdd() ? Long.MIN_VALUE : Long.ZERO;\n  } else if (other.equals(Long.MIN_VALUE)) {\n    return this.isOdd() ? Long.MIN_VALUE : Long.ZERO;\n  }\n\n  if (this.isNegative()) {\n    if (other.isNegative()) {\n      return this.negate().multiply(other.negate());\n    } else {\n      return this.negate().multiply(other).negate();\n    }\n  } else if (other.isNegative()) {\n    return this.multiply(other.negate()).negate();\n  }\n\n  // If both Longs are small, use float multiplication\n  if (this.lessThan(Long.TWO_PWR_24_) && other.lessThan(Long.TWO_PWR_24_)) {\n    return Long.fromNumber(this.toNumber() * other.toNumber());\n  }\n\n  // Divide each Long into 4 chunks of 16 bits, and then add up 4x4 products.\n  // We can skip products that would overflow.\n\n  var a48 = this.high_ >>> 16;\n  var a32 = this.high_ & 0xffff;\n  var a16 = this.low_ >>> 16;\n  var a00 = this.low_ & 0xffff;\n\n  var b48 = other.high_ >>> 16;\n  var b32 = other.high_ & 0xffff;\n  var b16 = other.low_ >>> 16;\n  var b00 = other.low_ & 0xffff;\n\n  var c48 = 0,\n      c32 = 0,\n      c16 = 0,\n      c00 = 0;\n  c00 += a00 * b00;\n  c16 += c00 >>> 16;\n  c00 &= 0xffff;\n  c16 += a16 * b00;\n  c32 += c16 >>> 16;\n  c16 &= 0xffff;\n  c16 += a00 * b16;\n  c32 += c16 >>> 16;\n  c16 &= 0xffff;\n  c32 += a32 * b00;\n  c48 += c32 >>> 16;\n  c32 &= 0xffff;\n  c32 += a16 * b16;\n  c48 += c32 >>> 16;\n  c32 &= 0xffff;\n  c32 += a00 * b32;\n  c48 += c32 >>> 16;\n  c32 &= 0xffff;\n  c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;\n  c48 &= 0xffff;\n  return Long.fromBits(c16 << 16 | c00, c48 << 16 | c32);\n};\n\n/**\n * Returns this Long divided by the given one.\n *\n * @method\n * @param {Long} other Long by which to divide.\n * @return {Long} this Long divided by the given one.\n */\nLong.prototype.div = function (other) {\n  if (other.isZero()) {\n    throw Error('division by zero');\n  } else if (this.isZero()) {\n    return Long.ZERO;\n  }\n\n  if (this.equals(Long.MIN_VALUE)) {\n    if (other.equals(Long.ONE) || other.equals(Long.NEG_ONE)) {\n      return Long.MIN_VALUE; // recall that -MIN_VALUE == MIN_VALUE\n    } else if (other.equals(Long.MIN_VALUE)) {\n      return Long.ONE;\n    } else {\n      // At this point, we have |other| >= 2, so |this/other| < |MIN_VALUE|.\n      var halfThis = this.shiftRight(1);\n      var approx = halfThis.div(other).shiftLeft(1);\n      if (approx.equals(Long.ZERO)) {\n        return other.isNegative() ? Long.ONE : Long.NEG_ONE;\n      } else {\n        var rem = this.subtract(other.multiply(approx));\n        var result = approx.add(rem.div(other));\n        return result;\n      }\n    }\n  } else if (other.equals(Long.MIN_VALUE)) {\n    return Long.ZERO;\n  }\n\n  if (this.isNegative()) {\n    if (other.isNegative()) {\n      return this.negate().div(other.negate());\n    } else {\n      return this.negate().div(other).negate();\n    }\n  } else if (other.isNegative()) {\n    return this.div(other.negate()).negate();\n  }\n\n  // Repeat the following until the remainder is less than other:  find a\n  // floating-point that approximates remainder / other *from below*, add this\n  // into the result, and subtract it from the remainder.  It is critical that\n  // the approximate value is less than or equal to the real value so that the\n  // remainder never becomes negative.\n  var res = Long.ZERO;\n  rem = this;\n  while (rem.greaterThanOrEqual(other)) {\n    // Approximate the result of division. This may be a little greater or\n    // smaller than the actual value.\n    approx = Math.max(1, Math.floor(rem.toNumber() / other.toNumber()));\n\n    // We will tweak the approximate result by changing it in the 48-th digit or\n    // the smallest non-fractional digit, whichever is larger.\n    var log2 = Math.ceil(Math.log(approx) / Math.LN2);\n    var delta = log2 <= 48 ? 1 : Math.pow(2, log2 - 48);\n\n    // Decrease the approximation until it is smaller than the remainder.  Note\n    // that if it is too large, the product overflows and is negative.\n    var approxRes = Long.fromNumber(approx);\n    var approxRem = approxRes.multiply(other);\n    while (approxRem.isNegative() || approxRem.greaterThan(rem)) {\n      approx -= delta;\n      approxRes = Long.fromNumber(approx);\n      approxRem = approxRes.multiply(other);\n    }\n\n    // We know the answer can't be zero... and actually, zero would cause\n    // infinite recursion since we would make no progress.\n    if (approxRes.isZero()) {\n      approxRes = Long.ONE;\n    }\n\n    res = res.add(approxRes);\n    rem = rem.subtract(approxRem);\n  }\n  return res;\n};\n\n/**\n * Returns this Long modulo the given one.\n *\n * @method\n * @param {Long} other Long by which to mod.\n * @return {Long} this Long modulo the given one.\n */\nLong.prototype.modulo = function (other) {\n  return this.subtract(this.div(other).multiply(other));\n};\n\n/**\n * The bitwise-NOT of this value.\n *\n * @method\n * @return {Long} the bitwise-NOT of this value.\n */\nLong.prototype.not = function () {\n  return Long.fromBits(~this.low_, ~this.high_);\n};\n\n/**\n * Returns the bitwise-AND of this Long and the given one.\n *\n * @method\n * @param {Long} other the Long with which to AND.\n * @return {Long} the bitwise-AND of this and the other.\n */\nLong.prototype.and = function (other) {\n  return Long.fromBits(this.low_ & other.low_, this.high_ & other.high_);\n};\n\n/**\n * Returns the bitwise-OR of this Long and the given one.\n *\n * @method\n * @param {Long} other the Long with which to OR.\n * @return {Long} the bitwise-OR of this and the other.\n */\nLong.prototype.or = function (other) {\n  return Long.fromBits(this.low_ | other.low_, this.high_ | other.high_);\n};\n\n/**\n * Returns the bitwise-XOR of this Long and the given one.\n *\n * @method\n * @param {Long} other the Long with which to XOR.\n * @return {Long} the bitwise-XOR of this and the other.\n */\nLong.prototype.xor = function (other) {\n  return Long.fromBits(this.low_ ^ other.low_, this.high_ ^ other.high_);\n};\n\n/**\n * Returns this Long with bits shifted to the left by the given amount.\n *\n * @method\n * @param {number} numBits the number of bits by which to shift.\n * @return {Long} this shifted to the left by the given amount.\n */\nLong.prototype.shiftLeft = function (numBits) {\n  numBits &= 63;\n  if (numBits === 0) {\n    return this;\n  } else {\n    var low = this.low_;\n    if (numBits < 32) {\n      var high = this.high_;\n      return Long.fromBits(low << numBits, high << numBits | low >>> 32 - numBits);\n    } else {\n      return Long.fromBits(0, low << numBits - 32);\n    }\n  }\n};\n\n/**\n * Returns this Long with bits shifted to the right by the given amount.\n *\n * @method\n * @param {number} numBits the number of bits by which to shift.\n * @return {Long} this shifted to the right by the given amount.\n */\nLong.prototype.shiftRight = function (numBits) {\n  numBits &= 63;\n  if (numBits === 0) {\n    return this;\n  } else {\n    var high = this.high_;\n    if (numBits < 32) {\n      var low = this.low_;\n      return Long.fromBits(low >>> numBits | high << 32 - numBits, high >> numBits);\n    } else {\n      return Long.fromBits(high >> numBits - 32, high >= 0 ? 0 : -1);\n    }\n  }\n};\n\n/**\n * Returns this Long with bits shifted to the right by the given amount, with the new top bits matching the current sign bit.\n *\n * @method\n * @param {number} numBits the number of bits by which to shift.\n * @return {Long} this shifted to the right by the given amount, with zeros placed into the new leading bits.\n */\nLong.prototype.shiftRightUnsigned = function (numBits) {\n  numBits &= 63;\n  if (numBits === 0) {\n    return this;\n  } else {\n    var high = this.high_;\n    if (numBits < 32) {\n      var low = this.low_;\n      return Long.fromBits(low >>> numBits | high << 32 - numBits, high >>> numBits);\n    } else if (numBits === 32) {\n      return Long.fromBits(high, 0);\n    } else {\n      return Long.fromBits(high >>> numBits - 32, 0);\n    }\n  }\n};\n\n/**\n * Returns a Long representing the given (32-bit) integer value.\n *\n * @method\n * @param {number} value the 32-bit integer in question.\n * @return {Long} the corresponding Long value.\n */\nLong.fromInt = function (value) {\n  if (-128 <= value && value < 128) {\n    var cachedObj = Long.INT_CACHE_[value];\n    if (cachedObj) {\n      return cachedObj;\n    }\n  }\n\n  var obj = new Long(value | 0, value < 0 ? -1 : 0);\n  if (-128 <= value && value < 128) {\n    Long.INT_CACHE_[value] = obj;\n  }\n  return obj;\n};\n\n/**\n * Returns a Long representing the given value, provided that it is a finite number. Otherwise, zero is returned.\n *\n * @method\n * @param {number} value the number in question.\n * @return {Long} the corresponding Long value.\n */\nLong.fromNumber = function (value) {\n  if (isNaN(value) || !isFinite(value)) {\n    return Long.ZERO;\n  } else if (value <= -Long.TWO_PWR_63_DBL_) {\n    return Long.MIN_VALUE;\n  } else if (value + 1 >= Long.TWO_PWR_63_DBL_) {\n    return Long.MAX_VALUE;\n  } else if (value < 0) {\n    return Long.fromNumber(-value).negate();\n  } else {\n    return new Long(value % Long.TWO_PWR_32_DBL_ | 0, value / Long.TWO_PWR_32_DBL_ | 0);\n  }\n};\n\n/**\n * Returns a Long representing the 64-bit integer that comes by concatenating the given high and low bits. Each is assumed to use 32 bits.\n *\n * @method\n * @param {number} lowBits the low 32-bits.\n * @param {number} highBits the high 32-bits.\n * @return {Long} the corresponding Long value.\n */\nLong.fromBits = function (lowBits, highBits) {\n  return new Long(lowBits, highBits);\n};\n\n/**\n * Returns a Long representation of the given string, written using the given radix.\n *\n * @method\n * @param {string} str the textual representation of the Long.\n * @param {number} opt_radix the radix in which the text is written.\n * @return {Long} the corresponding Long value.\n */\nLong.fromString = function (str, opt_radix) {\n  if (str.length === 0) {\n    throw Error('number format error: empty string');\n  }\n\n  var radix = opt_radix || 10;\n  if (radix < 2 || 36 < radix) {\n    throw Error('radix out of range: ' + radix);\n  }\n\n  if (str.charAt(0) === '-') {\n    return Long.fromString(str.substring(1), radix).negate();\n  } else if (str.indexOf('-') >= 0) {\n    throw Error('number format error: interior \"-\" character: ' + str);\n  }\n\n  // Do several (8) digits each time through the loop, so as to\n  // minimize the calls to the very expensive emulated div.\n  var radixToPower = Long.fromNumber(Math.pow(radix, 8));\n\n  var result = Long.ZERO;\n  for (var i = 0; i < str.length; i += 8) {\n    var size = Math.min(8, str.length - i);\n    var value = parseInt(str.substring(i, i + size), radix);\n    if (size < 8) {\n      var power = Long.fromNumber(Math.pow(radix, size));\n      result = result.multiply(power).add(Long.fromNumber(value));\n    } else {\n      result = result.multiply(radixToPower);\n      result = result.add(Long.fromNumber(value));\n    }\n  }\n  return result;\n};\n\n// NOTE: Common constant values ZERO, ONE, NEG_ONE, etc. are defined below the\n// from* methods on which they depend.\n\n/**\n * A cache of the Long representations of small integer values.\n * @type {Object}\n * @ignore\n */\nLong.INT_CACHE_ = {};\n\n// NOTE: the compiler should inline these constant values below and then remove\n// these variables, so there should be no runtime penalty for these.\n\n/**\n * Number used repeated below in calculations.  This must appear before the\n * first call to any from* function below.\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_16_DBL_ = 1 << 16;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_24_DBL_ = 1 << 24;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_32_DBL_ = Long.TWO_PWR_16_DBL_ * Long.TWO_PWR_16_DBL_;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_31_DBL_ = Long.TWO_PWR_32_DBL_ / 2;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_48_DBL_ = Long.TWO_PWR_32_DBL_ * Long.TWO_PWR_16_DBL_;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_64_DBL_ = Long.TWO_PWR_32_DBL_ * Long.TWO_PWR_32_DBL_;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_63_DBL_ = Long.TWO_PWR_64_DBL_ / 2;\n\n/** @type {Long} */\nLong.ZERO = Long.fromInt(0);\n\n/** @type {Long} */\nLong.ONE = Long.fromInt(1);\n\n/** @type {Long} */\nLong.NEG_ONE = Long.fromInt(-1);\n\n/** @type {Long} */\nLong.MAX_VALUE = Long.fromBits(0xffffffff | 0, 0x7fffffff | 0);\n\n/** @type {Long} */\nLong.MIN_VALUE = Long.fromBits(0, 0x80000000 | 0);\n\n/**\n * @type {Long}\n * @ignore\n */\nLong.TWO_PWR_24_ = Long.fromInt(1 << 24);\n\n/**\n * Expose.\n */\nmodule.exports = Long;\nmodule.exports.Long = Long;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.uriEncodeObject = exports.serviceResponse = undefined;\n\nvar _Base = __webpack_require__(25);\n\nvar base64 = _interopRequireWildcard(_Base);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * @namespace util\n * @private\n */\n\n/**\n * Utility method for executing a service action as a function call.\n *\n * @memberof util\n * @param {Object} service the service to execute the action on\n * @param {String} action the service action to execute\n * @param {Array} args the arguments to supply to the service action invocation\n * @returns {Promise} the API response from the executed service action\n */\nfunction serviceResponse(service, _ref) {\n  var _ref$serviceName = _ref.serviceName,\n      serviceName = _ref$serviceName === undefined ? service.serviceName : _ref$serviceName,\n      action = _ref.action,\n      args = _ref.args;\n  var client = service.client;\n\n\n  if (!client) {\n    throw new Error('Service has no client');\n  }\n\n  return client.executeServiceFunction(serviceName, action, args);\n}\n\n/**\n * Utility function to encode a JSON object into a valid string that can be\n * inserted in a URI. The object is first stringified, then encoded in base64,\n * and finally encoded via the builtin encodeURIComponent function.\n *\n * @memberof util\n * @param {Object} obj The object to encode\n * @returns {String} The encoded object\n */\nfunction uriEncodeObject(obj) {\n  return encodeURIComponent(base64.btoa(JSON.stringify(obj)));\n}\n\nexports.serviceResponse = serviceResponse;\nexports.uriEncodeObject = uriEncodeObject;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar USER_AUTH_KEY = exports.USER_AUTH_KEY = '_stitch_ua';\nvar REFRESH_TOKEN_KEY = exports.REFRESH_TOKEN_KEY = '_stitch_rt';\nvar DEVICE_ID_KEY = exports.DEVICE_ID_KEY = '_stitch_did';\nvar STATE_KEY = exports.STATE_KEY = '_stitch_state';\nvar USER_AUTH_COOKIE_NAME = exports.USER_AUTH_COOKIE_NAME = 'stitch_ua';\nvar STITCH_ERROR_KEY = exports.STITCH_ERROR_KEY = '_stitch_error';\nvar STITCH_LINK_KEY = exports.STITCH_LINK_KEY = '_stitch_link';\nvar USER_LOGGED_IN_PT_KEY = exports.USER_LOGGED_IN_PT_KEY = '_stitch_pt';\nvar STITCH_REDIRECT_PROVIDER = exports.STITCH_REDIRECT_PROVIDER = '_stitch_rp';\n\nvar DEFAULT_ACCESS_TOKEN_EXPIRE_WITHIN_SECS = exports.DEFAULT_ACCESS_TOKEN_EXPIRE_WITHIN_SECS = 10;\n\nvar APP_CLIENT_CODEC = exports.APP_CLIENT_CODEC = {\n  'accessToken': 'access_token',\n  'refreshToken': 'refresh_token',\n  'deviceId': 'device_id',\n  'userId': 'user_id'\n};\n\nvar ADMIN_CLIENT_CODEC = exports.ADMIN_CLIENT_CODEC = {\n  'accessToken': 'access_token',\n  'refreshToken': 'refresh_token',\n  'deviceId': 'device_id',\n  'userId': 'user_id'\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\n/**\n * Module dependencies.\n * @ignore\n */\n\n// Test if we're in Node via presence of \"global\" not absence of \"window\"\n// to support hybrid environments like Electron\n\nif (typeof global !== 'undefined') {\n  var Buffer = __webpack_require__(0).Buffer; // TODO just use global Buffer\n}\n\n/**\n * A class representation of the BSON Binary type.\n *\n * Sub types\n *  - **BSON.BSON_BINARY_SUBTYPE_DEFAULT**, default BSON type.\n *  - **BSON.BSON_BINARY_SUBTYPE_FUNCTION**, BSON function type.\n *  - **BSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY**, BSON byte array type.\n *  - **BSON.BSON_BINARY_SUBTYPE_UUID**, BSON uuid type.\n *  - **BSON.BSON_BINARY_SUBTYPE_MD5**, BSON md5 type.\n *  - **BSON.BSON_BINARY_SUBTYPE_USER_DEFINED**, BSON user defined type.\n *\n * @class\n * @param {Buffer} buffer a buffer object containing the binary data.\n * @param {Number} [subType] the option binary type.\n * @return {Binary}\n */\nfunction Binary(buffer, subType) {\n  if (!(this instanceof Binary)) return new Binary(buffer, subType);\n\n  this._bsontype = 'Binary';\n\n  if (buffer instanceof Number) {\n    this.sub_type = buffer;\n    this.position = 0;\n  } else {\n    this.sub_type = subType == null ? BSON_BINARY_SUBTYPE_DEFAULT : subType;\n    this.position = 0;\n  }\n\n  if (buffer != null && !(buffer instanceof Number)) {\n    // Only accept Buffer, Uint8Array or Arrays\n    if (typeof buffer === 'string') {\n      // Different ways of writing the length of the string for the different types\n      if (typeof Buffer !== 'undefined') {\n        this.buffer = new Buffer(buffer);\n      } else if (typeof Uint8Array !== 'undefined' || Object.prototype.toString.call(buffer) === '[object Array]') {\n        this.buffer = writeStringToArray(buffer);\n      } else {\n        throw new Error('only String, Buffer, Uint8Array or Array accepted');\n      }\n    } else {\n      this.buffer = buffer;\n    }\n    this.position = buffer.length;\n  } else {\n    if (typeof Buffer !== 'undefined') {\n      this.buffer = new Buffer(Binary.BUFFER_SIZE);\n    } else if (typeof Uint8Array !== 'undefined') {\n      this.buffer = new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE));\n    } else {\n      this.buffer = new Array(Binary.BUFFER_SIZE);\n    }\n    // Set position to start of buffer\n    this.position = 0;\n  }\n}\n\n/**\n * Updates this binary with byte_value.\n *\n * @method\n * @param {string} byte_value a single byte we wish to write.\n */\nBinary.prototype.put = function put(byte_value) {\n  // If it's a string and a has more than one character throw an error\n  if (byte_value['length'] != null && typeof byte_value !== 'number' && byte_value.length !== 1) throw new Error('only accepts single character String, Uint8Array or Array');\n  if (typeof byte_value !== 'number' && byte_value < 0 || byte_value > 255) throw new Error('only accepts number in a valid unsigned byte range 0-255');\n\n  // Decode the byte value once\n  var decoded_byte = null;\n  if (typeof byte_value === 'string') {\n    decoded_byte = byte_value.charCodeAt(0);\n  } else if (byte_value['length'] != null) {\n    decoded_byte = byte_value[0];\n  } else {\n    decoded_byte = byte_value;\n  }\n\n  if (this.buffer.length > this.position) {\n    this.buffer[this.position++] = decoded_byte;\n  } else {\n    if (typeof Buffer !== 'undefined' && Buffer.isBuffer(this.buffer)) {\n      // Create additional overflow buffer\n      var buffer = new Buffer(Binary.BUFFER_SIZE + this.buffer.length);\n      // Combine the two buffers together\n      this.buffer.copy(buffer, 0, 0, this.buffer.length);\n      this.buffer = buffer;\n      this.buffer[this.position++] = decoded_byte;\n    } else {\n      buffer = null;\n      // Create a new buffer (typed or normal array)\n      if (Object.prototype.toString.call(this.buffer) === '[object Uint8Array]') {\n        buffer = new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE + this.buffer.length));\n      } else {\n        buffer = new Array(Binary.BUFFER_SIZE + this.buffer.length);\n      }\n\n      // We need to copy all the content to the new array\n      for (var i = 0; i < this.buffer.length; i++) {\n        buffer[i] = this.buffer[i];\n      }\n\n      // Reassign the buffer\n      this.buffer = buffer;\n      // Write the byte\n      this.buffer[this.position++] = decoded_byte;\n    }\n  }\n};\n\n/**\n * Writes a buffer or string to the binary.\n *\n * @method\n * @param {(Buffer|string)} string a string or buffer to be written to the Binary BSON object.\n * @param {number} offset specify the binary of where to write the content.\n * @return {null}\n */\nBinary.prototype.write = function write(string, offset) {\n  offset = typeof offset === 'number' ? offset : this.position;\n\n  // If the buffer is to small let's extend the buffer\n  if (this.buffer.length < offset + string.length) {\n    var buffer = null;\n    // If we are in node.js\n    if (typeof Buffer !== 'undefined' && Buffer.isBuffer(this.buffer)) {\n      buffer = new Buffer(this.buffer.length + string.length);\n      this.buffer.copy(buffer, 0, 0, this.buffer.length);\n    } else if (Object.prototype.toString.call(this.buffer) === '[object Uint8Array]') {\n      // Create a new buffer\n      buffer = new Uint8Array(new ArrayBuffer(this.buffer.length + string.length));\n      // Copy the content\n      for (var i = 0; i < this.position; i++) {\n        buffer[i] = this.buffer[i];\n      }\n    }\n\n    // Assign the new buffer\n    this.buffer = buffer;\n  }\n\n  if (typeof Buffer !== 'undefined' && Buffer.isBuffer(string) && Buffer.isBuffer(this.buffer)) {\n    string.copy(this.buffer, offset, 0, string.length);\n    this.position = offset + string.length > this.position ? offset + string.length : this.position;\n    // offset = string.length\n  } else if (typeof Buffer !== 'undefined' && typeof string === 'string' && Buffer.isBuffer(this.buffer)) {\n    this.buffer.write(string, offset, 'binary');\n    this.position = offset + string.length > this.position ? offset + string.length : this.position;\n    // offset = string.length;\n  } else if (Object.prototype.toString.call(string) === '[object Uint8Array]' || Object.prototype.toString.call(string) === '[object Array]' && typeof string !== 'string') {\n    for (i = 0; i < string.length; i++) {\n      this.buffer[offset++] = string[i];\n    }\n\n    this.position = offset > this.position ? offset : this.position;\n  } else if (typeof string === 'string') {\n    for (i = 0; i < string.length; i++) {\n      this.buffer[offset++] = string.charCodeAt(i);\n    }\n\n    this.position = offset > this.position ? offset : this.position;\n  }\n};\n\n/**\n * Reads **length** bytes starting at **position**.\n *\n * @method\n * @param {number} position read from the given position in the Binary.\n * @param {number} length the number of bytes to read.\n * @return {Buffer}\n */\nBinary.prototype.read = function read(position, length) {\n  length = length && length > 0 ? length : this.position;\n\n  // Let's return the data based on the type we have\n  if (this.buffer['slice']) {\n    return this.buffer.slice(position, position + length);\n  } else {\n    // Create a buffer to keep the result\n    var buffer = typeof Uint8Array !== 'undefined' ? new Uint8Array(new ArrayBuffer(length)) : new Array(length);\n    for (var i = 0; i < length; i++) {\n      buffer[i] = this.buffer[position++];\n    }\n  }\n  // Return the buffer\n  return buffer;\n};\n\n/**\n * Returns the value of this binary as a string.\n *\n * @method\n * @return {string}\n */\nBinary.prototype.value = function value(asRaw) {\n  asRaw = asRaw == null ? false : asRaw;\n\n  // Optimize to serialize for the situation where the data == size of buffer\n  if (asRaw && typeof Buffer !== 'undefined' && Buffer.isBuffer(this.buffer) && this.buffer.length === this.position) return this.buffer;\n\n  // If it's a node.js buffer object\n  if (typeof Buffer !== 'undefined' && Buffer.isBuffer(this.buffer)) {\n    return asRaw ? this.buffer.slice(0, this.position) : this.buffer.toString('binary', 0, this.position);\n  } else {\n    if (asRaw) {\n      // we support the slice command use it\n      if (this.buffer['slice'] != null) {\n        return this.buffer.slice(0, this.position);\n      } else {\n        // Create a new buffer to copy content to\n        var newBuffer = Object.prototype.toString.call(this.buffer) === '[object Uint8Array]' ? new Uint8Array(new ArrayBuffer(this.position)) : new Array(this.position);\n        // Copy content\n        for (var i = 0; i < this.position; i++) {\n          newBuffer[i] = this.buffer[i];\n        }\n        // Return the buffer\n        return newBuffer;\n      }\n    } else {\n      return convertArraytoUtf8BinaryString(this.buffer, 0, this.position);\n    }\n  }\n};\n\n/**\n * Length.\n *\n * @method\n * @return {number} the length of the binary.\n */\nBinary.prototype.length = function length() {\n  return this.position;\n};\n\n/**\n * @ignore\n */\nBinary.prototype.toJSON = function () {\n  return this.buffer != null ? this.buffer.toString('base64') : '';\n};\n\n/**\n * @ignore\n */\nBinary.prototype.toString = function (format) {\n  return this.buffer != null ? this.buffer.slice(0, this.position).toString(format) : '';\n};\n\n/**\n * Binary default subtype\n * @ignore\n */\nvar BSON_BINARY_SUBTYPE_DEFAULT = 0;\n\n/**\n * @ignore\n */\nvar writeStringToArray = function writeStringToArray(data) {\n  // Create a buffer\n  var buffer = typeof Uint8Array !== 'undefined' ? new Uint8Array(new ArrayBuffer(data.length)) : new Array(data.length);\n  // Write the content to the buffer\n  for (var i = 0; i < data.length; i++) {\n    buffer[i] = data.charCodeAt(i);\n  }\n  // Write the string to the buffer\n  return buffer;\n};\n\n/**\n * Convert Array ot Uint8Array to Binary String\n *\n * @ignore\n */\nvar convertArraytoUtf8BinaryString = function convertArraytoUtf8BinaryString(byteArray, startIndex, endIndex) {\n  var result = '';\n  for (var i = startIndex; i < endIndex; i++) {\n    result = result + String.fromCharCode(byteArray[i]);\n  }\n  return result;\n};\n\nBinary.BUFFER_SIZE = 256;\n\n/**\n * Default BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_DEFAULT = 0;\n/**\n * Function BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_FUNCTION = 1;\n/**\n * Byte Array BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_BYTE_ARRAY = 2;\n/**\n * OLD UUID BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_UUID_OLD = 3;\n/**\n * UUID BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_UUID = 4;\n/**\n * MD5 BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_MD5 = 5;\n/**\n * User BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_USER_DEFINED = 128;\n\n/**\n * Expose.\n */\nmodule.exports = Binary;\nmodule.exports.Binary = Binary;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(16)))\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * A class representation of the BSON MinKey type.\n *\n * @class\n * @return {MinKey} A MinKey instance\n */\n\nfunction MinKey() {\n  if (!(this instanceof MinKey)) return new MinKey();\n\n  this._bsontype = 'MinKey';\n}\n\nmodule.exports = MinKey;\nmodule.exports.MinKey = MinKey;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.makeFetchArgs = exports.checkStatus = exports.SDK_VERSION = exports.DEFAULT_STITCH_SERVER_URL = exports.ADMIN_CLIENT_TYPE = exports.APP_CLIENT_TYPE = exports.JSONTYPE = undefined;\n\nvar _errors = __webpack_require__(7);\n\nvar JSONTYPE = exports.JSONTYPE = 'application/json';\nvar APP_CLIENT_TYPE = exports.APP_CLIENT_TYPE = 'app';\nvar ADMIN_CLIENT_TYPE = exports.ADMIN_CLIENT_TYPE = 'admin';\nvar DEFAULT_STITCH_SERVER_URL = exports.DEFAULT_STITCH_SERVER_URL = 'https://stitch.mongodb.com';\n\n// VERSION is substituted with the package.json version number at build time\nvar version = 'unknown';\nif (true) {\n  version = \"3.2.0\";\n}\nvar SDK_VERSION = exports.SDK_VERSION = version;\n\nvar checkStatus = exports.checkStatus = function checkStatus(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  }\n\n  if (response.headers.get('Content-Type') === JSONTYPE) {\n    return response.json().then(function (json) {\n      var error = new _errors.StitchError(json.error, json.error_code);\n      error.response = response;\n      error.json = json;\n      return Promise.reject(error);\n    });\n  }\n\n  var error = new Error(response.statusText);\n  error.response = response;\n  return Promise.reject(error);\n};\n\nvar makeFetchArgs = exports.makeFetchArgs = function makeFetchArgs(method, body) {\n  var init = {\n    method: method,\n    headers: { 'Accept': JSONTYPE, 'Content-Type': JSONTYPE }\n  };\n\n  if (body) {\n    init.body = body;\n  }\n\n  init.cors = true;\n  return init;\n};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _extendableBuiltin(cls) {\n  function ExtendableBuiltin() {\n    var instance = Reflect.construct(cls, Array.from(arguments));\n    Object.setPrototypeOf(instance, Object.getPrototypeOf(this));\n    return instance;\n  }\n\n  ExtendableBuiltin.prototype = Object.create(cls.prototype, {\n    constructor: {\n      value: cls,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(ExtendableBuiltin, cls);\n  } else {\n    ExtendableBuiltin.__proto__ = cls;\n  }\n\n  return ExtendableBuiltin;\n}\n\n/**\n * Creates a new StitchError\n *\n * @class\n * @augments Error\n * @param {String} message The error message.\n * @param {Object} code The error code.\n * @return {StitchError} A StitchError instance.\n */\nvar StitchError = function (_extendableBuiltin2) {\n  _inherits(StitchError, _extendableBuiltin2);\n\n  function StitchError(message, code) {\n    _classCallCheck(this, StitchError);\n\n    var _this = _possibleConstructorReturn(this, (StitchError.__proto__ || Object.getPrototypeOf(StitchError)).call(this, message));\n\n    _this.name = 'StitchError';\n    _this.message = message;\n    if (code !== undefined) {\n      _this.code = code;\n    }\n\n    if (typeof Error.captureStackTrace === 'function') {\n      Error.captureStackTrace(_this, _this.constructor);\n    } else {\n      _this.stack = new Error(message).stack;\n    }\n    return _this;\n  }\n\n  return StitchError;\n}(_extendableBuiltin(Error));\n\nvar ErrAuthProviderNotFound = 'AuthProviderNotFound';\nvar ErrInvalidSession = 'InvalidSession';\nvar ErrUnauthorized = 'Unauthorized';\n\nexports.StitchError = StitchError;\nexports.ErrAuthProviderNotFound = ErrAuthProviderNotFound;\nexports.ErrInvalidSession = ErrInvalidSession;\nexports.ErrUnauthorized = ErrUnauthorized;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * A class representation of the BSON Code type.\n *\n * @class\n * @param {(string|function)} code a string or function.\n * @param {Object} [scope] an optional scope for the function.\n * @return {Code}\n */\n\nvar Code = function Code(code, scope) {\n  if (!(this instanceof Code)) return new Code(code, scope);\n  this._bsontype = 'Code';\n  this.code = code;\n  this.scope = scope;\n};\n\n/**\n * @ignore\n */\nCode.prototype.toJSON = function () {\n  return { scope: this.scope, code: this.code };\n};\n\nmodule.exports = Code;\nmodule.exports.Code = Code;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * A class representation of the BSON DBRef type.\n *\n * @class\n * @param {string} collection the collection name.\n * @param {ObjectID} oid the reference ObjectID.\n * @param {string} [db] optional db name, if omitted the reference is local to the current db.\n * @return {DBRef}\n */\n\nfunction DBRef(collection, oid, db, fields) {\n  if (!(this instanceof DBRef)) return new DBRef(collection, oid, db, fields);\n\n  this._bsontype = 'DBRef';\n  this.collection = collection;\n  this.oid = oid;\n  this.db = db;\n  this.fields = fields || {};\n}\n\n/**\n * @ignore\n * @api private\n */\nDBRef.prototype.toJSON = function () {\n  var o = {\n    $ref: this.collection,\n    $id: this.oid\n  };\n\n  if (this.db != null) o.$db = this.db;\n  o = Object.assign(o, this.fields);\n  return o;\n};\n\nmodule.exports = DBRef;\nmodule.exports.DBRef = DBRef;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Buffer) {\n\nvar Long = __webpack_require__(1);\n\nvar PARSE_STRING_REGEXP = /^(\\+|-)?(\\d+|(\\d*\\.\\d*))?(E|e)?([-+])?(\\d+)?$/;\nvar PARSE_INF_REGEXP = /^(\\+|-)?(Infinity|inf)$/i;\nvar PARSE_NAN_REGEXP = /^(\\+|-)?NaN$/i;\n\nvar EXPONENT_MAX = 6111;\nvar EXPONENT_MIN = -6176;\nvar EXPONENT_BIAS = 6176;\nvar MAX_DIGITS = 34;\n\n// Nan value bits as 32 bit values (due to lack of longs)\nvar NAN_BUFFER = [0x7c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00].reverse();\n// Infinity value bits 32 bit values (due to lack of longs)\nvar INF_NEGATIVE_BUFFER = [0xf8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00].reverse();\nvar INF_POSITIVE_BUFFER = [0x78, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00].reverse();\n\nvar EXPONENT_REGEX = /^([-+])?(\\d+)?$/;\n\n// Detect if the value is a digit\nvar isDigit = function isDigit(value) {\n  return !isNaN(parseInt(value, 10));\n};\n\n// Divide two uint128 values\nvar divideu128 = function divideu128(value) {\n  var DIVISOR = Long.fromNumber(1000 * 1000 * 1000);\n  var _rem = Long.fromNumber(0);\n\n  if (!value.parts[0] && !value.parts[1] && !value.parts[2] && !value.parts[3]) {\n    return { quotient: value, rem: _rem };\n  }\n\n  for (var i = 0; i <= 3; i++) {\n    // Adjust remainder to match value of next dividend\n    _rem = _rem.shiftLeft(32);\n    // Add the divided to _rem\n    _rem = _rem.add(new Long(value.parts[i], 0));\n    value.parts[i] = _rem.div(DIVISOR).low_;\n    _rem = _rem.modulo(DIVISOR);\n  }\n\n  return { quotient: value, rem: _rem };\n};\n\n// Multiply two Long values and return the 128 bit value\nvar multiply64x2 = function multiply64x2(left, right) {\n  if (!left && !right) {\n    return { high: Long.fromNumber(0), low: Long.fromNumber(0) };\n  }\n\n  var leftHigh = left.shiftRightUnsigned(32);\n  var leftLow = new Long(left.getLowBits(), 0);\n  var rightHigh = right.shiftRightUnsigned(32);\n  var rightLow = new Long(right.getLowBits(), 0);\n\n  var productHigh = leftHigh.multiply(rightHigh);\n  var productMid = leftHigh.multiply(rightLow);\n  var productMid2 = leftLow.multiply(rightHigh);\n  var productLow = leftLow.multiply(rightLow);\n\n  productHigh = productHigh.add(productMid.shiftRightUnsigned(32));\n  productMid = new Long(productMid.getLowBits(), 0).add(productMid2).add(productLow.shiftRightUnsigned(32));\n\n  productHigh = productHigh.add(productMid.shiftRightUnsigned(32));\n  productLow = productMid.shiftLeft(32).add(new Long(productLow.getLowBits(), 0));\n\n  // Return the 128 bit result\n  return { high: productHigh, low: productLow };\n};\n\nvar lessThan = function lessThan(left, right) {\n  // Make values unsigned\n  var uhleft = left.high_ >>> 0;\n  var uhright = right.high_ >>> 0;\n\n  // Compare high bits first\n  if (uhleft < uhright) {\n    return true;\n  } else if (uhleft === uhright) {\n    var ulleft = left.low_ >>> 0;\n    var ulright = right.low_ >>> 0;\n    if (ulleft < ulright) return true;\n  }\n\n  return false;\n};\n\nvar invalidErr = function invalidErr(string, message) {\n  throw new Error('\"${string}\" not a valid Decimal128 string - ' + message);\n};\n\n/**\n * A class representation of the BSON Decimal128 type.\n *\n * @class\n * @param {Buffer} bytes a buffer containing the raw Decimal128 bytes.\n * @return {Double}\n */\nvar Decimal128 = function Decimal128(bytes) {\n  this._bsontype = 'Decimal128';\n  this.bytes = bytes;\n};\n\n/**\n * Create a Decimal128 instance from a string representation\n *\n * @method\n * @param {string} string a numeric string representation.\n * @return {Decimal128} returns a Decimal128 instance.\n */\nDecimal128.fromString = function (string) {\n  // Parse state tracking\n  var isNegative = false;\n  var sawRadix = false;\n  var foundNonZero = false;\n\n  // Total number of significant digits (no leading or trailing zero)\n  var significantDigits = 0;\n  // Total number of significand digits read\n  var nDigitsRead = 0;\n  // Total number of digits (no leading zeros)\n  var nDigits = 0;\n  // The number of the digits after radix\n  var radixPosition = 0;\n  // The index of the first non-zero in *str*\n  var firstNonZero = 0;\n\n  // Digits Array\n  var digits = [0];\n  // The number of digits in digits\n  var nDigitsStored = 0;\n  // Insertion pointer for digits\n  var digitsInsert = 0;\n  // The index of the first non-zero digit\n  var firstDigit = 0;\n  // The index of the last digit\n  var lastDigit = 0;\n\n  // Exponent\n  var exponent = 0;\n  // loop index over array\n  var i = 0;\n  // The high 17 digits of the significand\n  var significandHigh = [0, 0];\n  // The low 17 digits of the significand\n  var significandLow = [0, 0];\n  // The biased exponent\n  var biasedExponent = 0;\n\n  // Read index\n  var index = 0;\n\n  // Results\n  var stringMatch = string.match(PARSE_STRING_REGEXP);\n  var infMatch = string.match(PARSE_INF_REGEXP);\n  var nanMatch = string.match(PARSE_NAN_REGEXP);\n\n  // Validate the string\n  if (!stringMatch && !infMatch && !nanMatch || string.length === 0) {\n    throw new Error('' + string + ' not a valid Decimal128 string');\n  }\n\n  if (stringMatch) {\n    // full_match = stringMatch[0]\n    // sign = stringMatch[1]\n\n    var unsignedNumber = stringMatch[2];\n    // stringMatch[3] is undefined if a whole number (ex \"1\", 12\")\n    // but defined if a number w/ decimal in it (ex \"1.0, 12.2\")\n\n    var e = stringMatch[4];\n    var expSign = stringMatch[5];\n    var expNumber = stringMatch[6];\n\n    // they provided e, but didn't give an exponent number. for ex \"1e\"\n    if (e && expNumber === undefined) invalidErr(string, 'missing exponent power');\n\n    // they provided e, but didn't give a number before it. for ex \"e1\"\n    if (e && unsignedNumber === undefined) invalidErr(string, 'missing exponent base');\n\n    if (e === undefined && (expSign || expNumber)) {\n      invalidErr(string, 'missing e before exponent');\n    }\n  }\n\n  // Get the negative or positive sign\n  if (string[index] === '+' || string[index] === '-') {\n    isNegative = string[index++] === '-';\n  }\n\n  // Check if user passed Infinity or NaN\n  if (!isDigit(string[index]) && string[index] !== '.') {\n    if (string[index] === 'i' || string[index] === 'I') {\n      return new Decimal128(new Buffer(isNegative ? INF_NEGATIVE_BUFFER : INF_POSITIVE_BUFFER));\n    } else if (string[index] === 'N') {\n      return new Decimal128(new Buffer(NAN_BUFFER));\n    }\n  }\n\n  // Read all the digits\n  while (isDigit(string[index]) || string[index] === '.') {\n    if (string[index] === '.') {\n      if (sawRadix) invalidErr(string, 'contains multiple periods');\n\n      sawRadix = true;\n      index = index + 1;\n      continue;\n    }\n\n    if (nDigitsStored < 34) {\n      if (string[index] !== '0' || foundNonZero) {\n        if (!foundNonZero) {\n          firstNonZero = nDigitsRead;\n        }\n\n        foundNonZero = true;\n\n        // Only store 34 digits\n        digits[digitsInsert++] = parseInt(string[index], 10);\n        nDigitsStored = nDigitsStored + 1;\n      }\n    }\n\n    if (foundNonZero) nDigits = nDigits + 1;\n    if (sawRadix) radixPosition = radixPosition + 1;\n\n    nDigitsRead = nDigitsRead + 1;\n    index = index + 1;\n  }\n\n  if (sawRadix && !nDigitsRead) throw new Error('' + string + ' not a valid Decimal128 string');\n\n  // Read exponent if exists\n  if (string[index] === 'e' || string[index] === 'E') {\n    // Read exponent digits\n    var match = string.substr(++index).match(EXPONENT_REGEX);\n\n    // No digits read\n    if (!match || !match[2]) return new Decimal128(new Buffer(NAN_BUFFER));\n\n    // Get exponent\n    exponent = parseInt(match[0], 10);\n\n    // Adjust the index\n    index = index + match[0].length;\n  }\n\n  // Return not a number\n  if (string[index]) return new Decimal128(new Buffer(NAN_BUFFER));\n\n  // Done reading input\n  // Find first non-zero digit in digits\n  firstDigit = 0;\n\n  if (!nDigitsStored) {\n    firstDigit = 0;\n    lastDigit = 0;\n    digits[0] = 0;\n    nDigits = 1;\n    nDigitsStored = 1;\n    significantDigits = 0;\n  } else {\n    lastDigit = nDigitsStored - 1;\n    significantDigits = nDigits;\n    if (significantDigits !== 1) {\n      while (string[firstNonZero + significantDigits - 1] === '0') {\n        significantDigits = significantDigits - 1;\n      }\n    }\n  }\n\n  // Normalization of exponent\n  // Correct exponent based on radix position, and shift significand as needed\n  // to represent user input\n\n  // Overflow prevention\n  if (exponent <= radixPosition && radixPosition - exponent > 1 << 14) {\n    exponent = EXPONENT_MIN;\n  } else {\n    exponent = exponent - radixPosition;\n  }\n\n  // Attempt to normalize the exponent\n  while (exponent > EXPONENT_MAX) {\n    // Shift exponent to significand and decrease\n    lastDigit = lastDigit + 1;\n\n    if (lastDigit - firstDigit > MAX_DIGITS) {\n      // Check if we have a zero then just hard clamp, otherwise fail\n      var digitsString = digits.join('');\n      if (digitsString.match(/^0+$/)) {\n        exponent = EXPONENT_MAX;\n        break;\n      }\n      invalidErr(string, 'overflow');\n    }\n    exponent = exponent - 1;\n  }\n\n  while (exponent < EXPONENT_MIN || nDigitsStored < nDigits) {\n    // Shift last digit. can only do this if < significant digits than # stored.\n    if (lastDigit === 0 && significantDigits < nDigitsStored) {\n      exponent = EXPONENT_MIN;\n      significantDigits = 0;\n      break;\n    }\n\n    if (nDigitsStored < nDigits) {\n      // adjust to match digits not stored\n      nDigits = nDigits - 1;\n    } else {\n      // adjust to round\n      lastDigit = lastDigit - 1;\n    }\n\n    if (exponent < EXPONENT_MAX) {\n      exponent = exponent + 1;\n    } else {\n      // Check if we have a zero then just hard clamp, otherwise fail\n      digitsString = digits.join('');\n      if (digitsString.match(/^0+$/)) {\n        exponent = EXPONENT_MAX;\n        break;\n      }\n      invalidErr(string, 'overflow');\n    }\n  }\n\n  // Round\n  // We've normalized the exponent, but might still need to round.\n  if (lastDigit - firstDigit + 1 < significantDigits) {\n    var endOfString = nDigitsRead;\n\n    // If we have seen a radix point, 'string' is 1 longer than we have\n    // documented with ndigits_read, so inc the position of the first nonzero\n    // digit and the position that digits are read to.\n    if (sawRadix) {\n      firstNonZero = firstNonZero + 1;\n      endOfString = endOfString + 1;\n    }\n    // if negative, we need to increment again to account for - sign at start.\n    if (isNegative) {\n      firstNonZero = firstNonZero + 1;\n      endOfString = endOfString + 1;\n    }\n\n    var roundDigit = parseInt(string[firstNonZero + lastDigit + 1], 10);\n    var roundBit = 0;\n\n    if (roundDigit >= 5) {\n      roundBit = 1;\n      if (roundDigit === 5) {\n        roundBit = digits[lastDigit] % 2 === 1;\n        for (i = firstNonZero + lastDigit + 2; i < endOfString; i++) {\n          if (parseInt(string[i], 10)) {\n            roundBit = 1;\n            break;\n          }\n        }\n      }\n    }\n\n    if (roundBit) {\n      var dIdx = lastDigit;\n\n      for (; dIdx >= 0; dIdx--) {\n        if (++digits[dIdx] > 9) {\n          digits[dIdx] = 0;\n\n          // overflowed most significant digit\n          if (dIdx === 0) {\n            if (exponent < EXPONENT_MAX) {\n              exponent = exponent + 1;\n              digits[dIdx] = 1;\n            } else {\n              return new Decimal128(new Buffer(isNegative ? INF_NEGATIVE_BUFFER : INF_POSITIVE_BUFFER));\n            }\n          }\n        }\n      }\n    }\n  }\n\n  // Encode significand\n  // The high 17 digits of the significand\n  significandHigh = Long.fromNumber(0);\n  // The low 17 digits of the significand\n  significandLow = Long.fromNumber(0);\n\n  // read a zero\n  if (significantDigits === 0) {\n    significandHigh = Long.fromNumber(0);\n    significandLow = Long.fromNumber(0);\n  } else if (lastDigit - firstDigit < 17) {\n    dIdx = firstDigit;\n    significandLow = Long.fromNumber(digits[dIdx++]);\n    significandHigh = new Long(0, 0);\n\n    for (; dIdx <= lastDigit; dIdx++) {\n      significandLow = significandLow.multiply(Long.fromNumber(10));\n      significandLow = significandLow.add(Long.fromNumber(digits[dIdx]));\n    }\n  } else {\n    dIdx = firstDigit;\n    significandHigh = Long.fromNumber(digits[dIdx++]);\n\n    for (; dIdx <= lastDigit - 17; dIdx++) {\n      significandHigh = significandHigh.multiply(Long.fromNumber(10));\n      significandHigh = significandHigh.add(Long.fromNumber(digits[dIdx]));\n    }\n\n    significandLow = Long.fromNumber(digits[dIdx++]);\n\n    for (; dIdx <= lastDigit; dIdx++) {\n      significandLow = significandLow.multiply(Long.fromNumber(10));\n      significandLow = significandLow.add(Long.fromNumber(digits[dIdx]));\n    }\n  }\n\n  var significand = multiply64x2(significandHigh, Long.fromString('100000000000000000'));\n\n  significand.low = significand.low.add(significandLow);\n\n  if (lessThan(significand.low, significandLow)) {\n    significand.high = significand.high.add(Long.fromNumber(1));\n  }\n\n  // Biased exponent\n  biasedExponent = exponent + EXPONENT_BIAS;\n  var dec = { low: Long.fromNumber(0), high: Long.fromNumber(0) };\n\n  // Encode combination, exponent, and significand.\n  if (significand.high.shiftRightUnsigned(49).and(Long.fromNumber(1)).equals(Long.fromNumber)) {\n    // Encode '11' into bits 1 to 3\n    dec.high = dec.high.or(Long.fromNumber(0x3).shiftLeft(61));\n    dec.high = dec.high.or(Long.fromNumber(biasedExponent).and(Long.fromNumber(0x3fff).shiftLeft(47)));\n    dec.high = dec.high.or(significand.high.and(Long.fromNumber(0x7fffffffffff)));\n  } else {\n    dec.high = dec.high.or(Long.fromNumber(biasedExponent & 0x3fff).shiftLeft(49));\n    dec.high = dec.high.or(significand.high.and(Long.fromNumber(0x1ffffffffffff)));\n  }\n\n  dec.low = significand.low;\n\n  // Encode sign\n  if (isNegative) {\n    dec.high = dec.high.or(Long.fromString('9223372036854775808'));\n  }\n\n  // Encode into a buffer\n  var buffer = new Buffer(16);\n  index = 0;\n\n  // Encode the low 64 bits of the decimal\n  // Encode low bits\n  buffer[index++] = dec.low.low_ & 0xff;\n  buffer[index++] = dec.low.low_ >> 8 & 0xff;\n  buffer[index++] = dec.low.low_ >> 16 & 0xff;\n  buffer[index++] = dec.low.low_ >> 24 & 0xff;\n  // Encode high bits\n  buffer[index++] = dec.low.high_ & 0xff;\n  buffer[index++] = dec.low.high_ >> 8 & 0xff;\n  buffer[index++] = dec.low.high_ >> 16 & 0xff;\n  buffer[index++] = dec.low.high_ >> 24 & 0xff;\n\n  // Encode the high 64 bits of the decimal\n  // Encode low bits\n  buffer[index++] = dec.high.low_ & 0xff;\n  buffer[index++] = dec.high.low_ >> 8 & 0xff;\n  buffer[index++] = dec.high.low_ >> 16 & 0xff;\n  buffer[index++] = dec.high.low_ >> 24 & 0xff;\n  // Encode high bits\n  buffer[index++] = dec.high.high_ & 0xff;\n  buffer[index++] = dec.high.high_ >> 8 & 0xff;\n  buffer[index++] = dec.high.high_ >> 16 & 0xff;\n  buffer[index++] = dec.high.high_ >> 24 & 0xff;\n\n  // Return the new Decimal128\n  return new Decimal128(buffer);\n};\n\n// Extract least significant 5 bits\nvar COMBINATION_MASK = 0x1f;\n// Extract least significant 14 bits\nvar EXPONENT_MASK = 0x3fff;\n// Value of combination field for Inf\nvar COMBINATION_INFINITY = 30;\n// Value of combination field for NaN\nvar COMBINATION_NAN = 31;\n// Value of combination field for NaN\n// var COMBINATION_SNAN = 32;\n// decimal128 exponent bias\nEXPONENT_BIAS = 6176;\n\n/**\n * Create a string representation of the raw Decimal128 value\n *\n * @method\n * @return {string} returns a Decimal128 string representation.\n */\nDecimal128.prototype.toString = function () {\n  // Note: bits in this routine are referred to starting at 0,\n  // from the sign bit, towards the coefficient.\n\n  // bits 0 - 31\n  var high;\n  // bits 32 - 63\n  var midh;\n  // bits 64 - 95\n  var midl;\n  // bits 96 - 127\n  var low;\n  // bits 1 - 5\n  var combination;\n  // decoded biased exponent (14 bits)\n  var biased_exponent;\n  // the number of significand digits\n  var significand_digits = 0;\n  // the base-10 digits in the significand\n  var significand = new Array(36);\n  for (var i = 0; i < significand.length; i++) {\n    significand[i] = 0;\n  } // read pointer into significand\n  var index = 0;\n\n  // unbiased exponent\n  var exponent;\n  // the exponent if scientific notation is used\n  var scientific_exponent;\n\n  // true if the number is zero\n  var is_zero = false;\n\n  // the most signifcant significand bits (50-46)\n  var significand_msb;\n  // temporary storage for significand decoding\n  var significand128 = { parts: new Array(4) };\n  // indexing variables\n  var j, k;\n\n  // Output string\n  var string = [];\n\n  // Unpack index\n  index = 0;\n\n  // Buffer reference\n  var buffer = this.bytes;\n\n  // Unpack the low 64bits into a long\n  low = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n  midl = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\n  // Unpack the high 64bits into a long\n  midh = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n  high = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\n  // Unpack index\n  index = 0;\n\n  // Create the state of the decimal\n  var dec = {\n    low: new Long(low, midl),\n    high: new Long(midh, high)\n  };\n\n  if (dec.high.lessThan(Long.ZERO)) {\n    string.push('-');\n  }\n\n  // Decode combination field and exponent\n  combination = high >> 26 & COMBINATION_MASK;\n\n  if (combination >> 3 === 3) {\n    // Check for 'special' values\n    if (combination === COMBINATION_INFINITY) {\n      return string.join('') + 'Infinity';\n    } else if (combination === COMBINATION_NAN) {\n      return 'NaN';\n    } else {\n      biased_exponent = high >> 15 & EXPONENT_MASK;\n      significand_msb = 0x08 + (high >> 14 & 0x01);\n    }\n  } else {\n    significand_msb = high >> 14 & 0x07;\n    biased_exponent = high >> 17 & EXPONENT_MASK;\n  }\n\n  exponent = biased_exponent - EXPONENT_BIAS;\n\n  // Create string of significand digits\n\n  // Convert the 114-bit binary number represented by\n  // (significand_high, significand_low) to at most 34 decimal\n  // digits through modulo and division.\n  significand128.parts[0] = (high & 0x3fff) + ((significand_msb & 0xf) << 14);\n  significand128.parts[1] = midh;\n  significand128.parts[2] = midl;\n  significand128.parts[3] = low;\n\n  if (significand128.parts[0] === 0 && significand128.parts[1] === 0 && significand128.parts[2] === 0 && significand128.parts[3] === 0) {\n    is_zero = true;\n  } else {\n    for (k = 3; k >= 0; k--) {\n      var least_digits = 0;\n      // Peform the divide\n      var result = divideu128(significand128);\n      significand128 = result.quotient;\n      least_digits = result.rem.low_;\n\n      // We now have the 9 least significant digits (in base 2).\n      // Convert and output to string.\n      if (!least_digits) continue;\n\n      for (j = 8; j >= 0; j--) {\n        // significand[k * 9 + j] = Math.round(least_digits % 10);\n        significand[k * 9 + j] = least_digits % 10;\n        // least_digits = Math.round(least_digits / 10);\n        least_digits = Math.floor(least_digits / 10);\n      }\n    }\n  }\n\n  // Output format options:\n  // Scientific - [-]d.dddE(+/-)dd or [-]dE(+/-)dd\n  // Regular    - ddd.ddd\n\n  if (is_zero) {\n    significand_digits = 1;\n    significand[index] = 0;\n  } else {\n    significand_digits = 36;\n    i = 0;\n\n    while (!significand[index]) {\n      i++;\n      significand_digits = significand_digits - 1;\n      index = index + 1;\n    }\n  }\n\n  scientific_exponent = significand_digits - 1 + exponent;\n\n  // The scientific exponent checks are dictated by the string conversion\n  // specification and are somewhat arbitrary cutoffs.\n  //\n  // We must check exponent > 0, because if this is the case, the number\n  // has trailing zeros.  However, we *cannot* output these trailing zeros,\n  // because doing so would change the precision of the value, and would\n  // change stored data if the string converted number is round tripped.\n  if (scientific_exponent >= 34 || scientific_exponent <= -7 || exponent > 0) {\n    // Scientific format\n\n    // if there are too many significant digits, we should just be treating numbers\n    // as + or - 0 and using the non-scientific exponent (this is for the \"invalid\n    // representation should be treated as 0/-0\" spec cases in decimal128-1.json)\n    if (significand_digits > 34) {\n      string.push(0);\n      if (exponent > 0) string.push('E+' + exponent);else if (exponent < 0) string.push('E' + exponent);\n      return string.join('');\n    }\n\n    string.push(significand[index++]);\n    significand_digits = significand_digits - 1;\n\n    if (significand_digits) {\n      string.push('.');\n    }\n\n    for (i = 0; i < significand_digits; i++) {\n      string.push(significand[index++]);\n    }\n\n    // Exponent\n    string.push('E');\n    if (scientific_exponent > 0) {\n      string.push('+' + scientific_exponent);\n    } else {\n      string.push(scientific_exponent);\n    }\n  } else {\n    // Regular format with no decimal place\n    if (exponent >= 0) {\n      for (i = 0; i < significand_digits; i++) {\n        string.push(significand[index++]);\n      }\n    } else {\n      var radix_position = significand_digits + exponent;\n\n      // non-zero digits before radix\n      if (radix_position > 0) {\n        for (i = 0; i < radix_position; i++) {\n          string.push(significand[index++]);\n        }\n      } else {\n        string.push('0');\n      }\n\n      string.push('.');\n      // add leading zeros after radix\n      while (radix_position++ < 0) {\n        string.push('0');\n      }\n\n      for (i = 0; i < significand_digits - Math.max(radix_position - 1, 0); i++) {\n        string.push(significand[index++]);\n      }\n    }\n  }\n\n  return string.join('');\n};\n\nDecimal128.prototype.toJSON = function () {\n  return { $numberDecimal: this.toString() };\n};\n\nmodule.exports = Decimal128;\nmodule.exports.Decimal128 = Decimal128;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * A class representation of the BSON Double type.\n *\n * @class\n * @param {number} value the number we want to represent as a double.\n * @return {Double}\n */\n\nfunction Double(value) {\n  if (!(this instanceof Double)) return new Double(value);\n\n  this._bsontype = 'Double';\n  this.value = value;\n}\n\n/**\n * Access the number value.\n *\n * @method\n * @return {number} returns the wrapped double number.\n */\nDouble.prototype.valueOf = function () {\n  return this.value;\n};\n\n/**\n * @ignore\n */\nDouble.prototype.toJSON = function () {\n  return this.value;\n};\n\nmodule.exports = Double;\nmodule.exports.Double = Double;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * A class representation of the BSON MaxKey type.\n *\n * @class\n * @return {MaxKey} A MaxKey instance\n */\n\nfunction MaxKey() {\n  if (!(this instanceof MaxKey)) return new MaxKey();\n\n  this._bsontype = 'MaxKey';\n}\n\nmodule.exports = MaxKey;\nmodule.exports.MaxKey = MaxKey;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Buffer, process) {\n/**\n * Machine id.\n *\n * Create a random 3-byte value (i.e. unique for this\n * process). Other drivers use a md5 of the machine id here, but\n * that would mean an asyc call to gethostname, so we don't bother.\n * @ignore\n */\n\nvar MACHINE_ID = parseInt(Math.random() * 0xffffff, 10);\n\n// Regular expression that checks for hex value\nvar checkForHexRegExp = new RegExp('^[0-9a-fA-F]{24}$');\n\n// Check if buffer exists\ntry {\n  if (Buffer && Buffer.from) var hasBufferType = true;\n} catch (err) {\n  hasBufferType = false;\n}\n\n/**\n* Create a new ObjectID instance\n*\n* @class\n* @param {(string|number)} id Can be a 24 byte hex string, 12 byte binary string or a Number.\n* @property {number} generationTime The generation time of this ObjectId instance\n* @return {ObjectID} instance of ObjectID.\n*/\nvar ObjectID = function ObjectID(id) {\n  // Duck-typing to support ObjectId from different npm packages\n  if (id instanceof ObjectID) return id;\n  if (!(this instanceof ObjectID)) return new ObjectID(id);\n\n  this._bsontype = 'ObjectID';\n\n  // The most common usecase (blank id, new objectId instance)\n  if (id == null || typeof id === 'number') {\n    // Generate a new id\n    this.id = this.generate(id);\n    // If we are caching the hex string\n    if (ObjectID.cacheHexString) this.__id = this.toString('hex');\n    // Return the object\n    return;\n  }\n\n  // Check if the passed in id is valid\n  var valid = ObjectID.isValid(id);\n\n  // Throw an error if it's not a valid setup\n  if (!valid && id != null) {\n    throw new Error('Argument passed in must be a single String of 12 bytes or a string of 24 hex characters');\n  } else if (valid && typeof id === 'string' && id.length === 24 && hasBufferType) {\n    return new ObjectID(new Buffer(id, 'hex'));\n  } else if (valid && typeof id === 'string' && id.length === 24) {\n    return ObjectID.createFromHexString(id);\n  } else if (id != null && id.length === 12) {\n    // assume 12 byte string\n    this.id = id;\n  } else if (id != null && id.toHexString) {\n    // Duck-typing to support ObjectId from different npm packages\n    return id;\n  } else {\n    throw new Error('Argument passed in must be a single String of 12 bytes or a string of 24 hex characters');\n  }\n\n  if (ObjectID.cacheHexString) this.__id = this.toString('hex');\n};\n\n// Allow usage of ObjectId as well as ObjectID\n// var ObjectId = ObjectID;\n\n// Precomputed hex table enables speedy hex string conversion\nvar hexTable = [];\nfor (var i = 0; i < 256; i++) {\n  hexTable[i] = (i <= 15 ? '0' : '') + i.toString(16);\n}\n\n/**\n* Return the ObjectID id as a 24 byte hex string representation\n*\n* @method\n* @return {string} return the 24 byte hex string representation.\n*/\nObjectID.prototype.toHexString = function () {\n  if (ObjectID.cacheHexString && this.__id) return this.__id;\n\n  var hexString = '';\n  if (!this.id || !this.id.length) {\n    throw new Error('invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is [' + JSON.stringify(this.id) + ']');\n  }\n\n  if (this.id instanceof _Buffer) {\n    hexString = convertToHex(this.id);\n    if (ObjectID.cacheHexString) this.__id = hexString;\n    return hexString;\n  }\n\n  for (var i = 0; i < this.id.length; i++) {\n    hexString += hexTable[this.id.charCodeAt(i)];\n  }\n\n  if (ObjectID.cacheHexString) this.__id = hexString;\n  return hexString;\n};\n\n/**\n* Update the ObjectID index used in generating new ObjectID's on the driver\n*\n* @method\n* @return {number} returns next index value.\n* @ignore\n*/\nObjectID.prototype.get_inc = function () {\n  return ObjectID.index = (ObjectID.index + 1) % 0xffffff;\n};\n\n/**\n* Update the ObjectID index used in generating new ObjectID's on the driver\n*\n* @method\n* @return {number} returns next index value.\n* @ignore\n*/\nObjectID.prototype.getInc = function () {\n  return this.get_inc();\n};\n\n/**\n* Generate a 12 byte id buffer used in ObjectID's\n*\n* @method\n* @param {number} [time] optional parameter allowing to pass in a second based timestamp.\n* @return {Buffer} return the 12 byte id buffer string.\n*/\nObjectID.prototype.generate = function (time) {\n  if ('number' !== typeof time) {\n    time = ~~(Date.now() / 1000);\n  }\n\n  // Use pid\n  var pid = (typeof process === 'undefined' || process.pid === 1 ? Math.floor(Math.random() * 100000) : process.pid) % 0xffff;\n  var inc = this.get_inc();\n  // Buffer used\n  var buffer = new Buffer(12);\n  // Encode time\n  buffer[3] = time & 0xff;\n  buffer[2] = time >> 8 & 0xff;\n  buffer[1] = time >> 16 & 0xff;\n  buffer[0] = time >> 24 & 0xff;\n  // Encode machine\n  buffer[6] = MACHINE_ID & 0xff;\n  buffer[5] = MACHINE_ID >> 8 & 0xff;\n  buffer[4] = MACHINE_ID >> 16 & 0xff;\n  // Encode pid\n  buffer[8] = pid & 0xff;\n  buffer[7] = pid >> 8 & 0xff;\n  // Encode index\n  buffer[11] = inc & 0xff;\n  buffer[10] = inc >> 8 & 0xff;\n  buffer[9] = inc >> 16 & 0xff;\n  // Return the buffer\n  return buffer;\n};\n\n/**\n* Converts the id into a 24 byte hex string for printing\n*\n* @param {String} format The Buffer toString format parameter.\n* @return {String} return the 24 byte hex string representation.\n* @ignore\n*/\nObjectID.prototype.toString = function (format) {\n  // Is the id a buffer then use the buffer toString method to return the format\n  if (this.id && this.id.copy) {\n    return this.id.toString(typeof format === 'string' ? format : 'hex');\n  }\n\n  // if(this.buffer )\n  return this.toHexString();\n};\n\n/**\n* Converts to a string representation of this Id.\n*\n* @return {String} return the 24 byte hex string representation.\n* @ignore\n*/\nObjectID.prototype.inspect = ObjectID.prototype.toString;\n\n/**\n* Converts to its JSON representation.\n*\n* @return {String} return the 24 byte hex string representation.\n* @ignore\n*/\nObjectID.prototype.toJSON = function () {\n  return this.toHexString();\n};\n\n/**\n* Compares the equality of this ObjectID with `otherID`.\n*\n* @method\n* @param {object} otherID ObjectID instance to compare against.\n* @return {boolean} the result of comparing two ObjectID's\n*/\nObjectID.prototype.equals = function equals(otherId) {\n  // var id;\n\n  if (otherId instanceof ObjectID) {\n    return this.toString() === otherId.toString();\n  } else if (typeof otherId === 'string' && ObjectID.isValid(otherId) && otherId.length === 12 && this.id instanceof _Buffer) {\n    return otherId === this.id.toString('binary');\n  } else if (typeof otherId === 'string' && ObjectID.isValid(otherId) && otherId.length === 24) {\n    return otherId.toLowerCase() === this.toHexString();\n  } else if (typeof otherId === 'string' && ObjectID.isValid(otherId) && otherId.length === 12) {\n    return otherId === this.id;\n  } else if (otherId != null && (otherId instanceof ObjectID || otherId.toHexString)) {\n    return otherId.toHexString() === this.toHexString();\n  } else {\n    return false;\n  }\n};\n\n/**\n* Returns the generation date (accurate up to the second) that this ID was generated.\n*\n* @method\n* @return {date} the generation date\n*/\nObjectID.prototype.getTimestamp = function () {\n  var timestamp = new Date();\n  var time = this.id[3] | this.id[2] << 8 | this.id[1] << 16 | this.id[0] << 24;\n  timestamp.setTime(Math.floor(time) * 1000);\n  return timestamp;\n};\n\n/**\n* @ignore\n*/\nObjectID.index = ~~(Math.random() * 0xffffff);\n\n/**\n* @ignore\n*/\nObjectID.createPk = function createPk() {\n  return new ObjectID();\n};\n\n/**\n* Creates an ObjectID from a second based number, with the rest of the ObjectID zeroed out. Used for comparisons or sorting the ObjectID.\n*\n* @method\n* @param {number} time an integer number representing a number of seconds.\n* @return {ObjectID} return the created ObjectID\n*/\nObjectID.createFromTime = function createFromTime(time) {\n  var buffer = new Buffer([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\n  // Encode time into first 4 bytes\n  buffer[3] = time & 0xff;\n  buffer[2] = time >> 8 & 0xff;\n  buffer[1] = time >> 16 & 0xff;\n  buffer[0] = time >> 24 & 0xff;\n  // Return the new objectId\n  return new ObjectID(buffer);\n};\n\n// Lookup tables\n//var encodeLookup = '0123456789abcdef'.split('');\nvar decodeLookup = [];\ni = 0;\nwhile (i < 10) {\n  decodeLookup[0x30 + i] = i++;\n}while (i < 16) {\n  decodeLookup[0x41 - 10 + i] = decodeLookup[0x61 - 10 + i] = i++;\n}var _Buffer = Buffer;\nvar convertToHex = function convertToHex(bytes) {\n  return bytes.toString('hex');\n};\n\n/**\n* Creates an ObjectID from a hex string representation of an ObjectID.\n*\n* @method\n* @param {string} hexString create a ObjectID from a passed in 24 byte hexstring.\n* @return {ObjectID} return the created ObjectID\n*/\nObjectID.createFromHexString = function createFromHexString(string) {\n  // Throw an error if it's not a valid setup\n  if (typeof string === 'undefined' || string != null && string.length !== 24) {\n    throw new Error('Argument passed in must be a single String of 12 bytes or a string of 24 hex characters');\n  }\n\n  // Use Buffer.from method if available\n  if (hasBufferType) return new ObjectID(new Buffer(string, 'hex'));\n\n  // Calculate lengths\n  var array = new _Buffer(12);\n  var n = 0;\n  var i = 0;\n\n  while (i < 24) {\n    array[n++] = decodeLookup[string.charCodeAt(i++)] << 4 | decodeLookup[string.charCodeAt(i++)];\n  }\n\n  return new ObjectID(array);\n};\n\n/**\n* Checks if a value is a valid bson ObjectId\n*\n* @method\n* @return {boolean} return true if the value is a valid bson ObjectId, return false otherwise.\n*/\nObjectID.isValid = function isValid(id) {\n  if (id == null) return false;\n\n  if (typeof id === 'number') {\n    return true;\n  }\n\n  if (typeof id === 'string') {\n    return id.length === 12 || id.length === 24 && checkForHexRegExp.test(id);\n  }\n\n  if (id instanceof ObjectID) {\n    return true;\n  }\n\n  if (id instanceof _Buffer) {\n    return true;\n  }\n\n  // Duck-Typing detection of ObjectId like objects\n  if (id.toHexString) {\n    return id.id.length === 12 || id.id.length === 24 && checkForHexRegExp.test(id.id);\n  }\n\n  return false;\n};\n\n/**\n* @ignore\n*/\nObject.defineProperty(ObjectID.prototype, 'generationTime', {\n  enumerable: true,\n  get: function get() {\n    return this.id[3] | this.id[2] << 8 | this.id[1] << 16 | this.id[0] << 24;\n  },\n  set: function set(value) {\n    // Encode time into first 4 bytes\n    this.id[3] = value & 0xff;\n    this.id[2] = value >> 8 & 0xff;\n    this.id[1] = value >> 16 & 0xff;\n    this.id[0] = value >> 24 & 0xff;\n  }\n});\n\n/**\n * Expose.\n */\nmodule.exports = ObjectID;\nmodule.exports.ObjectID = ObjectID;\nmodule.exports.ObjectId = ObjectID;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer, __webpack_require__(67)))\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * A class representation of the BSON RegExp type.\n *\n * @class\n * @return {BSONRegExp} A MinKey instance\n */\n\nfunction BSONRegExp(pattern, options) {\n  if (!(this instanceof BSONRegExp)) return new BSONRegExp();\n\n  // Execute\n  this._bsontype = 'BSONRegExp';\n  this.pattern = pattern || '';\n  this.options = options || '';\n\n  // Validate options\n  for (var i = 0; i < this.options.length; i++) {\n    if (!(this.options[i] === 'i' || this.options[i] === 'm' || this.options[i] === 'x' || this.options[i] === 'l' || this.options[i] === 's' || this.options[i] === 'u')) {\n      throw new Error('the regular expression options [' + this.options[i] + '] is not supported');\n    }\n  }\n}\n\nmodule.exports = BSONRegExp;\nmodule.exports.BSONRegExp = BSONRegExp;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Long = __webpack_require__(1);\n\n/**\n * @class\n * @param {number} low  the low (signed) 32 bits of the Timestamp.\n * @param {number} high the high (signed) 32 bits of the Timestamp.\n * @return {Timestamp}\n */\nvar Timestamp = function Timestamp(low, high) {\n  if (low instanceof Long) {\n    Long.call(this, low.low_, low.high_);\n  } else {\n    Long.call(this, low, high);\n  }\n\n  this._bsontype = 'Timestamp';\n};\n\nTimestamp.prototype = Object.create(Long.prototype);\nTimestamp.prototype.constructor = Timestamp;\n\n/**\n * Return the JSON value.\n *\n * @method\n * @return {String} the JSON representation.\n */\nTimestamp.prototype.toJSON = function () {\n  return {\n    $timestamp: this.toString()\n  };\n};\n\n/**\n * Returns a Timestamp represented by the given (32-bit) integer value.\n *\n * @method\n * @param {number} value the 32-bit integer in question.\n * @return {Timestamp} the timestamp.\n */\nTimestamp.fromInt = function (value) {\n  return new Timestamp(Long.fromInt(value));\n};\n\n/**\n * Returns a Timestamp representing the given number value, provided that it is a finite number. Otherwise, zero is returned.\n *\n * @method\n * @param {number} value the number in question.\n * @return {Timestamp} the timestamp.\n */\nTimestamp.fromNumber = function (value) {\n  return new Timestamp(Long.fromNumber(value));\n};\n\n/**\n * Returns a Timestamp for the given high and low bits. Each is assumed to use 32 bits.\n *\n * @method\n * @param {number} lowBits the low 32-bits.\n * @param {number} highBits the high 32-bits.\n * @return {Timestamp} the timestamp.\n */\nTimestamp.fromBits = function (lowBits, highBits) {\n  return new Timestamp(lowBits, highBits);\n};\n\n/**\n * Returns a Timestamp from the given string, optionally using the given radix.\n *\n * @method\n * @param {String} str the textual representation of the Timestamp.\n * @param {number} [opt_radix] the radix in which the text is written.\n * @return {Timestamp} the timestamp.\n */\nTimestamp.fromString = function (str, opt_radix) {\n  return new Timestamp(Long.fromString(str, opt_radix));\n};\n\nmodule.exports = Timestamp;\nmodule.exports.Timestamp = Timestamp;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\nvar g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StitchClient = exports.StitchClientFactory = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global window, fetch */\n/* eslint no-labels: ['error', { 'allowLoop': true }] */\n\n\nexports.newStitchClient = newStitchClient;\n\n__webpack_require__(23);\n\nvar _auth = __webpack_require__(31);\n\nvar _providers = __webpack_require__(22);\n\nvar _common = __webpack_require__(3);\n\nvar _services = __webpack_require__(37);\n\nvar _services2 = _interopRequireDefault(_services);\n\nvar _common2 = __webpack_require__(6);\n\nvar common = _interopRequireWildcard(_common2);\n\nvar _mongodbExtjson = __webpack_require__(18);\n\nvar _mongodbExtjson2 = _interopRequireDefault(_mongodbExtjson);\n\nvar _queryString = __webpack_require__(68);\n\nvar _queryString2 = _interopRequireDefault(_queryString);\n\nvar _errors = __webpack_require__(7);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar v1 = 1;\nvar v2 = 2;\nvar v3 = 3;\nvar API_TYPE_PUBLIC = 'public';\nvar API_TYPE_PRIVATE = 'private';\nvar API_TYPE_CLIENT = 'client';\nvar API_TYPE_APP = 'app';\n\n/**\n  * StitchClientFactory is a singleton factory class which can be used to\n  * asynchronously create instances of {@link StitchClient}. StitchClientFactory\n  * is not meant to be instantiated. Use the static `create()` method to build\n  * a new StitchClient.\n  */\n\nvar StitchClientFactory = exports.StitchClientFactory = function () {\n  /**\n   * @hideconstructor\n   */\n  function StitchClientFactory() {\n    _classCallCheck(this, StitchClientFactory);\n\n    throw new _errors.StitchError('StitchClient can only be made from the StitchClientFactory.create function');\n  }\n\n  /**\n   * Creates a new {@link StitchClient}.\n   *\n   * @param {String} clientAppID the app ID of the Stitch application, which can be found in\n   * the \"Clients\" page of the Stitch admin console.\n   * @param {Object} [options = {}] additional options for creating the {@link StitchClient}.\n   */\n\n\n  _createClass(StitchClientFactory, null, [{\n    key: 'create',\n    value: function create(clientAppID) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return newStitchClient(StitchClient.prototype, clientAppID, options);\n    }\n  }]);\n\n  return StitchClientFactory;\n}();\n\nfunction newStitchClient(prototype, clientAppID) {\n  var _v, _v2, _v3, _stitchClient$rootURL;\n\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  var stitchClient = Object.create(prototype);\n  var baseUrl = common.DEFAULT_STITCH_SERVER_URL;\n  if (options.baseUrl) {\n    baseUrl = options.baseUrl;\n  }\n\n  stitchClient.clientAppID = clientAppID;\n\n  stitchClient.authUrl = clientAppID ? baseUrl + '/api/client/v2.0/app/' + clientAppID + '/auth' : baseUrl + '/api/admin/v3.0/auth';\n\n  stitchClient.rootURLsByAPIVersion = (_stitchClient$rootURL = {}, _defineProperty(_stitchClient$rootURL, v1, (_v = {}, _defineProperty(_v, API_TYPE_PUBLIC, baseUrl + '/api/public/v1.0'), _defineProperty(_v, API_TYPE_CLIENT, baseUrl + '/api/client/v1.0'), _defineProperty(_v, API_TYPE_PRIVATE, baseUrl + '/api/private/v1.0'), _defineProperty(_v, API_TYPE_APP, clientAppID ? baseUrl + '/api/client/v1.0/app/' + clientAppID : baseUrl + '/api/public/v1.0'), _v)), _defineProperty(_stitchClient$rootURL, v2, (_v2 = {}, _defineProperty(_v2, API_TYPE_PUBLIC, baseUrl + '/api/public/v2.0'), _defineProperty(_v2, API_TYPE_CLIENT, baseUrl + '/api/client/v2.0'), _defineProperty(_v2, API_TYPE_PRIVATE, baseUrl + '/api/private/v2.0'), _defineProperty(_v2, API_TYPE_APP, clientAppID ? baseUrl + '/api/client/v2.0/app/' + clientAppID : baseUrl + '/api/public/v2.0'), _v2)), _defineProperty(_stitchClient$rootURL, v3, (_v3 = {}, _defineProperty(_v3, API_TYPE_PUBLIC, baseUrl + '/api/public/v3.0'), _defineProperty(_v3, API_TYPE_CLIENT, baseUrl + '/api/client/v3.0'), _defineProperty(_v3, API_TYPE_APP, clientAppID ? baseUrl + '/api/client/v3.0/app/' + clientAppID : baseUrl + '/api/admin/v3.0'), _v3)), _stitchClient$rootURL);\n\n  var authOptions = {\n    codec: _common.APP_CLIENT_CODEC,\n    storage: options.storage\n  };\n\n  if (options.storageType) {\n    authOptions.storageType = options.storageType;\n  }\n  if (options.platform) {\n    authOptions.platform = options.platform;\n  }\n  if (options.authCodec) {\n    authOptions.codec = options.authCodec;\n  }\n\n  var authPromise = _auth.AuthFactory.create(stitchClient, stitchClient.authUrl, authOptions);\n  return authPromise.then(function (auth) {\n    stitchClient.auth = auth;\n    return Promise.all([stitchClient.auth.handleRedirect(), stitchClient.auth.handleCookie()]);\n  }).then(function () {\n    return stitchClient;\n  });\n}\n/**\n * StitchClient is the fundamental way of communicating with MongoDB Stitch in your\n * application. Use StitchClient to authenticate users and to access Stitch services.\n * StitchClient is not meant to be instantiated directly. Use a\n * {@link StitchClientFactory} to create one.\n */\n\nvar StitchClient = exports.StitchClient = function () {\n  /**\n   * @hideconstructor\n   */\n  function StitchClient() {\n    _classCallCheck(this, StitchClient);\n\n    var classname = this.constructor.name;\n    throw new _errors.StitchError(classname + ' can only be made from the ' + classname + 'Factory.create function');\n  }\n\n  _createClass(StitchClient, [{\n    key: 'login',\n\n\n    /**\n     * Login to Stitch instance, optionally providing a username and password. In\n     * the event that these are omitted, anonymous authentication is used.\n     *\n     * @param {String} [email] the email address used for login\n     * @param {String} [password] the password for the provided email address\n     * @param {Object} [options = {}] additional authentication options\n     * @returns {Promise} which resolve to a String value: the authenticated user ID.\n     */\n    value: function login(email, password) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      if (email === undefined || password === undefined) {\n        return this.authenticate(_providers.PROVIDER_TYPE_ANON, options);\n      }\n\n      return this.authenticate('userpass', Object.assign({ username: email, password: password }, options));\n    }\n\n    /**\n     * Send a request to the server indicating the provided email would like\n     * to sign up for an account. This will trigger a confirmation email containing\n     * a token which must be used with the `emailConfirm` method of the `userpass`\n     * auth provider in order to complete registration. The user will not be able\n     * to log in until that flow has been completed.\n     *\n     * @param {String} email the email used to sign up for the app\n     * @param {String} password the password used to sign up for the app\n     * @param {Object} [options = {}] additional authentication options\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'register',\n    value: function register(email, password) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      return this.auth.provider('userpass').register(email, password, options);\n    }\n\n    /**\n     * Links the currently logged in user with another identity.\n     *\n     * @param {String} providerType the provider of the other identity (e.g. 'userpass', 'facebook', 'google')\n     * @param {Object} [options = {}] additional authentication options\n     * @returns {Promise} which resolves to a String value: the original user ID\n     */\n\n  }, {\n    key: 'linkWithProvider',\n    value: function linkWithProvider(providerType) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (!this.isAuthenticated()) {\n        throw new _errors.StitchError('Must be authenticated to link an account');\n      }\n\n      return this.auth.provider(providerType).authenticate(options, true).then(function () {\n        return _this.authedId();\n      });\n    }\n\n    /**\n     * Submits an authentication request to the specified provider providing any\n     * included options (read: user data).  If auth data already exists and the\n     * existing auth data has an access token, then these credentials are returned.\n     *\n     * @param {String} providerType the provider used for authentication (The possible\n     *                 options are 'anon', 'userpass', 'custom', 'facebook', 'google',\n     *                 and 'apiKey')\n     * @param {Object} [options = {}] additional authentication options\n     * @returns {Promise} which resolves to a String value: the authenticated user ID\n     */\n\n  }, {\n    key: 'authenticate',\n    value: function authenticate(providerType) {\n      var _this2 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      // reuse existing auth if present\n      var authenticateFn = function authenticateFn() {\n        return _this2.auth.provider(providerType).authenticate(options).then(function () {\n          return _this2.authedId();\n        });\n      };\n\n      if (this.isAuthenticated()) {\n        if (providerType === _providers.PROVIDER_TYPE_ANON && this.auth.getLoggedInProviderType() === _providers.PROVIDER_TYPE_ANON) {\n          return Promise.resolve(this.auth.authedId); // is authenticated, skip log in\n        }\n\n        return this.logout().then(function () {\n          return authenticateFn();\n        }); // will not be authenticated, continue log in\n      }\n\n      // is not authenticated, continue log in\n      return authenticateFn();\n    }\n\n    /**\n     * Ends the session for the current user, and clears auth information from storage.\n     *\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'logout',\n    value: function logout() {\n      var _this3 = this;\n\n      return this._do('/auth/session', 'DELETE', {\n        refreshOnFailure: false,\n        useRefreshToken: true,\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT]\n      }).then(function () {\n        return _this3.auth.clear();\n      }, function () {\n        return _this3.auth.clear();\n      });\n    }\n\n    /**\n     * @returns {*} Returns any error from the Stitch authentication system.\n     */\n\n  }, {\n    key: 'authError',\n    value: function authError() {\n      return this.auth.error();\n    }\n\n    /**\n     * Returns profile information for the currently logged in user.\n     *\n     * @returns {Promise} which resolves to a a JSON object containing user profile information.\n     */\n\n  }, {\n    key: 'userProfile',\n    value: function userProfile() {\n      return this._do('/auth/profile', 'GET', { rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT] }).then(function (response) {\n        return response.json();\n      });\n    }\n\n    /**\n    * @returns {Boolean} whether or not the current client is authenticated.\n    */\n\n  }, {\n    key: 'isAuthenticated',\n    value: function isAuthenticated() {\n      return !!this.authedId();\n    }\n\n    /**\n     *  @returns {String} a string of the currently authenticated user's ID.\n     */\n\n  }, {\n    key: 'authedId',\n    value: function authedId() {\n      return this.auth.authedId;\n    }\n\n    /**\n     * Factory method for accessing Stitch services.\n     *\n     * @method\n     * @param {String} type the service type (e.g. \"mongodb\", \"aws-s3\", \"aws-ses\", \"twilio\", \"http\", etc.)\n     * @param {String} name the service name specified in the Stitch admin console.\n     * @returns {Object} returns an instance of the specified service type.\n     */\n\n  }, {\n    key: 'service',\n    value: function service(type, name) {\n      if (this.constructor !== StitchClient) {\n        throw new _errors.StitchError('`service` is a factory method, do not use `new`');\n      }\n\n      if (!_services2.default.hasOwnProperty(type)) {\n        throw new _errors.StitchError('Invalid service type specified: ' + type);\n      }\n\n      var ServiceType = _services2.default[type];\n      return new ServiceType(this, name);\n    }\n\n    /**\n     * Executes a function.\n     *\n     * @param {String} name The name of the function.\n     * @param {...*} args Arguments to pass to the function.\n     */\n\n  }, {\n    key: 'executeFunction',\n    value: function executeFunction(name) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return this._doFunctionCall({\n        name: name,\n        arguments: args\n      });\n    }\n\n    /**\n     * Executes a service function.\n     *\n     * @param {String} service The name of the service.\n     * @param {String} action The name of the service action.\n     * @param {...*} args Arguments to pass to the service action.\n     */\n\n  }, {\n    key: 'executeServiceFunction',\n    value: function executeServiceFunction(service, action) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n\n      return this._doFunctionCall({\n        service: service,\n        name: action,\n        arguments: args\n      });\n    }\n  }, {\n    key: '_doFunctionCall',\n    value: function _doFunctionCall(request) {\n      var responseDecoder = function responseDecoder(d) {\n        return _mongodbExtjson2.default.parse(d, { relaxed: true });\n      };\n      var responseEncoder = function responseEncoder(d) {\n        return _mongodbExtjson2.default.stringify(d, { strict: true });\n      };\n\n      return this._do('/functions/call', 'POST', { body: responseEncoder(request) }).then(function (response) {\n        return response.text();\n      }).then(function (body) {\n        return responseDecoder(body);\n      });\n    }\n\n    /**\n     * Returns an access token for the user\n     *\n     * @private\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'doSessionPost',\n    value: function doSessionPost() {\n      return this._do('/auth/session', 'POST', {\n        refreshOnFailure: false,\n        useRefreshToken: true,\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT]\n      }).then(function (response) {\n        return response.json();\n      });\n    }\n\n    /**\n     * Returns the user API keys associated with the current user.\n     *\n     * @returns {Promise} which resolves to an array of API key objects\n     */\n\n  }, {\n    key: 'getApiKeys',\n    value: function getApiKeys() {\n      return this._do('/auth/api_keys', 'GET', {\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true\n      }).then(function (response) {\n        return response.json();\n      });\n    }\n\n    /**\n     * Creates a user API key that can be used to authenticate as the current user.\n     *\n     * @param {String} userApiKeyName a unique name for the user API key\n     * @returns {Promise} which resolves to an API key object containing the API key value\n     */\n\n  }, {\n    key: 'createApiKey',\n    value: function createApiKey(userApiKeyName) {\n      return this._do('/auth/api_keys', 'POST', { rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true,\n        body: JSON.stringify({ 'name': userApiKeyName })\n      }).then(function (response) {\n        return response.json();\n      });\n    }\n\n    /**\n     * Returns a user API key associated with the current user.\n     *\n     * @param {String} keyID the ID of the key to fetch\n     * @returns {Promise} which resolves to an API key object, although the API key value will be omitted\n     */\n\n  }, {\n    key: 'getApiKeyByID',\n    value: function getApiKeyByID(keyID) {\n      return this._do('/auth/api_keys/' + keyID, 'GET', {\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true\n      }).then(function (response) {\n        return response.json();\n      });\n    }\n\n    /**\n     * Deletes a user API key associated with the current user.\n     *\n     * @param {String} keyID the ID of the key to delete\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'deleteApiKeyByID',\n    value: function deleteApiKeyByID(keyID) {\n      return this._do('/auth/api_keys/' + keyID, 'DELETE', {\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true\n      });\n    }\n\n    /**\n     * Enables a user API key associated with the current user.\n     *\n     * @param {String} keyID the ID of the key to enable\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'enableApiKeyByID',\n    value: function enableApiKeyByID(keyID) {\n      return this._do('/auth/api_keys/' + keyID + '/enable', 'PUT', {\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true\n      });\n    }\n\n    /**\n     * Disables a user API key associated with the current user.\n     *\n     * @param {String} keyID the ID of the key to disable\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'disableApiKeyByID',\n    value: function disableApiKeyByID(keyID) {\n      return this._do('/auth/api_keys/' + keyID + '/disable', 'PUT', {\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true\n      });\n    }\n  }, {\n    key: '_fetch',\n    value: function _fetch(url, fetchArgs, resource, method, options) {\n      var _this4 = this;\n\n      return fetch(url, fetchArgs).then(function (response) {\n        // Okay: passthrough\n        if (response.status >= 200 && response.status < 300) {\n          return Promise.resolve(response);\n        }\n\n        if (response.headers.get('Content-Type') === common.JSONTYPE) {\n          return response.json().then(function (json) {\n            // Only want to try refreshing token when there's an invalid session\n            if ('error_code' in json && json.error_code === _errors.ErrInvalidSession) {\n              if (!options.refreshOnFailure) {\n                return _this4.auth.clear().then(function () {\n                  var error = new _errors.StitchError(json.error, json.error_code);\n                  error.response = response;\n                  error.json = json;\n                  throw error;\n                });\n              }\n\n              return _this4.auth.refreshToken().then(function () {\n                options.refreshOnFailure = false;\n                return _this4._do(resource, method, options);\n              });\n            }\n\n            var error = new _errors.StitchError(json.error, json.error_code);\n            error.response = response;\n            error.json = json;\n            return Promise.reject(error);\n          });\n        }\n\n        var error = new Error(response.statusText);\n        error.response = response;\n        return Promise.reject(error);\n      });\n    }\n  }, {\n    key: '_fetchArgs',\n    value: function _fetchArgs(resource, method, options) {\n      var appURL = this.rootURLsByAPIVersion[options.apiVersion][options.apiType];\n      var url = '' + appURL + resource;\n      if (options.rootURL) {\n        url = '' + options.rootURL + resource;\n      }\n      var fetchArgs = common.makeFetchArgs(method, options.body);\n\n      if (!!options.headers) {\n        Object.assign(fetchArgs.headers, options.headers);\n      }\n\n      if (options.queryParams) {\n        url = url + '?' + _queryString2.default.stringify(options.queryParams);\n      }\n\n      return { url: url, fetchArgs: fetchArgs };\n    }\n  }, {\n    key: '_do',\n    value: function _do(resource, method, options) {\n      options = Object.assign({}, {\n        refreshOnFailure: true,\n        useRefreshToken: false,\n        apiVersion: v2,\n        apiType: API_TYPE_APP,\n        rootURL: undefined\n      }, options);\n\n      var _fetchArgs2 = this._fetchArgs(resource, method, options),\n          url = _fetchArgs2.url,\n          fetchArgs = _fetchArgs2.fetchArgs;\n\n      if (options.noAuth) {\n        return this._fetch(url, fetchArgs, resource, method, options);\n      }\n\n      if (!this.isAuthenticated()) {\n        return Promise.reject(new _errors.StitchError('Must auth first', _errors.ErrUnauthorized));\n      }\n      var token = options.useRefreshToken ? this.auth.getRefreshToken() : this.auth.getAccessToken();\n\n      fetchArgs.headers.Authorization = 'Bearer ' + token;\n      return this._fetch(url, fetchArgs, resource, method, options);\n    }\n  }, {\n    key: 'type',\n    get: function get() {\n      return common.APP_CLIENT_TYPE;\n    }\n  }]);\n\n  return StitchClient;\n}();\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar ExtJSON = __webpack_require__(56);\n\nmodule.exports = ExtJSON;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * A class representation of a BSON Int32 type.\n *\n * @class\n * @param {number} value the number we want to represent as an int32.\n * @return {Int32}\n */\n\nvar Int32 = function Int32(value) {\n  if (!(this instanceof Int32)) return new Int32(value);\n\n  this._bsontype = 'Int32';\n  this.value = value;\n};\n\n/**\n * Access the number value.\n *\n * @method\n * @return {number} returns the wrapped int32 number.\n */\nInt32.prototype.valueOf = function () {\n  return this.value;\n};\n\n/**\n * @ignore\n */\nInt32.prototype.toJSON = function () {\n  return this.value;\n};\n\nmodule.exports = Int32;\nmodule.exports.Int32 = Int32;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\n// We have an ES6 Map available, return the native instance\n\nif (typeof global.Map !== 'undefined') {\n  module.exports = global.Map;\n  module.exports.Map = global.Map;\n} else {\n  // We will return a polyfill\n  var Map = function Map(array) {\n    this._keys = [];\n    this._values = {};\n\n    for (var i = 0; i < array.length; i++) {\n      if (array[i] == null) continue; // skip null and undefined\n      var entry = array[i];\n      var key = entry[0];\n      var value = entry[1];\n      // Add the key to the list of keys in order\n      this._keys.push(key);\n      // Add the key and value to the values dictionary with a point\n      // to the location in the ordered keys list\n      this._values[key] = { v: value, i: this._keys.length - 1 };\n    }\n  };\n\n  Map.prototype.clear = function () {\n    this._keys = [];\n    this._values = {};\n  };\n\n  Map.prototype.delete = function (key) {\n    var value = this._values[key];\n    if (value == null) return false;\n    // Delete entry\n    delete this._values[key];\n    // Remove the key from the ordered keys list\n    this._keys.splice(value.i, 1);\n    return true;\n  };\n\n  Map.prototype.entries = function () {\n    var self = this;\n    var index = 0;\n\n    return {\n      next: function next() {\n        var key = self._keys[index++];\n        return {\n          value: key !== undefined ? [key, self._values[key].v] : undefined,\n          done: key !== undefined ? false : true\n        };\n      }\n    };\n  };\n\n  Map.prototype.forEach = function (callback, self) {\n    self = self || this;\n\n    for (var i = 0; i < this._keys.length; i++) {\n      var key = this._keys[i];\n      // Call the forEach callback\n      callback.call(self, this._values[key].v, key, self);\n    }\n  };\n\n  Map.prototype.get = function (key) {\n    return this._values[key] ? this._values[key].v : undefined;\n  };\n\n  Map.prototype.has = function (key) {\n    return this._values[key] != null;\n  };\n\n  Map.prototype.keys = function () {\n    var self = this;\n    var index = 0;\n\n    return {\n      next: function next() {\n        var key = self._keys[index++];\n        return {\n          value: key !== undefined ? key : undefined,\n          done: key !== undefined ? false : true\n        };\n      }\n    };\n  };\n\n  Map.prototype.set = function (key, value) {\n    if (this._values[key]) {\n      this._values[key].v = value;\n      return this;\n    }\n\n    // Add the key to the list of keys in order\n    this._keys.push(key);\n    // Add the key and value to the values dictionary with a point\n    // to the location in the ordered keys list\n    this._values[key] = { v: value, i: this._keys.length - 1 };\n    return this;\n  };\n\n  Map.prototype.values = function () {\n    var self = this;\n    var index = 0;\n\n    return {\n      next: function next() {\n        var key = self._keys[index++];\n        return {\n          value: key !== undefined ? self._values[key].v : undefined,\n          done: key !== undefined ? false : true\n        };\n      }\n    };\n  };\n\n  // Last ismaster\n  Object.defineProperty(Map.prototype, 'size', {\n    enumerable: true,\n    get: function get() {\n      return this._keys.length;\n    }\n  });\n\n  module.exports = Map;\n  module.exports.Map = Map;\n}\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(16)))\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * A class representation of the BSON Symbol type.\n *\n * @class\n * @deprecated\n * @param {string} value the string representing the symbol.\n * @return {Symbol}\n */\n\nfunction _Symbol(value) {\n  if (!(this instanceof _Symbol)) return new _Symbol(value);\n  this._bsontype = 'Symbol';\n  this.value = value;\n}\n\n/**\n * Access the wrapped string value.\n *\n * @method\n * @return {String} returns the wrapped string.\n */\n_Symbol.prototype.valueOf = function () {\n  return this.value;\n};\n\n/**\n * @ignore\n */\n_Symbol.prototype.toString = function () {\n  return this.value;\n};\n\n/**\n * @ignore\n */\n_Symbol.prototype.inspect = function () {\n  return this.value;\n};\n\n/**\n * @ignore\n */\n_Symbol.prototype.toJSON = function () {\n  return this.value;\n};\n\nmodule.exports = _Symbol;\nmodule.exports.Symbol = _Symbol;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createProviders = exports.PROVIDER_TYPE_MONGODB_CLOUD = exports.PROVIDER_TYPE_FACEBOOK = exports.PROVIDER_TYPE_GOOGLE = exports.PROVIDER_TYPE_APIKEY = exports.PROVIDER_TYPE_USERPASS = exports.PROVIDER_TYPE_CUSTOM = exports.PROVIDER_TYPE_ANON = undefined;\n\nvar _common = __webpack_require__(6);\n\nvar common = _interopRequireWildcard(_common);\n\nvar _common2 = __webpack_require__(3);\n\nvar authCommon = _interopRequireWildcard(_common2);\n\nvar _util = __webpack_require__(2);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; } /**\n                                                                                                                                                                                                                   * @private\n                                                                                                                                                                                                                   * @module auth\n                                                                                                                                                                                                                   */\n\n\nvar PROVIDER_TYPE_ANON = exports.PROVIDER_TYPE_ANON = 'anon';\nvar PROVIDER_TYPE_CUSTOM = exports.PROVIDER_TYPE_CUSTOM = 'custom';\nvar PROVIDER_TYPE_USERPASS = exports.PROVIDER_TYPE_USERPASS = 'userpass';\nvar PROVIDER_TYPE_APIKEY = exports.PROVIDER_TYPE_APIKEY = 'apiKey';\nvar PROVIDER_TYPE_GOOGLE = exports.PROVIDER_TYPE_GOOGLE = 'google';\nvar PROVIDER_TYPE_FACEBOOK = exports.PROVIDER_TYPE_FACEBOOK = 'facebook';\nvar PROVIDER_TYPE_MONGODB_CLOUD = exports.PROVIDER_TYPE_MONGODB_CLOUD = 'mongodbCloud';\n\nfunction urlWithLinkParam(url, link) {\n  if (link) {\n    return url + '?link=true';\n  }\n\n  return url;\n}\n\n/**\n * @private\n * @namespace\n */\nfunction anonProvider(auth) {\n  return {\n    /**\n     * Login to a stitch application using anonymous authentication\n     *\n     * @memberof anonProvider\n     * @instance\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: function authenticate(options, link) {\n      var deviceId = auth.getDeviceId();\n      var device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n      var fetchArgs = common.makeFetchArgs('GET');\n      fetchArgs.cors = true;\n\n      return fetch(urlWithLinkParam(auth.rootUrl + '/providers/anon-user/login?device=' + (0, _util.uriEncodeObject)(device), link), auth.fetchArgsWithLink(fetchArgs, link)).then(common.checkStatus).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        return auth.set(json, PROVIDER_TYPE_ANON);\n      });\n    }\n  };\n}\n\n/**\n  * @private\n  * @namespace\n  */\nfunction customProvider(auth) {\n  var providerRoute = 'providers/custom-token';\n  var loginRoute = providerRoute + '/login';\n\n  return {\n    /**\n     * Login to a stitch application using custom authentication\n     *\n     * @memberof customProvider\n     * @instance\n     * @param {String} JWT token to use for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: function authenticate(token, link) {\n      var deviceId = auth.getDeviceId();\n      var device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n\n      var fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ token: token, options: { device: device } }));\n      fetchArgs.cors = true;\n\n      return fetch(urlWithLinkParam(auth.rootUrl + '/' + loginRoute, link), auth.fetchArgsWithLink(fetchArgs, link)).then(common.checkStatus).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        return auth.set(json, PROVIDER_TYPE_CUSTOM);\n      });\n    }\n  };\n}\n\n/**\n * userPassProvider offers several methods for completing certain tasks necessary for email/password\n * authentication. userPassProvider cannot be instantiated directly. To instantiate,\n * use `.auth.providers('userpass')` on a {@link StitchClient}.\n *\n * @namespace\n */\nfunction userPassProvider(auth) {\n  // The ternary expression here is redundant but is just preserving previous behavior based on whether or not\n  // the client is for the admin or client API.\n  var providerRoute = auth.isAppClient() ? 'providers/local-userpass' : 'providers/local-userpass';\n  var loginRoute = auth.isAppClient() ? providerRoute + '/login' : providerRoute + '/login';\n\n  return {\n    /**\n     * Login to a stitch application using username and password authentication\n     *\n     * @private\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} username the username to use for authentication\n     * @param {String} password the password to use for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: function authenticate(_ref, link) {\n      var username = _ref.username,\n          password = _ref.password;\n\n      var deviceId = auth.getDeviceId();\n      var device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n\n      var fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ username: username, password: password, options: { device: device } }));\n      fetchArgs.cors = true;\n\n      return fetch(urlWithLinkParam(auth.rootUrl + '/' + loginRoute, link), auth.fetchArgsWithLink(fetchArgs, link)).then(common.checkStatus).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        return auth.set(json, PROVIDER_TYPE_USERPASS);\n      });\n    },\n\n    /**\n     * Completes the email confirmation workflow from the Stitch server\n     *\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} tokenId the tokenId provided by the Stitch server\n     * @param {String} token the token provided by the Stitch server\n     * @returns {Promise}\n     */\n    emailConfirm: function emailConfirm(tokenId, token) {\n      var fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ tokenId: tokenId, token: token }));\n      fetchArgs.cors = true;\n\n      return fetch(auth.rootUrl + '/' + providerRoute + '/confirm', fetchArgs).then(common.checkStatus).then(function (response) {\n        return response.json();\n      });\n    },\n\n    /**\n     * Request that the stitch server send another email confirmation\n     * for account creation.\n     *\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} email the email address to send a confirmation email for\n     * @returns {Promise}\n     */\n    sendEmailConfirm: function sendEmailConfirm(email) {\n      var fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ email: email }));\n      fetchArgs.cors = true;\n\n      return fetch(auth.rootUrl + '/' + providerRoute + '/confirm/send', fetchArgs).then(common.checkStatus).then(function (response) {\n        return response.json();\n      });\n    },\n\n    /**\n     * Sends a password reset request to the Stitch server\n     *\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} email the email address of the account to reset the password for\n     * @returns {Promise}\n     */\n    sendPasswordReset: function sendPasswordReset(email) {\n      var fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ email: email }));\n      fetchArgs.cors = true;\n\n      return fetch(auth.rootUrl + '/' + providerRoute + '/reset/send', fetchArgs).then(common.checkStatus).then(function (response) {\n        return response.json();\n      });\n    },\n\n    /**\n     * Use information returned from the Stitch server to complete the password\n     * reset flow for a given email account, providing a new password for the account.\n     *\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} tokenId the tokenId provided by the Stitch server\n     * @param {String} token the token provided by the Stitch server\n     * @param {String} password the new password requested for this account\n     * @returns {Promise}\n     */\n    passwordReset: function passwordReset(tokenId, token, password) {\n      var fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ tokenId: tokenId, token: token, password: password }));\n      fetchArgs.cors = true;\n\n      return fetch(auth.rootUrl + '/' + providerRoute + '/reset', fetchArgs).then(common.checkStatus).then(function (response) {\n        return response.json();\n      });\n    },\n\n    /**\n     * Will trigger an email to the requested account containing a link with the\n     * token and tokenId that must be returned to the server using emailConfirm()\n     * to activate the account.\n     *\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} email the requested email for the account\n     * @param {String} password the requested password for the account\n     * @returns {Promise}\n     */\n    register: function register(email, password) {\n      var fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ email: email, password: password }));\n      fetchArgs.cors = true;\n\n      return fetch(auth.rootUrl + '/' + providerRoute + '/register', fetchArgs).then(common.checkStatus).then(function (response) {\n        return response.json();\n      });\n    }\n  };\n}\n\n/**\n * @private\n * @namespace\n */\nfunction apiKeyProvider(auth) {\n  // The ternary expression here is redundant but is just preserving previous behavior based on whether or not\n  // the client is for the admin or client API.\n  var loginRoute = auth.isAppClient() ? 'providers/api-key/login' : 'providers/api-key/login';\n\n  return {\n    /**\n     * Login to a stitch application using an api key\n     *\n     * @memberof apiKeyProvider\n     * @instance\n     * @param {String} key the key for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: function authenticate(key, link) {\n      var deviceId = auth.getDeviceId();\n      var device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n      var fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ 'key': key, 'options': { device: device } }));\n      fetchArgs.cors = true;\n\n      return fetch(urlWithLinkParam(auth.rootUrl + '/' + loginRoute, link), auth.fetchArgsWithLink(fetchArgs, link)).then(common.checkStatus).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        return auth.set(json, PROVIDER_TYPE_APIKEY);\n      });\n    }\n  };\n}\n\n// The state we generate is to be used for any kind of request where we will\n// complete an authentication flow via a redirect. We store the generate in\n// a local storage bound to the app's origin. This ensures that any time we\n// receive a redirect, there must be a state parameter and it must match\n// what we ourselves have generated. This state MUST only be sent to\n// a trusted Stitch endpoint in order to preserve its integrity. Stitch will\n// store it in some way on its origin (currently a cookie stored on this client)\n// and use that state at the end of an auth flow as a parameter in the redirect URI.\nvar alpha = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\nfunction generateState() {\n  var state = '';\n  for (var i = 0; i < 64; ++i) {\n    state += alpha.charAt(Math.floor(Math.random() * alpha.length));\n  }\n\n  return state;\n}\n\nfunction getOAuthLoginURL(auth, providerName, redirectUrl) {\n  if (redirectUrl === undefined) {\n    redirectUrl = auth.pageRootUrl();\n  }\n\n  var state = generateState();\n  return auth.storage.set(authCommon.STATE_KEY, state).then(function () {\n    return auth.getDeviceId();\n  }).then(function (deviceId) {\n    var device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n\n    var result = auth.rootUrl + '/providers/oauth2-' + providerName + '/login?redirect=' + encodeURI(redirectUrl) + '&state=' + state + '&device=' + (0, _util.uriEncodeObject)(device);\n    return result;\n  });\n}\n\n/**\n * @private\n * @namespace\n */\nfunction googleProvider(auth) {\n  var loginRoute = auth.isAppClient() ? 'providers/oauth2-google/login' : 'providers/oauth2-google/login';\n\n  return {\n    /**\n     * Login to a stitch application using google authentication\n     *\n     * @memberof googleProvider\n     * @instance\n     * @param {Object} data the redirectUrl data to use for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: function authenticate(data, link) {\n      var authCode = data.authCode;\n\n      if (authCode) {\n        var deviceId = auth.getDeviceId();\n        var device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n\n        var fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ authCode: authCode, options: { device: device } }));\n\n        return fetch(urlWithLinkParam(auth.rootUrl + '/' + loginRoute, link), auth.fetchArgsWithLink(fetchArgs, link)).then(common.checkStatus).then(function (response) {\n          return response.json();\n        }).then(function (json) {\n          return auth.set(json, PROVIDER_TYPE_GOOGLE);\n        });\n      }\n\n      var redirectUrl = data && data.redirectUrl ? data.redirectUrl : undefined;\n      return auth.storage.set(authCommon.STITCH_REDIRECT_PROVIDER, PROVIDER_TYPE_GOOGLE).then(function () {\n        return getOAuthLoginURL(auth, PROVIDER_TYPE_GOOGLE, redirectUrl);\n      }).then(function (res) {\n        return window.location.replace(res);\n      });\n    }\n  };\n}\n\n/**\n * @private\n * @namespace\n */\nfunction facebookProvider(auth) {\n  var loginRoute = auth.isAppClient() ? 'providers/oauth2-facebook/login' : 'providers/oauth2-facebook/login';\n\n  return {\n    /**\n     * Login to a stitch application using facebook authentication\n     *\n     * @memberof facebookProvider\n     * @instance\n     * @param {Object} data the redirectUrl data to use for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: function authenticate(data, link) {\n      var accessToken = data.accessToken;\n\n\n      if (accessToken) {\n        var deviceId = auth.getDeviceId();\n        var device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n\n        var fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ accessToken: accessToken, options: { device: device } }));\n\n        return fetch(urlWithLinkParam(auth.rootUrl + '/' + loginRoute, link), auth.fetchArgsWithLink(fetchArgs, link)).then(common.checkStatus).then(function (response) {\n          return response.json();\n        }).then(function (json) {\n          return auth.set(json, PROVIDER_TYPE_FACEBOOK);\n        });\n      }\n\n      var redirectUrl = data && data.redirectUrl ? data.redirectUrl : undefined;\n      return auth.storage.set(authCommon.STITCH_REDIRECT_PROVIDER, PROVIDER_TYPE_FACEBOOK).then(function () {\n        return getOAuthLoginURL(auth, PROVIDER_TYPE_FACEBOOK, redirectUrl);\n      }).then(function (res) {\n        return window.location.replace(res);\n      });\n    }\n  };\n}\n\n/**\n * @private\n * @namespace\n */\nfunction mongodbCloudProvider(auth) {\n  // The ternary expression here is redundant but is just preserving previous behavior based on whether or not\n  // the client is for the admin or client API.\n  var loginRoute = auth.isAppClient() ? 'providers/mongodb-cloud/login' : 'providers/mongodb-cloud/login';\n\n  return {\n    /**\n     * Login to a stitch application using mongodb cloud authentication\n     *\n     * @memberof mongodbCloudProvider\n     * @instance\n     * @param {Object} data the username, apiKey, cors, and cookie data to use for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: function authenticate(data, link) {\n      var username = data.username,\n          apiKey = data.apiKey,\n          cors = data.cors,\n          cookie = data.cookie;\n\n      var options = Object.assign({}, { cors: true, cookie: false }, { cors: cors, cookie: cookie });\n      var deviceId = auth.getDeviceId();\n      var device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n      var fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ username: username, apiKey: apiKey, options: { device: device } }));\n      fetchArgs.cors = true; // TODO: shouldn't this use the passed in `cors` value?\n      fetchArgs.credentials = 'include';\n\n      var url = urlWithLinkParam(auth.rootUrl + '/' + loginRoute, link);\n      if (options.cookie) {\n        return fetch(url + '?cookie=true', fetchArgs).then(common.checkStatus);\n      }\n\n      return fetch(url, auth.fetchArgsWithLink(fetchArgs, link)).then(common.checkStatus).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        return auth.set(json, PROVIDER_TYPE_MONGODB_CLOUD);\n      });\n    }\n  };\n}\n\n// TODO: support auth-specific options\nfunction createProviders(auth) {\n  var _ref2;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return _ref2 = {}, _defineProperty(_ref2, PROVIDER_TYPE_ANON, anonProvider(auth)), _defineProperty(_ref2, PROVIDER_TYPE_APIKEY, apiKeyProvider(auth)), _defineProperty(_ref2, PROVIDER_TYPE_GOOGLE, googleProvider(auth)), _defineProperty(_ref2, PROVIDER_TYPE_FACEBOOK, facebookProvider(auth)), _defineProperty(_ref2, PROVIDER_TYPE_MONGODB_CLOUD, mongodbCloudProvider(auth)), _defineProperty(_ref2, PROVIDER_TYPE_USERPASS, userPassProvider(auth)), _defineProperty(_ref2, PROVIDER_TYPE_CUSTOM, customProvider(auth)), _ref2;\n}\n\nexports.createProviders = createProviders;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// the whatwg-fetch polyfill installs the fetch() function\n// on the global object (window or self)\n//\n// Return that as the export for use in Webpack, Browserify etc.\n__webpack_require__(70);\nvar globalObj = typeof self !== 'undefined' && self || this;\nmodule.exports = globalObj.fetch.bind(globalObj);\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StitchAdminClient = exports.StitchAdminClientFactory = undefined;\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global window, fetch */\n/* eslint no-labels: ['error', { 'allowLoop': true }] */\n\n\n__webpack_require__(23);\n\nvar _client = __webpack_require__(17);\n\nvar _common = __webpack_require__(6);\n\nvar _common2 = _interopRequireDefault(_common);\n\nvar _common3 = __webpack_require__(3);\n\nvar _errors = __webpack_require__(7);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar v3 = 3;\n\n/** @private **/\n\nvar StitchAdminClientFactory = exports.StitchAdminClientFactory = function () {\n  function StitchAdminClientFactory() {\n    _classCallCheck(this, StitchAdminClientFactory);\n\n    throw new _errors.StitchError('StitchAdminClient can only be made from the StitchAdminClientFactory.create function');\n  }\n\n  _createClass(StitchAdminClientFactory, null, [{\n    key: 'create',\n    value: function create(baseUrl) {\n      return (0, _client.newStitchClient)(StitchAdminClient.prototype, '', { baseUrl: baseUrl, authCodec: _common3.ADMIN_CLIENT_CODEC });\n    }\n  }]);\n\n  return StitchAdminClientFactory;\n}();\n\n/** @private */\n\n\nvar StitchAdminClient = exports.StitchAdminClient = function (_StitchClient) {\n  _inherits(StitchAdminClient, _StitchClient);\n\n  function StitchAdminClient() {\n    _classCallCheck(this, StitchAdminClient);\n\n    return _possibleConstructorReturn(this, (StitchAdminClient.__proto__ || Object.getPrototypeOf(StitchAdminClient)).call(this));\n  }\n\n  _createClass(StitchAdminClient, [{\n    key: 'logout',\n\n\n    /**\n     * Ends the session for the current user.\n     *\n     * @returns {Promise}\n     */\n    value: function logout() {\n      var _this2 = this;\n\n      return _get(StitchAdminClient.prototype.__proto__ || Object.getPrototypeOf(StitchAdminClient.prototype), '_do', this).call(this, '/auth/session', 'DELETE', { refreshOnFailure: false, useRefreshToken: true, apiVersion: v3 }).then(function () {\n        return _this2.auth.clear();\n      });\n    }\n\n    /**\n     * Returns profile information for the currently logged in user\n     *\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'userProfile',\n    value: function userProfile() {\n      return this._v3._get('/auth/profile');\n    }\n\n    /**\n     * Returns available providers for the currently logged in admin\n     *\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'getAuthProviders',\n    value: function getAuthProviders() {\n      return _get(StitchAdminClient.prototype.__proto__ || Object.getPrototypeOf(StitchAdminClient.prototype), '_do', this).call(this, '/auth/providers', 'GET', { noAuth: true, apiVersion: v3 }).then(function (response) {\n        return response.json();\n      });\n    }\n\n    /**\n     * Returns an access token for the user\n     *\n     * @returns {Promise}\n     */\n\n  }, {\n    key: 'doSessionPost',\n    value: function doSessionPost() {\n      return _get(StitchAdminClient.prototype.__proto__ || Object.getPrototypeOf(StitchAdminClient.prototype), '_do', this).call(this, '/auth/session', 'POST', { refreshOnFailure: false, useRefreshToken: true, apiVersion: v3 }).then(function (response) {\n        return response.json();\n      });\n    }\n\n    /* Examples of how to access admin API with this client:\n     *\n     * List all apps\n     *    a.apps('580e6d055b199c221fcb821c').list()\n     *\n     * Fetch app under name 'planner'\n     *    a.apps('580e6d055b199c221fcb821c').app('planner').get()\n     *\n     * List services under the app 'planner'\n     *    a.apps('580e6d055b199c221fcb821c').app('planner').services().list()\n     *\n     * Delete a rule by ID\n     *    a.apps('580e6d055b199c221fcb821c').app('planner').services().service('mdb1').rules().rule('580e6d055b199c221fcb821d').remove()\n     *\n     */\n\n  }, {\n    key: 'apps',\n    value: function apps(groupId) {\n      var api = this._v3;\n      var groupUrl = '/groups/' + groupId + '/apps';\n      return {\n        list: function list() {\n          return api._get(groupUrl);\n        },\n        create: function create(data, options) {\n          var query = options && options.defaults ? '?defaults=true' : '';\n          return api._post(groupUrl + query, data);\n        },\n\n        app: function app(appId) {\n          var appUrl = groupUrl + '/' + appId;\n          return {\n            get: function get() {\n              return api._get(appUrl);\n            },\n            remove: function remove() {\n              return api._delete(appUrl);\n            },\n\n            export: function _export() {\n              return api._get(appUrl + '/export');\n            },\n\n            measurements: function measurements(filter) {\n              return api._get(appUrl + '/measurements', filter);\n            },\n\n            values: function values() {\n              return {\n                list: function list() {\n                  return api._get(appUrl + '/values');\n                },\n                create: function create(data) {\n                  return api._post(appUrl + '/values', data);\n                },\n                value: function value(valueId) {\n                  var valueUrl = appUrl + '/values/' + valueId;\n                  return {\n                    get: function get() {\n                      return api._get(valueUrl);\n                    },\n                    remove: function remove() {\n                      return api._delete(valueUrl);\n                    },\n                    update: function update(data) {\n                      return api._put(valueUrl, data);\n                    }\n                  };\n                }\n              };\n            },\n\n            services: function services() {\n              return {\n                list: function list() {\n                  return api._get(appUrl + '/services');\n                },\n                create: function create(data) {\n                  return api._post(appUrl + '/services', data);\n                },\n                service: function service(serviceId) {\n                  return {\n                    get: function get() {\n                      return api._get(appUrl + '/services/' + serviceId);\n                    },\n                    remove: function remove() {\n                      return api._delete(appUrl + '/services/' + serviceId);\n                    },\n                    update: function update(data) {\n                      return api._patch(appUrl + '/services/' + serviceId, data);\n                    },\n                    runCommand: function runCommand(commandName, data) {\n                      return api._post(appUrl + '/services/' + serviceId + '/commands/' + commandName, data);\n                    },\n                    config: function config() {\n                      return {\n                        get: function get() {\n                          return api._get(appUrl + '/services/' + serviceId + '/config');\n                        },\n                        update: function update(data) {\n                          return api._patch(appUrl + '/services/' + serviceId + '/config', data);\n                        }\n                      };\n                    },\n\n                    rules: function rules() {\n                      return {\n                        list: function list() {\n                          return api._get(appUrl + '/services/' + serviceId + '/rules');\n                        },\n                        create: function create(data) {\n                          return api._post(appUrl + '/services/' + serviceId + '/rules', data);\n                        },\n                        rule: function rule(ruleId) {\n                          var ruleUrl = appUrl + '/services/' + serviceId + '/rules/' + ruleId;\n                          return {\n                            get: function get() {\n                              return api._get(ruleUrl);\n                            },\n                            update: function update(data) {\n                              return api._put(ruleUrl, data);\n                            },\n                            remove: function remove() {\n                              return api._delete(ruleUrl);\n                            }\n                          };\n                        }\n                      };\n                    },\n\n                    incomingWebhooks: function incomingWebhooks() {\n                      return {\n                        list: function list() {\n                          return api._get(appUrl + '/services/' + serviceId + '/incoming_webhooks');\n                        },\n                        create: function create(data) {\n                          return api._post(appUrl + '/services/' + serviceId + '/incoming_webhooks', data);\n                        },\n                        incomingWebhook: function incomingWebhook(incomingWebhookId) {\n                          var webhookUrl = appUrl + '/services/' + serviceId + '/incoming_webhooks/' + incomingWebhookId;\n                          return {\n                            get: function get() {\n                              return api._get(webhookUrl);\n                            },\n                            update: function update(data) {\n                              return api._put(webhookUrl, data);\n                            },\n                            remove: function remove() {\n                              return api._delete(webhookUrl);\n                            }\n                          };\n                        }\n                      };\n                    }\n                  };\n                }\n              };\n            },\n\n            pushNotifications: function pushNotifications() {\n              return {\n                list: function list(filter) {\n                  return api._get(appUrl + '/push/notifications', filter);\n                },\n                create: function create(data) {\n                  return api._post(appUrl + '/push/notifications', data);\n                },\n                pushNotification: function pushNotification(messageId) {\n                  return {\n                    get: function get() {\n                      return api._get(appUrl + '/push/notifications/' + messageId);\n                    },\n                    update: function update(data) {\n                      return api._put(appUrl + '/push/notifications/' + messageId, data);\n                    },\n                    remove: function remove() {\n                      return api._delete(appUrl + '/push/notifications/' + messageId);\n                    },\n                    send: function send() {\n                      return api._post(appUrl + '/push/notifications/' + messageId + '/send');\n                    }\n                  };\n                }\n              };\n            },\n\n            users: function users() {\n              return {\n                list: function list(filter) {\n                  return api._get(appUrl + '/users', filter);\n                },\n                create: function create(user) {\n                  return api._post(appUrl + '/users', user);\n                },\n                user: function user(uid) {\n                  return {\n                    get: function get() {\n                      return api._get(appUrl + '/users/' + uid);\n                    },\n                    devices: function devices() {\n                      return {\n                        get: function get() {\n                          return api._get(appUrl + '/users/' + uid + '/devices');\n                        }\n                      };\n                    },\n                    logout: function logout() {\n                      return api._put(appUrl + '/users/' + uid + '/logout');\n                    },\n                    enable: function enable() {\n                      return api._put(appUrl + '/users/' + uid + '/enable');\n                    },\n                    disable: function disable() {\n                      return api._put(appUrl + '/users/' + uid + '/disable');\n                    },\n                    remove: function remove() {\n                      return api._delete(appUrl + '/users/' + uid);\n                    }\n                  };\n                }\n              };\n            },\n\n            userRegistrations: function userRegistrations() {\n              return {\n                sendConfirmationEmail: function sendConfirmationEmail(email) {\n                  return api._post(appUrl + '/user_registrations/by_email/' + email + '/send_confirm');\n                }\n              };\n            },\n\n            debug: function debug() {\n              return {\n                executeFunction: function executeFunction(userId) {\n                  for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n                    args[_key - 2] = arguments[_key];\n                  }\n\n                  var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n                  return api._post(appUrl + '/debug/execute_function', { name: name, 'arguments': args }, { user_id: userId });\n                },\n                executeFunctionSource: function executeFunctionSource(_ref) {\n                  var userId = _ref.userId,\n                      _ref$source = _ref.source,\n                      source = _ref$source === undefined ? '' : _ref$source,\n                      _ref$evalSource = _ref.evalSource,\n                      evalSource = _ref$evalSource === undefined ? '' : _ref$evalSource,\n                      runAsSystem = _ref.runAsSystem;\n\n                  return api._post(appUrl + '/debug/execute_function_source', { source: source, 'eval_source': evalSource }, { user_id: userId, run_as_system: runAsSystem });\n                }\n              };\n            },\n\n            authProviders: function authProviders() {\n              return {\n                list: function list() {\n                  return api._get(appUrl + '/auth_providers');\n                },\n                create: function create(data) {\n                  return api._post(appUrl + '/auth_providers', data);\n                },\n                authProvider: function authProvider(providerId) {\n                  return {\n                    get: function get() {\n                      return api._get(appUrl + '/auth_providers/' + providerId);\n                    },\n                    update: function update(data) {\n                      return api._patch(appUrl + '/auth_providers/' + providerId, data);\n                    },\n                    enable: function enable() {\n                      return api._put(appUrl + '/auth_providers/' + providerId + '/enable');\n                    },\n                    disable: function disable() {\n                      return api._put(appUrl + '/auth_providers/' + providerId + '/disable');\n                    },\n                    remove: function remove() {\n                      return api._delete(appUrl + '/auth_providers/' + providerId);\n                    }\n                  };\n                }\n              };\n            },\n\n            security: function security() {\n              return {\n                allowedRequestOrigins: function allowedRequestOrigins() {\n                  return {\n                    get: function get() {\n                      return api._get(appUrl + '/security/allowed_request_origins');\n                    },\n                    update: function update(data) {\n                      return api._post(appUrl + '/security/allowed_request_origins', data);\n                    }\n                  };\n                }\n              };\n            },\n\n            logs: function logs() {\n              return {\n                list: function list(filter) {\n                  return api._get(appUrl + '/logs', filter);\n                }\n              };\n            },\n\n            apiKeys: function apiKeys() {\n              return {\n                list: function list() {\n                  return api._get(appUrl + '/api_keys');\n                },\n                create: function create(data) {\n                  return api._post(appUrl + '/api_keys', data);\n                },\n                apiKey: function apiKey(apiKeyId) {\n                  return {\n                    get: function get() {\n                      return api._get(appUrl + '/api_keys/' + apiKeyId);\n                    },\n                    remove: function remove() {\n                      return api._delete(appUrl + '/api_keys/' + apiKeyId);\n                    },\n                    enable: function enable() {\n                      return api._put(appUrl + '/api_keys/' + apiKeyId + '/enable');\n                    },\n                    disable: function disable() {\n                      return api._put(appUrl + '/api_keys/' + apiKeyId + '/disable');\n                    }\n                  };\n                }\n              };\n            },\n\n            functions: function functions() {\n              return {\n                list: function list() {\n                  return api._get(appUrl + '/functions');\n                },\n                create: function create(data) {\n                  return api._post(appUrl + '/functions', data);\n                },\n                function: function _function(functionId) {\n                  return {\n                    get: function get() {\n                      return api._get(appUrl + '/functions/' + functionId);\n                    },\n                    update: function update(data) {\n                      return api._put(appUrl + '/functions/' + functionId, data);\n                    },\n                    remove: function remove() {\n                      return api._delete(appUrl + '/functions/' + functionId);\n                    }\n                  };\n                }\n              };\n            },\n\n            eventSubscriptions: function eventSubscriptions() {\n              return {\n                list: function list() {\n                  return api._get(appUrl + '/event_subscriptions');\n                },\n                create: function create(data) {\n                  return api._post(appUrl + '/event_subscriptions', data);\n                },\n                eventSubscription: function eventSubscription(eventSubscriptionId) {\n                  return {\n                    get: function get() {\n                      return api._get(appUrl + '/event_subscriptions/' + eventSubscriptionId);\n                    },\n                    update: function update(data) {\n                      return api._put(appUrl + '/event_subscriptions/' + eventSubscriptionId, data);\n                    },\n                    remove: function remove() {\n                      return api._delete(appUrl + '/event_subscriptions/' + eventSubscriptionId);\n                    },\n                    resume: function resume() {\n                      return api._put(appUrl + '/event_subscriptions/' + eventSubscriptionId + '/resume');\n                    }\n                  };\n                }\n              };\n            }\n          };\n        }\n      };\n    }\n  }, {\n    key: 'type',\n    get: function get() {\n      return _common2.default;\n    }\n  }, {\n    key: '_v3',\n    get: function get() {\n      var _this3 = this;\n\n      var v3do = function v3do(url, method, options) {\n        return _get(StitchAdminClient.prototype.__proto__ || Object.getPrototypeOf(StitchAdminClient.prototype), '_do', _this3).call(_this3, url, method, Object.assign({}, { apiVersion: v3 }, options)).then(function (response) {\n          var contentHeader = response.headers.get('content-type') || '';\n          if (contentHeader.split(',').indexOf('application/json') >= 0) {\n            return response.json();\n          }\n          return response;\n        });\n      };\n\n      return {\n        _get: function _get(url, queryParams) {\n          return v3do(url, 'GET', { queryParams: queryParams });\n        },\n        _put: function _put(url, data) {\n          return data ? v3do(url, 'PUT', { body: JSON.stringify(data) }) : v3do(url, 'PUT');\n        },\n        _patch: function _patch(url, data) {\n          return data ? v3do(url, 'PATCH', { body: JSON.stringify(data) }) : v3do(url, 'PATCH');\n        },\n        _delete: function _delete(url) {\n          return v3do(url, 'DELETE');\n        },\n        _post: function _post(url, body, queryParams) {\n          return queryParams ? v3do(url, 'POST', { body: JSON.stringify(body), queryParams: queryParams }) : v3do(url, 'POST', { body: JSON.stringify(body) });\n        }\n      };\n    }\n  }]);\n\n  return StitchAdminClient;\n}(_client.StitchClient);\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n;(function () {\n\n  var object =\n     true ? exports :\n    typeof self != 'undefined' ? self : // #8: web workers\n    $.global; // #31: ExtendScript\n\n  var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n  function InvalidCharacterError(message) {\n    this.message = message;\n  }\n  InvalidCharacterError.prototype = new Error;\n  InvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n  // encoder\n  // [https://gist.github.com/999166] by [https://github.com/nignag]\n  object.btoa || (\n  object.btoa = function (input) {\n    var str = String(input);\n    for (\n      // initialize result and counter\n      var block, charCode, idx = 0, map = chars, output = '';\n      // if the next str index does not exist:\n      //   change the mapping table to \"=\"\n      //   check if d has no fractional digits\n      str.charAt(idx | 0) || (map = '=', idx % 1);\n      // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n      output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n    ) {\n      charCode = str.charCodeAt(idx += 3/4);\n      if (charCode > 0xFF) {\n        throw new InvalidCharacterError(\"'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.\");\n      }\n      block = block << 8 | charCode;\n    }\n    return output;\n  });\n\n  // decoder\n  // [https://gist.github.com/1020396] by [https://github.com/atk]\n  object.atob || (\n  object.atob = function (input) {\n    var str = String(input).replace(/[=]+$/, ''); // #31: ExtendScript bad parse of /=\n    if (str.length % 4 == 1) {\n      throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n    }\n    for (\n      // initialize result and counters\n      var bc = 0, bs, buffer, idx = 0, output = '';\n      // get next character\n      buffer = str.charAt(idx++);\n      // character found in table? initialize bit storage and add its ascii value;\n      ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n        // and if not first of each 4 characters,\n        // convert the first 8 bits to one ascii character\n        bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n    ) {\n      // try to find character in table (0-63, not found => -1)\n      buffer = chars.indexOf(buffer);\n    }\n    return output;\n  });\n\n}());\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Buffer) {\n\nvar Map = __webpack_require__(20),\n    Long = __webpack_require__(1),\n    Double = __webpack_require__(11),\n    Timestamp = __webpack_require__(15),\n    ObjectID = __webpack_require__(13),\n    BSONRegExp = __webpack_require__(14),\n    _Symbol = __webpack_require__(21),\n    Int32 = __webpack_require__(19),\n    Code = __webpack_require__(8),\n    Decimal128 = __webpack_require__(10),\n    MinKey = __webpack_require__(5),\n    MaxKey = __webpack_require__(12),\n    DBRef = __webpack_require__(9),\n    Binary = __webpack_require__(4);\n\n// Parts of the parser\nvar deserialize = __webpack_require__(29),\n    serializer = __webpack_require__(30),\n    calculateObjectSize = __webpack_require__(28);\n\n/**\n * @ignore\n * @api private\n */\n// Max Size\nvar MAXSIZE = 1024 * 1024 * 17;\n// Max Document Buffer size\nvar buffer = new Buffer(MAXSIZE);\n\nvar BSON = function BSON() {};\n\n/**\n * Serialize a Javascript object.\n *\n * @param {Object} object the Javascript object to serialize.\n * @param {Boolean} [options.checkKeys] the serializer will check if keys are valid.\n * @param {Boolean} [options.serializeFunctions=false] serialize the javascript functions **(default:false)**.\n * @param {Boolean} [options.ignoreUndefined=true] ignore undefined fields **(default:true)**.\n * @return {Buffer} returns the Buffer object containing the serialized object.\n * @api public\n */\nBSON.prototype.serialize = function serialize(object, options) {\n  options = options || {};\n  // Unpack the options\n  var checkKeys = typeof options.checkKeys === 'boolean' ? options.checkKeys : false;\n  var serializeFunctions = typeof options.serializeFunctions === 'boolean' ? options.serializeFunctions : false;\n  var ignoreUndefined = typeof options.ignoreUndefined === 'boolean' ? options.ignoreUndefined : true;\n\n  // Attempt to serialize\n  var serializationIndex = serializer(buffer, object, checkKeys, 0, 0, serializeFunctions, ignoreUndefined, []);\n  // Create the final buffer\n  var finishedBuffer = new Buffer(serializationIndex);\n  // Copy into the finished buffer\n  buffer.copy(finishedBuffer, 0, 0, finishedBuffer.length);\n  // Return the buffer\n  return finishedBuffer;\n};\n\n/**\n * Serialize a Javascript object using a predefined Buffer and index into the buffer, useful when pre-allocating the space for serialization.\n *\n * @param {Object} object the Javascript object to serialize.\n * @param {Buffer} buffer the Buffer you pre-allocated to store the serialized BSON object.\n * @param {Boolean} [options.checkKeys] the serializer will check if keys are valid.\n * @param {Boolean} [options.serializeFunctions=false] serialize the javascript functions **(default:false)**.\n * @param {Boolean} [options.ignoreUndefined=true] ignore undefined fields **(default:true)**.\n * @param {Number} [options.index] the index in the buffer where we wish to start serializing into.\n * @return {Number} returns the index pointing to the last written byte in the buffer.\n * @api public\n */\nBSON.prototype.serializeWithBufferAndIndex = function (object, finalBuffer, options) {\n  options = options || {};\n  // Unpack the options\n  var checkKeys = typeof options.checkKeys === 'boolean' ? options.checkKeys : false;\n  var serializeFunctions = typeof options.serializeFunctions === 'boolean' ? options.serializeFunctions : false;\n  var ignoreUndefined = typeof options.ignoreUndefined === 'boolean' ? options.ignoreUndefined : true;\n  var startIndex = typeof options.index === 'number' ? options.index : 0;\n\n  // Attempt to serialize\n  var serializationIndex = serializer(buffer, object, checkKeys, 0, 0, serializeFunctions, ignoreUndefined);\n  buffer.copy(finalBuffer, startIndex, 0, serializationIndex);\n\n  // Return the index\n  return startIndex + serializationIndex - 1;\n};\n\n/**\n * Deserialize data as BSON.\n *\n * @param {Buffer} buffer the buffer containing the serialized set of BSON documents.\n * @param {Object} [options.evalFunctions=false] evaluate functions in the BSON document scoped to the object deserialized.\n * @param {Object} [options.cacheFunctions=false] cache evaluated functions for reuse.\n * @param {Object} [options.cacheFunctionsCrc32=false] use a crc32 code for caching, otherwise use the string of the function.\n * @param {Object} [options.promoteLongs=true] when deserializing a Long will fit it into a Number if it's smaller than 53 bits\n * @param {Object} [options.promoteBuffers=false] when deserializing a Binary will return it as a node.js Buffer instance.\n * @param {Object} [options.promoteValues=false] when deserializing will promote BSON values to their Node.js closest equivalent types.\n * @param {Object} [options.fieldsAsRaw=null] allow to specify if there what fields we wish to return as unserialized raw buffer.\n * @param {Object} [options.bsonRegExp=false] return BSON regular expressions as BSONRegExp instances.\n * @return {Object} returns the deserialized Javascript Object.\n * @api public\n */\nBSON.prototype.deserialize = function (buffer, options) {\n  return deserialize(buffer, options);\n};\n\n/**\n * Calculate the bson size for a passed in Javascript object.\n *\n * @param {Object} object the Javascript object to calculate the BSON byte size for.\n * @param {Boolean} [options.serializeFunctions=false] serialize the javascript functions **(default:false)**.\n * @param {Boolean} [options.ignoreUndefined=true] ignore undefined fields **(default:true)**.\n * @return {Number} returns the number of bytes the BSON object will take up.\n * @api public\n */\nBSON.prototype.calculateObjectSize = function (object, options) {\n  options = options || {};\n\n  var serializeFunctions = typeof options.serializeFunctions === 'boolean' ? options.serializeFunctions : false;\n  var ignoreUndefined = typeof options.ignoreUndefined === 'boolean' ? options.ignoreUndefined : true;\n\n  return calculateObjectSize(object, serializeFunctions, ignoreUndefined);\n};\n\n/**\n * Deserialize stream data as BSON documents.\n *\n * @param {Buffer} data the buffer containing the serialized set of BSON documents.\n * @param {Number} startIndex the start index in the data Buffer where the deserialization is to start.\n * @param {Number} numberOfDocuments number of documents to deserialize.\n * @param {Array} documents an array where to store the deserialized documents.\n * @param {Number} docStartIndex the index in the documents array from where to start inserting documents.\n * @param {Object} [options] additional options used for the deserialization.\n * @param {Object} [options.evalFunctions=false] evaluate functions in the BSON document scoped to the object deserialized.\n * @param {Object} [options.cacheFunctions=false] cache evaluated functions for reuse.\n * @param {Object} [options.cacheFunctionsCrc32=false] use a crc32 code for caching, otherwise use the string of the function.\n * @param {Object} [options.promoteLongs=true] when deserializing a Long will fit it into a Number if it's smaller than 53 bits\n * @param {Object} [options.promoteBuffers=false] when deserializing a Binary will return it as a node.js Buffer instance.\n * @param {Object} [options.promoteValues=false] when deserializing will promote BSON values to their Node.js closest equivalent types.\n * @param {Object} [options.fieldsAsRaw=null] allow to specify if there what fields we wish to return as unserialized raw buffer.\n * @param {Object} [options.bsonRegExp=false] return BSON regular expressions as BSONRegExp instances.\n * @return {Number} returns the next index in the buffer after deserialization **x** numbers of documents.\n * @api public\n */\nBSON.prototype.deserializeStream = function (data, startIndex, numberOfDocuments, documents, docStartIndex, options) {\n  options = options != null ? options : {};\n  var index = startIndex;\n  // Loop over all documents\n  for (var i = 0; i < numberOfDocuments; i++) {\n    // Find size of the document\n    var size = data[index] | data[index + 1] << 8 | data[index + 2] << 16 | data[index + 3] << 24;\n    // Update options with index\n    options['index'] = index;\n    // Parse the document at this point\n    documents[docStartIndex + i] = this.deserialize(data, options);\n    // Adjust index by the document size\n    index = index + size;\n  }\n\n  // Return object containing end index of parsing and list of documents\n  return index;\n};\n\n/**\n * @ignore\n * @api private\n */\n// BSON MAX VALUES\nBSON.BSON_INT32_MAX = 0x7fffffff;\nBSON.BSON_INT32_MIN = -0x80000000;\n\nBSON.BSON_INT64_MAX = Math.pow(2, 63) - 1;\nBSON.BSON_INT64_MIN = -Math.pow(2, 63);\n\n// JS MAX PRECISE VALUES\nBSON.JS_INT_MAX = 0x20000000000000; // Any integer up to 2^53 can be precisely represented by a double.\nBSON.JS_INT_MIN = -0x20000000000000; // Any integer down to -2^53 can be precisely represented by a double.\n\n// Internal long versions\n// var JS_INT_MAX_LONG = Long.fromNumber(0x20000000000000); // Any integer up to 2^53 can be precisely represented by a double.\n// var JS_INT_MIN_LONG = Long.fromNumber(-0x20000000000000); // Any integer down to -2^53 can be precisely represented by a double.\n\n/**\n * Number BSON Type\n *\n * @classconstant BSON_DATA_NUMBER\n **/\nBSON.BSON_DATA_NUMBER = 1;\n/**\n * String BSON Type\n *\n * @classconstant BSON_DATA_STRING\n **/\nBSON.BSON_DATA_STRING = 2;\n/**\n * Object BSON Type\n *\n * @classconstant BSON_DATA_OBJECT\n **/\nBSON.BSON_DATA_OBJECT = 3;\n/**\n * Array BSON Type\n *\n * @classconstant BSON_DATA_ARRAY\n **/\nBSON.BSON_DATA_ARRAY = 4;\n/**\n * Binary BSON Type\n *\n * @classconstant BSON_DATA_BINARY\n **/\nBSON.BSON_DATA_BINARY = 5;\n/**\n * ObjectID BSON Type\n *\n * @classconstant BSON_DATA_OID\n **/\nBSON.BSON_DATA_OID = 7;\n/**\n * Boolean BSON Type\n *\n * @classconstant BSON_DATA_BOOLEAN\n **/\nBSON.BSON_DATA_BOOLEAN = 8;\n/**\n * Date BSON Type\n *\n * @classconstant BSON_DATA_DATE\n **/\nBSON.BSON_DATA_DATE = 9;\n/**\n * null BSON Type\n *\n * @classconstant BSON_DATA_NULL\n **/\nBSON.BSON_DATA_NULL = 10;\n/**\n * RegExp BSON Type\n *\n * @classconstant BSON_DATA_REGEXP\n **/\nBSON.BSON_DATA_REGEXP = 11;\n/**\n * Code BSON Type\n *\n * @classconstant BSON_DATA_CODE\n **/\nBSON.BSON_DATA_CODE = 13;\n/**\n * Symbol BSON Type\n *\n * @classconstant BSON_DATA_SYMBOL\n **/\nBSON.BSON_DATA_SYMBOL = 14;\n/**\n * Code with Scope BSON Type\n *\n * @classconstant BSON_DATA_CODE_W_SCOPE\n **/\nBSON.BSON_DATA_CODE_W_SCOPE = 15;\n/**\n * 32 bit Integer BSON Type\n *\n * @classconstant BSON_DATA_INT\n **/\nBSON.BSON_DATA_INT = 16;\n/**\n * Timestamp BSON Type\n *\n * @classconstant BSON_DATA_TIMESTAMP\n **/\nBSON.BSON_DATA_TIMESTAMP = 17;\n/**\n * Long BSON Type\n *\n * @classconstant BSON_DATA_LONG\n **/\nBSON.BSON_DATA_LONG = 18;\n/**\n * MinKey BSON Type\n *\n * @classconstant BSON_DATA_MIN_KEY\n **/\nBSON.BSON_DATA_MIN_KEY = 0xff;\n/**\n * MaxKey BSON Type\n *\n * @classconstant BSON_DATA_MAX_KEY\n **/\nBSON.BSON_DATA_MAX_KEY = 0x7f;\n\n/**\n * Binary Default Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_DEFAULT\n **/\nBSON.BSON_BINARY_SUBTYPE_DEFAULT = 0;\n/**\n * Binary Function Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_FUNCTION\n **/\nBSON.BSON_BINARY_SUBTYPE_FUNCTION = 1;\n/**\n * Binary Byte Array Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_BYTE_ARRAY\n **/\nBSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY = 2;\n/**\n * Binary UUID Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_UUID\n **/\nBSON.BSON_BINARY_SUBTYPE_UUID = 3;\n/**\n * Binary MD5 Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_MD5\n **/\nBSON.BSON_BINARY_SUBTYPE_MD5 = 4;\n/**\n * Binary User Defined Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_USER_DEFINED\n **/\nBSON.BSON_BINARY_SUBTYPE_USER_DEFINED = 128;\n\n// Return BSON\nmodule.exports = BSON;\nmodule.exports.Code = Code;\nmodule.exports.Map = Map;\nmodule.exports.Symbol = _Symbol;\nmodule.exports.BSON = BSON;\nmodule.exports.DBRef = DBRef;\nmodule.exports.Binary = Binary;\nmodule.exports.ObjectID = ObjectID;\nmodule.exports.Long = Long;\nmodule.exports.Timestamp = Timestamp;\nmodule.exports.Double = Double;\nmodule.exports.Int32 = Int32;\nmodule.exports.MinKey = MinKey;\nmodule.exports.MaxKey = MaxKey;\nmodule.exports.BSONRegExp = BSONRegExp;\nmodule.exports.Decimal128 = Decimal128;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n// Copyright (c) 2008, Fair Oaks Labs, Inc.\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//  * Redistributions of source code must retain the above copyright notice,\n//    this list of conditions and the following disclaimer.\n//\n//  * Redistributions in binary form must reproduce the above copyright notice,\n//    this list of conditions and the following disclaimer in the documentation\n//    and/or other materials provided with the distribution.\n//\n//  * Neither the name of Fair Oaks Labs, Inc. nor the names of its contributors\n//    may be used to endorse or promote products derived from this software\n//    without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n//\n//\n// Modifications to writeIEEE754 to support negative zeroes made by Brian White\n\nvar readIEEE754 = function readIEEE754(buffer, offset, endian, mLen, nBytes) {\n  var e,\n      m,\n      bBE = endian === 'big',\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      nBits = -7,\n      i = bBE ? 0 : nBytes - 1,\n      d = bBE ? 1 : -1,\n      s = buffer[offset + i];\n\n  i += d;\n\n  e = s & (1 << -nBits) - 1;\n  s >>= -nBits;\n  nBits += eLen;\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & (1 << -nBits) - 1;\n  e >>= -nBits;\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : (s ? -1 : 1) * Infinity;\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n};\n\nvar writeIEEE754 = function writeIEEE754(buffer, value, offset, endian, mLen, nBytes) {\n  var e,\n      m,\n      c,\n      bBE = endian === 'big',\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0,\n      i = bBE ? nBytes - 1 : 0,\n      d = bBE ? -1 : 1,\n      s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  if (isNaN(value)) m = 0;\n\n  while (mLen >= 8) {\n    buffer[offset + i] = m & 0xff;\n    i += d;\n    m /= 256;\n    mLen -= 8;\n  }\n\n  e = e << mLen | m;\n\n  if (isNaN(value)) e += 8;\n\n  eLen += mLen;\n\n  while (eLen > 0) {\n    buffer[offset + i] = e & 0xff;\n    i += d;\n    e /= 256;\n    eLen -= 8;\n  }\n\n  buffer[offset + i - d] |= s * 128;\n};\n\nexports.readIEEE754 = readIEEE754;\nexports.writeIEEE754 = writeIEEE754;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Buffer) {\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar Long = __webpack_require__(1).Long,\n    Double = __webpack_require__(11).Double,\n    Timestamp = __webpack_require__(15).Timestamp,\n    ObjectID = __webpack_require__(13).ObjectID,\n    _Symbol = __webpack_require__(21).Symbol,\n    BSONRegExp = __webpack_require__(14).BSONRegExp,\n    Code = __webpack_require__(8).Code,\n    Decimal128 = __webpack_require__(10),\n    MinKey = __webpack_require__(5).MinKey,\n    MaxKey = __webpack_require__(12).MaxKey,\n    DBRef = __webpack_require__(9).DBRef,\n    Binary = __webpack_require__(4).Binary;\n\n// To ensure that 0.4 of node works correctly\nvar isDate = function isDate(d) {\n  return (typeof d === 'undefined' ? 'undefined' : _typeof(d)) === 'object' && Object.prototype.toString.call(d) === '[object Date]';\n};\n\nvar calculateObjectSize = function calculateObjectSize(object, serializeFunctions, ignoreUndefined) {\n  var totalLength = 4 + 1;\n\n  if (Array.isArray(object)) {\n    for (var i = 0; i < object.length; i++) {\n      totalLength += calculateElement(i.toString(), object[i], serializeFunctions, true, ignoreUndefined);\n    }\n  } else {\n    // If we have toBSON defined, override the current object\n\n    if (object.toBSON) {\n      object = object.toBSON();\n    }\n\n    // Calculate size\n    for (var key in object) {\n      totalLength += calculateElement(key, object[key], serializeFunctions, false, ignoreUndefined);\n    }\n  }\n\n  return totalLength;\n};\n\n/**\n * @ignore\n * @api private\n */\nfunction calculateElement(name, value, serializeFunctions, isArray, ignoreUndefined) {\n  // If we have toBSON defined, override the current object\n  if (value && value.toBSON) {\n    value = value.toBSON();\n  }\n\n  switch (typeof value === 'undefined' ? 'undefined' : _typeof(value)) {\n    case 'string':\n      return 1 + Buffer.byteLength(name, 'utf8') + 1 + 4 + Buffer.byteLength(value, 'utf8') + 1;\n    case 'number':\n      if (Math.floor(value) === value && value >= BSON.JS_INT_MIN && value <= BSON.JS_INT_MAX) {\n        if (value >= BSON.BSON_INT32_MIN && value <= BSON.BSON_INT32_MAX) {\n          // 32 bit\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (4 + 1);\n        } else {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (8 + 1);\n        }\n      } else {\n        // 64 bit\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (8 + 1);\n      }\n    case 'undefined':\n      if (isArray || !ignoreUndefined) return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1;\n      return 0;\n    case 'boolean':\n      return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (1 + 1);\n    case 'object':\n      if (value == null || value instanceof MinKey || value instanceof MaxKey || value['_bsontype'] === 'MinKey' || value['_bsontype'] === 'MaxKey') {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1;\n      } else if (value instanceof ObjectID || value['_bsontype'] === 'ObjectID') {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (12 + 1);\n      } else if (value instanceof Date || isDate(value)) {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (8 + 1);\n      } else if (typeof Buffer !== 'undefined' && Buffer.isBuffer(value)) {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (1 + 4 + 1) + value.length;\n      } else if (value instanceof Long || value instanceof Double || value instanceof Timestamp || value['_bsontype'] === 'Long' || value['_bsontype'] === 'Double' || value['_bsontype'] === 'Timestamp') {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (8 + 1);\n      } else if (value instanceof Decimal128 || value['_bsontype'] === 'Decimal128') {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (16 + 1);\n      } else if (value instanceof Code || value['_bsontype'] === 'Code') {\n        // Calculate size depending on the availability of a scope\n        if (value.scope != null && Object.keys(value.scope).length > 0) {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1 + 4 + 4 + Buffer.byteLength(value.code.toString(), 'utf8') + 1 + calculateObjectSize(value.scope, serializeFunctions, ignoreUndefined);\n        } else {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1 + 4 + Buffer.byteLength(value.code.toString(), 'utf8') + 1;\n        }\n      } else if (value instanceof Binary || value['_bsontype'] === 'Binary') {\n        // Check what kind of subtype we have\n        if (value.sub_type === Binary.SUBTYPE_BYTE_ARRAY) {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (value.position + 1 + 4 + 1 + 4);\n        } else {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (value.position + 1 + 4 + 1);\n        }\n      } else if (value instanceof _Symbol || value['_bsontype'] === 'Symbol') {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + Buffer.byteLength(value.value, 'utf8') + 4 + 1 + 1;\n      } else if (value instanceof DBRef || value['_bsontype'] === 'DBRef') {\n        // Set up correct object for serialization\n        var ordered_values = {\n          $ref: value.collection,\n          $id: value.oid\n        };\n\n        // Add db reference if it exists\n        if (value.db != null) {\n          ordered_values['$db'] = value.db;\n        }\n\n        ordered_values = Object.assign(ordered_values, value.fields);\n\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1 + calculateObjectSize(ordered_values, serializeFunctions, ignoreUndefined);\n      } else if (value instanceof RegExp || Object.prototype.toString.call(value) === '[object RegExp]') {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1 + Buffer.byteLength(value.source, 'utf8') + 1 + (value.global ? 1 : 0) + (value.ignoreCase ? 1 : 0) + (value.multiline ? 1 : 0) + 1;\n      } else if (value instanceof BSONRegExp || value['_bsontype'] === 'BSONRegExp') {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1 + Buffer.byteLength(value.pattern, 'utf8') + 1 + Buffer.byteLength(value.options, 'utf8') + 1;\n      } else {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + calculateObjectSize(value, serializeFunctions, ignoreUndefined) + 1;\n      }\n    case 'function':\n      // WTF for 0.4.X where typeof /someregexp/ === 'function'\n      if (value instanceof RegExp || Object.prototype.toString.call(value) === '[object RegExp]' || String.call(value) === '[object RegExp]') {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1 + Buffer.byteLength(value.source, 'utf8') + 1 + (value.global ? 1 : 0) + (value.ignoreCase ? 1 : 0) + (value.multiline ? 1 : 0) + 1;\n      } else {\n        if (serializeFunctions && value.scope != null && Object.keys(value.scope).length > 0) {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1 + 4 + 4 + Buffer.byteLength(value.toString(), 'utf8') + 1 + calculateObjectSize(value.scope, serializeFunctions, ignoreUndefined);\n        } else if (serializeFunctions) {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1 + 4 + Buffer.byteLength(value.toString(), 'utf8') + 1;\n        }\n      }\n  }\n\n  return 0;\n}\n\nvar BSON = {};\n\n// BSON MAX VALUES\nBSON.BSON_INT32_MAX = 0x7fffffff;\nBSON.BSON_INT32_MIN = -0x80000000;\n\n// JS MAX PRECISE VALUES\nBSON.JS_INT_MAX = 0x20000000000000; // Any integer up to 2^53 can be precisely represented by a double.\nBSON.JS_INT_MIN = -0x20000000000000; // Any integer down to -2^53 can be precisely represented by a double.\n\nmodule.exports = calculateObjectSize;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Buffer) {\n\nvar Long = __webpack_require__(1).Long,\n    Double = __webpack_require__(11).Double,\n    Timestamp = __webpack_require__(15).Timestamp,\n    ObjectID = __webpack_require__(13).ObjectID,\n    Code = __webpack_require__(8).Code,\n    MinKey = __webpack_require__(5).MinKey,\n    MaxKey = __webpack_require__(12).MaxKey,\n    Decimal128 = __webpack_require__(10),\n    Int32 = __webpack_require__(19),\n    DBRef = __webpack_require__(9).DBRef,\n    BSONRegExp = __webpack_require__(14).BSONRegExp,\n    Binary = __webpack_require__(4).Binary;\n\nvar deserialize = function deserialize(buffer, options, isArray) {\n  options = options == null ? {} : options;\n  var index = options && options.index ? options.index : 0;\n  // Read the document size\n  var size = buffer[index] | buffer[index + 1] << 8 | buffer[index + 2] << 16 | buffer[index + 3] << 24;\n\n  // Ensure buffer is valid size\n  if (size < 5 || buffer.length !== size || size + index > buffer.length) {\n    throw new Error('corrupt bson message');\n  }\n\n  // Illegal end value\n  if (buffer[index + size - 1] !== 0) {\n    throw new Error(\"One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00\");\n  }\n\n  // Start deserializtion\n  return deserializeObject(buffer, index, options, isArray);\n};\n\nvar deserializeObject = function deserializeObject(buffer, index, options, isArray) {\n  var evalFunctions = options['evalFunctions'] == null ? false : options['evalFunctions'];\n  var cacheFunctions = options['cacheFunctions'] == null ? false : options['cacheFunctions'];\n  var cacheFunctionsCrc32 = options['cacheFunctionsCrc32'] == null ? false : options['cacheFunctionsCrc32'];\n\n  if (!cacheFunctionsCrc32) var crc32 = null;\n\n  var fieldsAsRaw = options['fieldsAsRaw'] == null ? null : options['fieldsAsRaw'];\n\n  // Return raw bson buffer instead of parsing it\n  var raw = options['raw'] == null ? false : options['raw'];\n\n  // Return BSONRegExp objects instead of native regular expressions\n  var bsonRegExp = typeof options['bsonRegExp'] === 'boolean' ? options['bsonRegExp'] : false;\n\n  // Controls the promotion of values vs wrapper classes\n  var promoteBuffers = options['promoteBuffers'] == null ? false : options['promoteBuffers'];\n  var promoteLongs = options['promoteLongs'] == null ? true : options['promoteLongs'];\n  var promoteValues = options['promoteValues'] == null ? true : options['promoteValues'];\n\n  // Set the start index\n  var startIndex = index;\n\n  // Validate that we have at least 4 bytes of buffer\n  if (buffer.length < 5) throw new Error('corrupt bson message < 5 bytes long');\n\n  // Read the document size\n  var size = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\n  // Ensure buffer is valid size\n  if (size < 5 || size > buffer.length) throw new Error('corrupt bson message');\n\n  // Create holding object\n  var object = isArray ? [] : {};\n  // Used for arrays to skip having to perform utf8 decoding\n  var arrayIndex = 0,\n      done = false;\n\n  // While we have more left data left keep parsing\n  while (!done) {\n    // Read the type\n    var elementType = buffer[index++];\n\n    // If we get a zero it's the last byte, exit\n    if (elementType === 0) break;\n\n    // Get the start search index\n    var i = index;\n    // Locate the end of the c string\n    while (buffer[i] !== 0x00 && i < buffer.length) {\n      i++;\n    }\n\n    // If are at the end of the buffer there is a problem with the document\n    if (i >= buffer.length) throw new Error('Bad BSON Document: illegal CString');\n    var name = isArray ? arrayIndex++ : buffer.toString('utf8', index, i);\n\n    index = i + 1;\n\n    if (elementType === BSON.BSON_DATA_STRING) {\n      var stringSize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      if (stringSize <= 0 || stringSize > buffer.length - index || buffer[index + stringSize - 1] !== 0) throw new Error('bad string length in bson');\n\n      var s = buffer.toString('utf8', index, index + stringSize - 1);\n      for (i = 0; i < s.length; i++) {\n        if (s.charCodeAt(i) === 0xfffd) {\n          throw new Error('Invalid UTF-8 string in BSON document');\n        }\n      }\n\n      object[name] = s;\n      index = index + stringSize;\n    } else if (elementType === BSON.BSON_DATA_OID) {\n      var oid = new Buffer(12);\n      buffer.copy(oid, 0, index, index + 12);\n      object[name] = new ObjectID(oid);\n      index = index + 12;\n    } else if (elementType === BSON.BSON_DATA_INT && promoteValues === false) {\n      object[name] = new Int32(buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24);\n    } else if (elementType === BSON.BSON_DATA_INT) {\n      object[name] = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n    } else if (elementType === BSON.BSON_DATA_NUMBER && promoteValues === false) {\n      object[name] = new Double(buffer.readDoubleLE(index));\n      index = index + 8;\n    } else if (elementType === BSON.BSON_DATA_NUMBER) {\n      object[name] = buffer.readDoubleLE(index);\n      index = index + 8;\n    } else if (elementType === BSON.BSON_DATA_DATE) {\n      var lowBits = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      var highBits = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      object[name] = new Date(new Long(lowBits, highBits).toNumber());\n    } else if (elementType === BSON.BSON_DATA_BOOLEAN) {\n      if (buffer[index] !== 0 && buffer[index] !== 1) throw new Error('illegal boolean type value');\n      object[name] = buffer[index++] === 1;\n    } else if (elementType === BSON.BSON_DATA_OBJECT) {\n      var _index = index;\n      var objectSize = buffer[index] | buffer[index + 1] << 8 | buffer[index + 2] << 16 | buffer[index + 3] << 24;\n      if (objectSize <= 0 || objectSize > buffer.length - index) throw new Error('bad embedded document length in bson');\n\n      // We have a raw value\n      if (raw) {\n        object[name] = buffer.slice(index, index + objectSize);\n      } else {\n        object[name] = deserializeObject(buffer, _index, options, false);\n      }\n\n      index = index + objectSize;\n    } else if (elementType === BSON.BSON_DATA_ARRAY) {\n      _index = index;\n      objectSize = buffer[index] | buffer[index + 1] << 8 | buffer[index + 2] << 16 | buffer[index + 3] << 24;\n      var arrayOptions = options;\n\n      // Stop index\n      var stopIndex = index + objectSize;\n\n      // All elements of array to be returned as raw bson\n      if (fieldsAsRaw && fieldsAsRaw[name]) {\n        arrayOptions = {};\n        for (var n in options) {\n          arrayOptions[n] = options[n];\n        }arrayOptions['raw'] = true;\n      }\n\n      object[name] = deserializeObject(buffer, _index, arrayOptions, true);\n      index = index + objectSize;\n\n      if (buffer[index - 1] !== 0) throw new Error('invalid array terminator byte');\n      if (index !== stopIndex) throw new Error('corrupted array bson');\n    } else if (elementType === BSON.BSON_DATA_UNDEFINED) {\n      object[name] = undefined;\n    } else if (elementType === BSON.BSON_DATA_NULL) {\n      object[name] = null;\n    } else if (elementType === BSON.BSON_DATA_LONG) {\n      // Unpack the low and high bits\n      lowBits = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      highBits = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      var long = new Long(lowBits, highBits);\n      // Promote the long if possible\n      if (promoteLongs && promoteValues === true) {\n        object[name] = long.lessThanOrEqual(JS_INT_MAX_LONG) && long.greaterThanOrEqual(JS_INT_MIN_LONG) ? long.toNumber() : long;\n      } else {\n        object[name] = long;\n      }\n    } else if (elementType === BSON.BSON_DATA_DECIMAL128) {\n      // Buffer to contain the decimal bytes\n      var bytes = new Buffer(16);\n      // Copy the next 16 bytes into the bytes buffer\n      buffer.copy(bytes, 0, index, index + 16);\n      // Update index\n      index = index + 16;\n      // Assign the new Decimal128 value\n      var decimal128 = new Decimal128(bytes);\n      // If we have an alternative mapper use that\n      object[name] = decimal128.toObject ? decimal128.toObject() : decimal128;\n    } else if (elementType === BSON.BSON_DATA_BINARY) {\n      var binarySize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      var totalBinarySize = binarySize;\n      var subType = buffer[index++];\n\n      // Did we have a negative binary size, throw\n      if (binarySize < 0) throw new Error('Negative binary type element size found');\n\n      // Is the length longer than the document\n      if (binarySize > buffer.length) throw new Error('Binary type size larger than document size');\n\n      // Decode as raw Buffer object if options specifies it\n      if (buffer['slice'] != null) {\n        // If we have subtype 2 skip the 4 bytes for the size\n        if (subType === Binary.SUBTYPE_BYTE_ARRAY) {\n          binarySize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n          if (binarySize < 0) throw new Error('Negative binary type element size found for subtype 0x02');\n          if (binarySize > totalBinarySize - 4) throw new Error('Binary type with subtype 0x02 contains to long binary size');\n          if (binarySize < totalBinarySize - 4) throw new Error('Binary type with subtype 0x02 contains to short binary size');\n        }\n\n        if (promoteBuffers && promoteValues) {\n          object[name] = buffer.slice(index, index + binarySize);\n        } else {\n          object[name] = new Binary(buffer.slice(index, index + binarySize), subType);\n        }\n      } else {\n        var _buffer = typeof Uint8Array !== 'undefined' ? new Uint8Array(new ArrayBuffer(binarySize)) : new Array(binarySize);\n        // If we have subtype 2 skip the 4 bytes for the size\n        if (subType === Binary.SUBTYPE_BYTE_ARRAY) {\n          binarySize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n          if (binarySize < 0) throw new Error('Negative binary type element size found for subtype 0x02');\n          if (binarySize > totalBinarySize - 4) throw new Error('Binary type with subtype 0x02 contains to long binary size');\n          if (binarySize < totalBinarySize - 4) throw new Error('Binary type with subtype 0x02 contains to short binary size');\n        }\n\n        // Copy the data\n        for (i = 0; i < binarySize; i++) {\n          _buffer[i] = buffer[index + i];\n        }\n\n        if (promoteBuffers && promoteValues) {\n          object[name] = _buffer;\n        } else {\n          object[name] = new Binary(_buffer, subType);\n        }\n      }\n\n      // Update the index\n      index = index + binarySize;\n    } else if (elementType === BSON.BSON_DATA_REGEXP && bsonRegExp === false) {\n      // Get the start search index\n      i = index;\n      // Locate the end of the c string\n      while (buffer[i] !== 0x00 && i < buffer.length) {\n        i++;\n      }\n      // If are at the end of the buffer there is a problem with the document\n      if (i >= buffer.length) throw new Error('Bad BSON Document: illegal CString');\n      // Return the C string\n      var source = buffer.toString('utf8', index, i);\n      // Create the regexp\n      index = i + 1;\n\n      // Get the start search index\n      i = index;\n      // Locate the end of the c string\n      while (buffer[i] !== 0x00 && i < buffer.length) {\n        i++;\n      }\n      // If are at the end of the buffer there is a problem with the document\n      if (i >= buffer.length) throw new Error('Bad BSON Document: illegal CString');\n      // Return the C string\n      var regExpOptions = buffer.toString('utf8', index, i);\n      index = i + 1;\n\n      // For each option add the corresponding one for javascript\n      var optionsArray = new Array(regExpOptions.length);\n\n      // Parse options\n      for (i = 0; i < regExpOptions.length; i++) {\n        switch (regExpOptions[i]) {\n          case 'm':\n            optionsArray[i] = 'm';\n            break;\n          case 's':\n            optionsArray[i] = 'g';\n            break;\n          case 'i':\n            optionsArray[i] = 'i';\n            break;\n        }\n      }\n\n      object[name] = new RegExp(source, optionsArray.join(''));\n    } else if (elementType === BSON.BSON_DATA_REGEXP && bsonRegExp === true) {\n      // Get the start search index\n      i = index;\n      // Locate the end of the c string\n      while (buffer[i] !== 0x00 && i < buffer.length) {\n        i++;\n      }\n      // If are at the end of the buffer there is a problem with the document\n      if (i >= buffer.length) throw new Error('Bad BSON Document: illegal CString');\n      // Return the C string\n      source = buffer.toString('utf8', index, i);\n      index = i + 1;\n\n      // Get the start search index\n      i = index;\n      // Locate the end of the c string\n      while (buffer[i] !== 0x00 && i < buffer.length) {\n        i++;\n      }\n      // If are at the end of the buffer there is a problem with the document\n      if (i >= buffer.length) throw new Error('Bad BSON Document: illegal CString');\n      // Return the C string\n      regExpOptions = buffer.toString('utf8', index, i);\n      index = i + 1;\n\n      // Set the object\n      object[name] = new BSONRegExp(source, regExpOptions);\n    } else if (elementType === BSON.BSON_DATA_SYMBOL) {\n      stringSize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      if (stringSize <= 0 || stringSize > buffer.length - index || buffer[index + stringSize - 1] !== 0) throw new Error('bad string length in bson');\n      // symbol is deprecated - upgrade to string.\n      object[name] = buffer.toString('utf8', index, index + stringSize - 1);\n      index = index + stringSize;\n    } else if (elementType === BSON.BSON_DATA_TIMESTAMP) {\n      lowBits = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      highBits = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\n      object[name] = new Timestamp(lowBits, highBits);\n    } else if (elementType === BSON.BSON_DATA_MIN_KEY) {\n      object[name] = new MinKey();\n    } else if (elementType === BSON.BSON_DATA_MAX_KEY) {\n      object[name] = new MaxKey();\n    } else if (elementType === BSON.BSON_DATA_CODE) {\n      stringSize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      if (stringSize <= 0 || stringSize > buffer.length - index || buffer[index + stringSize - 1] !== 0) throw new Error('bad string length in bson');\n      var functionString = buffer.toString('utf8', index, index + stringSize - 1);\n\n      // If we are evaluating the functions\n      if (evalFunctions) {\n        // If we have cache enabled let's look for the md5 of the function in the cache\n        if (cacheFunctions) {\n          var hash = cacheFunctionsCrc32 ? crc32(functionString) : functionString;\n          // Got to do this to avoid V8 deoptimizing the call due to finding eval\n          object[name] = isolateEvalWithHash(functionCache, hash, functionString, object);\n        } else {\n          object[name] = isolateEval(functionString);\n        }\n      } else {\n        object[name] = new Code(functionString);\n      }\n\n      // Update parse index position\n      index = index + stringSize;\n    } else if (elementType === BSON.BSON_DATA_CODE_W_SCOPE) {\n      var totalSize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n\n      // Element cannot be shorter than totalSize + stringSize + documentSize + terminator\n      if (totalSize < 4 + 4 + 4 + 1) {\n        throw new Error('code_w_scope total size shorter minimum expected length');\n      }\n\n      // Get the code string size\n      stringSize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      // Check if we have a valid string\n      if (stringSize <= 0 || stringSize > buffer.length - index || buffer[index + stringSize - 1] !== 0) throw new Error('bad string length in bson');\n\n      // Javascript function\n      functionString = buffer.toString('utf8', index, index + stringSize - 1);\n      // Update parse index position\n      index = index + stringSize;\n      // Parse the element\n      _index = index;\n      // Decode the size of the object document\n      objectSize = buffer[index] | buffer[index + 1] << 8 | buffer[index + 2] << 16 | buffer[index + 3] << 24;\n      // Decode the scope object\n      var scopeObject = deserializeObject(buffer, _index, options, false);\n      // Adjust the index\n      index = index + objectSize;\n\n      // Check if field length is to short\n      if (totalSize < 4 + 4 + objectSize + stringSize) {\n        throw new Error('code_w_scope total size is to short, truncating scope');\n      }\n\n      // Check if totalSize field is to long\n      if (totalSize > 4 + 4 + objectSize + stringSize) {\n        throw new Error('code_w_scope total size is to long, clips outer document');\n      }\n\n      // If we are evaluating the functions\n      if (evalFunctions) {\n        // If we have cache enabled let's look for the md5 of the function in the cache\n        if (cacheFunctions) {\n          hash = cacheFunctionsCrc32 ? crc32(functionString) : functionString;\n          // Got to do this to avoid V8 deoptimizing the call due to finding eval\n          object[name] = isolateEvalWithHash(functionCache, hash, functionString, object);\n        } else {\n          object[name] = isolateEval(functionString);\n        }\n\n        object[name].scope = scopeObject;\n      } else {\n        object[name] = new Code(functionString, scopeObject);\n      }\n    } else if (elementType === BSON.BSON_DATA_DBPOINTER) {\n      // Get the code string size\n      stringSize = buffer[index++] | buffer[index++] << 8 | buffer[index++] << 16 | buffer[index++] << 24;\n      // Check if we have a valid string\n      if (stringSize <= 0 || stringSize > buffer.length - index || buffer[index + stringSize - 1] !== 0) throw new Error('bad string length in bson');\n      // Namespace\n      var namespace = buffer.toString('utf8', index, index + stringSize - 1);\n      // Update parse index position\n      index = index + stringSize;\n\n      // Read the oid\n      var oidBuffer = new Buffer(12);\n      buffer.copy(oidBuffer, 0, index, index + 12);\n      oid = new ObjectID(oidBuffer);\n\n      // Update the index\n      index = index + 12;\n\n      for (i = 0; i < namespace.length; i++) {\n        if (namespace.charCodeAt(i) === 0xfffd) {\n          throw new Error('Invalid UTF-8 string in BSON document');\n        }\n      }\n\n      // Split the namespace\n      var parts = namespace.split('.');\n\n      var db, collection;\n      if (parts.length === 2) {\n        db = parts.shift();\n        collection = parts.shift();\n      } else {\n        collection = namespace;\n      }\n\n      // Upgrade to DBRef type\n      object[name] = new DBRef(collection, oid, db);\n    } else {\n      throw new Error('Detected unknown BSON type ' + elementType.toString(16) + ' for fieldname \"' + name + '\", are you using the latest BSON parser?');\n    }\n  }\n\n  // Check if the deserialization was against a valid array/object\n  if (size !== index - startIndex) {\n    if (isArray) throw new Error('corrupt array bson');\n    throw new Error('corrupt object bson');\n  }\n\n  // check if object's $ keys are those of a DBRef\n  var dollarKeys = Object.keys(object).filter(function (k) {\n    return k.startsWith('$');\n  });\n  var valid = true;\n  dollarKeys.forEach(function (k) {\n    if (['$ref', '$id', '$db'].indexOf(k) === -1) valid = false;\n  });\n\n  // if a $key not in \"$ref\", \"$id\", \"$db\", don't make a DBRef\n  if (!valid) return object;\n\n  if (object['$id'] != null && object['$ref'] != null) {\n    var copy = Object.assign({}, object);\n    delete copy.$ref;\n    delete copy.$id;\n    delete copy.$db;\n    return new DBRef(object.$ref, object.$id, object.$db || null, copy);\n  }\n\n  return object;\n};\n\n/**\n * Ensure eval is isolated.\n *\n * @ignore\n * @api private\n */\nvar isolateEvalWithHash = function isolateEvalWithHash(functionCache, hash, functionString, object) {\n  // Contains the value we are going to set\n  var value = null;\n\n  // Check for cache hit, eval if missing and return cached function\n  if (functionCache[hash] == null) {\n    eval('value = ' + functionString);\n    functionCache[hash] = value;\n  }\n  // Set the object\n  return functionCache[hash].bind(object);\n};\n\n/**\n * Ensure eval is isolated.\n *\n * @ignore\n * @api private\n */\nvar isolateEval = function isolateEval(functionString) {\n  // Contains the value we are going to set\n  var value = null;\n  // Eval the function\n  eval('value = ' + functionString);\n  return value;\n};\n\nvar BSON = {};\n\n/**\n * Contains the function cache if we have that enable to allow for avoiding the eval step on each deserialization, comparison is by md5\n *\n * @ignore\n * @api private\n */\nvar functionCache = BSON.functionCache = {};\n\n/**\n * Number BSON Type\n *\n * @classconstant BSON_DATA_NUMBER\n **/\nBSON.BSON_DATA_NUMBER = 1;\n/**\n * String BSON Type\n *\n * @classconstant BSON_DATA_STRING\n **/\nBSON.BSON_DATA_STRING = 2;\n/**\n * Object BSON Type\n *\n * @classconstant BSON_DATA_OBJECT\n **/\nBSON.BSON_DATA_OBJECT = 3;\n/**\n * Array BSON Type\n *\n * @classconstant BSON_DATA_ARRAY\n **/\nBSON.BSON_DATA_ARRAY = 4;\n/**\n * Binary BSON Type\n *\n * @classconstant BSON_DATA_BINARY\n **/\nBSON.BSON_DATA_BINARY = 5;\n/**\n * Binary BSON Type\n *\n * @classconstant BSON_DATA_UNDEFINED\n **/\nBSON.BSON_DATA_UNDEFINED = 6;\n/**\n * ObjectID BSON Type\n *\n * @classconstant BSON_DATA_OID\n **/\nBSON.BSON_DATA_OID = 7;\n/**\n * Boolean BSON Type\n *\n * @classconstant BSON_DATA_BOOLEAN\n **/\nBSON.BSON_DATA_BOOLEAN = 8;\n/**\n * Date BSON Type\n *\n * @classconstant BSON_DATA_DATE\n **/\nBSON.BSON_DATA_DATE = 9;\n/**\n * null BSON Type\n *\n * @classconstant BSON_DATA_NULL\n **/\nBSON.BSON_DATA_NULL = 10;\n/**\n * RegExp BSON Type\n *\n * @classconstant BSON_DATA_REGEXP\n **/\nBSON.BSON_DATA_REGEXP = 11;\n/**\n * Code BSON Type\n *\n * @classconstant BSON_DATA_DBPOINTER\n **/\nBSON.BSON_DATA_DBPOINTER = 12;\n/**\n * Code BSON Type\n *\n * @classconstant BSON_DATA_CODE\n **/\nBSON.BSON_DATA_CODE = 13;\n/**\n * Symbol BSON Type\n *\n * @classconstant BSON_DATA_SYMBOL\n **/\nBSON.BSON_DATA_SYMBOL = 14;\n/**\n * Code with Scope BSON Type\n *\n * @classconstant BSON_DATA_CODE_W_SCOPE\n **/\nBSON.BSON_DATA_CODE_W_SCOPE = 15;\n/**\n * 32 bit Integer BSON Type\n *\n * @classconstant BSON_DATA_INT\n **/\nBSON.BSON_DATA_INT = 16;\n/**\n * Timestamp BSON Type\n *\n * @classconstant BSON_DATA_TIMESTAMP\n **/\nBSON.BSON_DATA_TIMESTAMP = 17;\n/**\n * Long BSON Type\n *\n * @classconstant BSON_DATA_LONG\n **/\nBSON.BSON_DATA_LONG = 18;\n/**\n * Long BSON Type\n *\n * @classconstant BSON_DATA_DECIMAL128\n **/\nBSON.BSON_DATA_DECIMAL128 = 19;\n/**\n * MinKey BSON Type\n *\n * @classconstant BSON_DATA_MIN_KEY\n **/\nBSON.BSON_DATA_MIN_KEY = 0xff;\n/**\n * MaxKey BSON Type\n *\n * @classconstant BSON_DATA_MAX_KEY\n **/\nBSON.BSON_DATA_MAX_KEY = 0x7f;\n\n/**\n * Binary Default Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_DEFAULT\n **/\nBSON.BSON_BINARY_SUBTYPE_DEFAULT = 0;\n/**\n * Binary Function Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_FUNCTION\n **/\nBSON.BSON_BINARY_SUBTYPE_FUNCTION = 1;\n/**\n * Binary Byte Array Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_BYTE_ARRAY\n **/\nBSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY = 2;\n/**\n * Binary UUID Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_UUID\n **/\nBSON.BSON_BINARY_SUBTYPE_UUID = 3;\n/**\n * Binary MD5 Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_MD5\n **/\nBSON.BSON_BINARY_SUBTYPE_MD5 = 4;\n/**\n * Binary User Defined Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_USER_DEFINED\n **/\nBSON.BSON_BINARY_SUBTYPE_USER_DEFINED = 128;\n\n// BSON MAX VALUES\nBSON.BSON_INT32_MAX = 0x7fffffff;\nBSON.BSON_INT32_MIN = -0x80000000;\n\nBSON.BSON_INT64_MAX = Math.pow(2, 63) - 1;\nBSON.BSON_INT64_MIN = -Math.pow(2, 63);\n\n// JS MAX PRECISE VALUES\nBSON.JS_INT_MAX = 0x20000000000000; // Any integer up to 2^53 can be precisely represented by a double.\nBSON.JS_INT_MIN = -0x20000000000000; // Any integer down to -2^53 can be precisely represented by a double.\n\n// Internal long versions\nvar JS_INT_MAX_LONG = Long.fromNumber(0x20000000000000); // Any integer up to 2^53 can be precisely represented by a double.\nvar JS_INT_MIN_LONG = Long.fromNumber(-0x20000000000000); // Any integer down to -2^53 can be precisely represented by a double.\n\nmodule.exports = deserialize;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Buffer) {\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar writeIEEE754 = __webpack_require__(27).writeIEEE754,\n    Long = __webpack_require__(1).Long,\n    Map = __webpack_require__(20),\n    MinKey = __webpack_require__(5).MinKey,\n    Binary = __webpack_require__(4).Binary;\n\n// try {\n//   var _Buffer = Uint8Array;\n// } catch (e) {\n//   _Buffer = Buffer;\n// }\n\nvar regexp = /\\x00/; // eslint-disable-line no-control-regex\n\n// To ensure that 0.4 of node works correctly\nvar isDate = function isDate(d) {\n  return (typeof d === 'undefined' ? 'undefined' : _typeof(d)) === 'object' && Object.prototype.toString.call(d) === '[object Date]';\n};\n\nvar isRegExp = function isRegExp(d) {\n  return Object.prototype.toString.call(d) === '[object RegExp]';\n};\n\nvar serializeString = function serializeString(buffer, key, value, index, isArray) {\n  // Encode String type\n  buffer[index++] = BSON.BSON_DATA_STRING;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes + 1;\n  buffer[index - 1] = 0;\n  // Write the string\n  var size = buffer.write(value, index + 4, 'utf8');\n  // Write the size of the string to buffer\n  buffer[index + 3] = size + 1 >> 24 & 0xff;\n  buffer[index + 2] = size + 1 >> 16 & 0xff;\n  buffer[index + 1] = size + 1 >> 8 & 0xff;\n  buffer[index] = size + 1 & 0xff;\n  // Update index\n  index = index + 4 + size;\n  // Write zero\n  buffer[index++] = 0;\n  return index;\n};\n\nvar serializeNumber = function serializeNumber(buffer, key, value, index, isArray) {\n  // We have an integer value\n  if (Math.floor(value) === value && value >= BSON.JS_INT_MIN && value <= BSON.JS_INT_MAX) {\n    // If the value fits in 32 bits encode as int, if it fits in a double\n    // encode it as a double, otherwise long\n    if (value >= BSON.BSON_INT32_MIN && value <= BSON.BSON_INT32_MAX) {\n      // Set int type 32 bits or less\n      buffer[index++] = BSON.BSON_DATA_INT;\n      // Number of written bytes\n      var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n      // Encode the name\n      index = index + numberOfWrittenBytes;\n      buffer[index++] = 0;\n      // Write the int value\n      buffer[index++] = value & 0xff;\n      buffer[index++] = value >> 8 & 0xff;\n      buffer[index++] = value >> 16 & 0xff;\n      buffer[index++] = value >> 24 & 0xff;\n    } else if (value >= BSON.JS_INT_MIN && value <= BSON.JS_INT_MAX) {\n      // Encode as double\n      buffer[index++] = BSON.BSON_DATA_NUMBER;\n      // Number of written bytes\n      numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n      // Encode the name\n      index = index + numberOfWrittenBytes;\n      buffer[index++] = 0;\n      // Write float\n      writeIEEE754(buffer, value, index, 'little', 52, 8);\n      // Ajust index\n      index = index + 8;\n    } else {\n      // Set long type\n      buffer[index++] = BSON.BSON_DATA_LONG;\n      // Number of written bytes\n      numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n      // Encode the name\n      index = index + numberOfWrittenBytes;\n      buffer[index++] = 0;\n      var longVal = Long.fromNumber(value);\n      var lowBits = longVal.getLowBits();\n      var highBits = longVal.getHighBits();\n      // Encode low bits\n      buffer[index++] = lowBits & 0xff;\n      buffer[index++] = lowBits >> 8 & 0xff;\n      buffer[index++] = lowBits >> 16 & 0xff;\n      buffer[index++] = lowBits >> 24 & 0xff;\n      // Encode high bits\n      buffer[index++] = highBits & 0xff;\n      buffer[index++] = highBits >> 8 & 0xff;\n      buffer[index++] = highBits >> 16 & 0xff;\n      buffer[index++] = highBits >> 24 & 0xff;\n    }\n  } else {\n    // Encode as double\n    buffer[index++] = BSON.BSON_DATA_NUMBER;\n    // Number of written bytes\n    numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    // Write float\n    writeIEEE754(buffer, value, index, 'little', 52, 8);\n    // Ajust index\n    index = index + 8;\n  }\n\n  return index;\n};\n\nvar serializeNull = function serializeNull(buffer, key, value, index, isArray) {\n  // Set long type\n  buffer[index++] = BSON.BSON_DATA_NULL;\n\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  return index;\n};\n\nvar serializeBoolean = function serializeBoolean(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_BOOLEAN;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Encode the boolean value\n  buffer[index++] = value ? 1 : 0;\n  return index;\n};\n\nvar serializeDate = function serializeDate(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_DATE;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n\n  // Write the date\n  var dateInMilis = Long.fromNumber(value.getTime());\n  var lowBits = dateInMilis.getLowBits();\n  var highBits = dateInMilis.getHighBits();\n  // Encode low bits\n  buffer[index++] = lowBits & 0xff;\n  buffer[index++] = lowBits >> 8 & 0xff;\n  buffer[index++] = lowBits >> 16 & 0xff;\n  buffer[index++] = lowBits >> 24 & 0xff;\n  // Encode high bits\n  buffer[index++] = highBits & 0xff;\n  buffer[index++] = highBits >> 8 & 0xff;\n  buffer[index++] = highBits >> 16 & 0xff;\n  buffer[index++] = highBits >> 24 & 0xff;\n  return index;\n};\n\nvar serializeRegExp = function serializeRegExp(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_REGEXP;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  if (value.source && value.source.match(regexp) != null) {\n    throw Error('value ' + value.source + ' must not contain null bytes');\n  }\n  // Adjust the index\n  index = index + buffer.write(value.source, index, 'utf8');\n  // Write zero\n  buffer[index++] = 0x00;\n  // Write the parameters\n  if (value.global) buffer[index++] = 0x73; // s\n  if (value.ignoreCase) buffer[index++] = 0x69; // i\n  if (value.multiline) buffer[index++] = 0x6d; // m\n\n  // Add ending zero\n  buffer[index++] = 0x00;\n  return index;\n};\n\nvar serializeBSONRegExp = function serializeBSONRegExp(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_REGEXP;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n\n  // Check the pattern for 0 bytes\n  if (value.pattern.match(regexp) != null) {\n    // The BSON spec doesn't allow keys with null bytes because keys are\n    // null-terminated.\n    throw Error('pattern ' + value.pattern + ' must not contain null bytes');\n  }\n\n  // Adjust the index\n  index = index + buffer.write(value.pattern, index, 'utf8');\n  // Write zero\n  buffer[index++] = 0x00;\n  // Write the options\n  index = index + buffer.write(value.options.split('').sort().join(''), index, 'utf8');\n  // Add ending zero\n  buffer[index++] = 0x00;\n  return index;\n};\n\nvar serializeMinMax = function serializeMinMax(buffer, key, value, index, isArray) {\n  // Write the type of either min or max key\n  if (value === null) {\n    buffer[index++] = BSON.BSON_DATA_NULL;\n  } else if (value instanceof MinKey) {\n    buffer[index++] = BSON.BSON_DATA_MIN_KEY;\n  } else {\n    buffer[index++] = BSON.BSON_DATA_MAX_KEY;\n  }\n\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  return index;\n};\n\nvar serializeObjectId = function serializeObjectId(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_OID;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n\n  // Write the objectId into the shared buffer\n  if (typeof value.id === 'string') {\n    buffer.write(value.id, index, 'binary');\n  } else if (value.id && value.id.copy) {\n    value.id.copy(buffer, index, 0, 12);\n  } else {\n    throw new Error('object [' + JSON.stringify(value) + '] is not a valid ObjectId');\n  }\n\n  // Ajust index\n  return index + 12;\n};\n\nvar serializeBuffer = function serializeBuffer(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_BINARY;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Get size of the buffer (current write point)\n  var size = value.length;\n  // Write the size of the string to buffer\n  buffer[index++] = size & 0xff;\n  buffer[index++] = size >> 8 & 0xff;\n  buffer[index++] = size >> 16 & 0xff;\n  buffer[index++] = size >> 24 & 0xff;\n  // Write the default subtype\n  buffer[index++] = BSON.BSON_BINARY_SUBTYPE_DEFAULT;\n  // Copy the content form the binary field to the buffer\n  value.copy(buffer, index, 0, size);\n  // Adjust the index\n  index = index + size;\n  return index;\n};\n\nvar serializeObject = function serializeObject(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, isArray, path) {\n  for (var i = 0; i < path.length; i++) {\n    if (path[i] === value) throw new Error('cyclic dependency detected');\n  }\n\n  // Push value to stack\n  path.push(value);\n  // Write the type\n  buffer[index++] = Array.isArray(value) ? BSON.BSON_DATA_ARRAY : BSON.BSON_DATA_OBJECT;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  var endIndex = serializeInto(buffer, value, checkKeys, index, depth + 1, serializeFunctions, ignoreUndefined, path);\n  // Pop stack\n  path.pop();\n  return endIndex;\n};\n\nvar serializeDecimal128 = function serializeDecimal128(buffer, key, value, index, isArray) {\n  buffer[index++] = BSON.BSON_DATA_DECIMAL128;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Write the data from the value\n  value.bytes.copy(buffer, index, 0, 16);\n  return index + 16;\n};\n\nvar serializeLong = function serializeLong(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = value._bsontype === 'Long' ? BSON.BSON_DATA_LONG : BSON.BSON_DATA_TIMESTAMP;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Write the date\n  var lowBits = value.getLowBits();\n  var highBits = value.getHighBits();\n  // Encode low bits\n  buffer[index++] = lowBits & 0xff;\n  buffer[index++] = lowBits >> 8 & 0xff;\n  buffer[index++] = lowBits >> 16 & 0xff;\n  buffer[index++] = lowBits >> 24 & 0xff;\n  // Encode high bits\n  buffer[index++] = highBits & 0xff;\n  buffer[index++] = highBits >> 8 & 0xff;\n  buffer[index++] = highBits >> 16 & 0xff;\n  buffer[index++] = highBits >> 24 & 0xff;\n  return index;\n};\n\nvar serializeInt32 = function serializeInt32(buffer, key, value, index, isArray) {\n  // Set int type 32 bits or less\n  buffer[index++] = BSON.BSON_DATA_INT;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Write the int value\n  buffer[index++] = value & 0xff;\n  buffer[index++] = value >> 8 & 0xff;\n  buffer[index++] = value >> 16 & 0xff;\n  buffer[index++] = value >> 24 & 0xff;\n  return index;\n};\n\nvar serializeDouble = function serializeDouble(buffer, key, value, index, isArray) {\n  // Encode as double\n  buffer[index++] = BSON.BSON_DATA_NUMBER;\n\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n\n  // Write float\n  writeIEEE754(buffer, value.value, index, 'little', 52, 8);\n\n  // Adjust index\n  index = index + 8;\n  return index;\n};\n\nvar serializeFunction = function serializeFunction(buffer, key, value, index, checkKeys, depth, isArray) {\n  buffer[index++] = BSON.BSON_DATA_CODE;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Function string\n  var functionString = value.toString();\n  // Write the string\n  var size = buffer.write(functionString, index + 4, 'utf8') + 1;\n  // Write the size of the string to buffer\n  buffer[index] = size & 0xff;\n  buffer[index + 1] = size >> 8 & 0xff;\n  buffer[index + 2] = size >> 16 & 0xff;\n  buffer[index + 3] = size >> 24 & 0xff;\n  // Update index\n  index = index + 4 + size - 1;\n  // Write zero\n  buffer[index++] = 0;\n  return index;\n};\n\nvar serializeCode = function serializeCode(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, isArray) {\n  if (value.scope && _typeof(value.scope) === 'object') {\n    // Write the type\n    buffer[index++] = BSON.BSON_DATA_CODE_W_SCOPE;\n    // Number of written bytes\n    var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n\n    // Starting index\n    var startIndex = index;\n\n    // Serialize the function\n    // Get the function string\n    var functionString = typeof value.code === 'string' ? value.code : value.code.toString();\n    // Index adjustment\n    index = index + 4;\n    // Write string into buffer\n    var codeSize = buffer.write(functionString, index + 4, 'utf8') + 1;\n    // Write the size of the string to buffer\n    buffer[index] = codeSize & 0xff;\n    buffer[index + 1] = codeSize >> 8 & 0xff;\n    buffer[index + 2] = codeSize >> 16 & 0xff;\n    buffer[index + 3] = codeSize >> 24 & 0xff;\n    // Write end 0\n    buffer[index + 4 + codeSize - 1] = 0;\n    // Write the\n    index = index + codeSize + 4;\n\n    //\n    // Serialize the scope value\n    var endIndex = serializeInto(buffer, value.scope, checkKeys, index, depth + 1, serializeFunctions, ignoreUndefined);\n    index = endIndex - 1;\n\n    // Writ the total\n    var totalSize = endIndex - startIndex;\n\n    // Write the total size of the object\n    buffer[startIndex++] = totalSize & 0xff;\n    buffer[startIndex++] = totalSize >> 8 & 0xff;\n    buffer[startIndex++] = totalSize >> 16 & 0xff;\n    buffer[startIndex++] = totalSize >> 24 & 0xff;\n    // Write trailing zero\n    buffer[index++] = 0;\n  } else {\n    buffer[index++] = BSON.BSON_DATA_CODE;\n    // Number of written bytes\n    numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    // Function string\n    functionString = value.code.toString();\n    // Write the string\n    var size = buffer.write(functionString, index + 4, 'utf8') + 1;\n    // Write the size of the string to buffer\n    buffer[index] = size & 0xff;\n    buffer[index + 1] = size >> 8 & 0xff;\n    buffer[index + 2] = size >> 16 & 0xff;\n    buffer[index + 3] = size >> 24 & 0xff;\n    // Update index\n    index = index + 4 + size - 1;\n    // Write zero\n    buffer[index++] = 0;\n  }\n\n  return index;\n};\n\nvar serializeBinary = function serializeBinary(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_BINARY;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Extract the buffer\n  var data = value.value(true);\n  // Calculate size\n  var size = value.position;\n  // Add the deprecated 02 type 4 bytes of size to total\n  if (value.sub_type === Binary.SUBTYPE_BYTE_ARRAY) size = size + 4;\n  // Write the size of the string to buffer\n  buffer[index++] = size & 0xff;\n  buffer[index++] = size >> 8 & 0xff;\n  buffer[index++] = size >> 16 & 0xff;\n  buffer[index++] = size >> 24 & 0xff;\n  // Write the subtype to the buffer\n  buffer[index++] = value.sub_type;\n\n  // If we have binary type 2 the 4 first bytes are the size\n  if (value.sub_type === Binary.SUBTYPE_BYTE_ARRAY) {\n    size = size - 4;\n    buffer[index++] = size & 0xff;\n    buffer[index++] = size >> 8 & 0xff;\n    buffer[index++] = size >> 16 & 0xff;\n    buffer[index++] = size >> 24 & 0xff;\n  }\n\n  // Write the data to the object\n  data.copy(buffer, index, 0, value.position);\n  // Adjust the index\n  index = index + value.position;\n  return index;\n};\n\nvar serializeSymbol = function serializeSymbol(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_SYMBOL;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Write the string\n  var size = buffer.write(value.value, index + 4, 'utf8') + 1;\n  // Write the size of the string to buffer\n  buffer[index] = size & 0xff;\n  buffer[index + 1] = size >> 8 & 0xff;\n  buffer[index + 2] = size >> 16 & 0xff;\n  buffer[index + 3] = size >> 24 & 0xff;\n  // Update index\n  index = index + 4 + size - 1;\n  // Write zero\n  buffer[index++] = 0x00;\n  return index;\n};\n\nvar serializeDBRef = function serializeDBRef(buffer, key, value, index, depth, serializeFunctions, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_OBJECT;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray ? buffer.write(key, index, 'utf8') : buffer.write(key, index, 'ascii');\n\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n\n  var startIndex = index;\n  var endIndex;\n  var output = {\n    $ref: value.collection,\n    $id: value.oid\n  };\n\n  if (value.db != null) output.$db = value.db;\n\n  output = Object.assign(output, value.fields);\n  endIndex = serializeInto(buffer, output, false, index, depth + 1, serializeFunctions);\n\n  // Calculate object size\n  var size = endIndex - startIndex;\n  // Write the size\n  buffer[startIndex++] = size & 0xff;\n  buffer[startIndex++] = size >> 8 & 0xff;\n  buffer[startIndex++] = size >> 16 & 0xff;\n  buffer[startIndex++] = size >> 24 & 0xff;\n  // Set index\n  return endIndex;\n};\n\nvar serializeInto = function serializeInto(buffer, object, checkKeys, startingIndex, depth, serializeFunctions, ignoreUndefined, path) {\n  startingIndex = startingIndex || 0;\n  path = path || [];\n\n  // Push the object to the path\n  path.push(object);\n\n  // Start place to serialize into\n  var index = startingIndex + 4;\n\n  // Special case isArray\n  if (Array.isArray(object)) {\n    // Get object keys\n    for (var i = 0; i < object.length; i++) {\n      var key = '' + i;\n      var value = object[i];\n\n      // Is there an override value\n      if (value && value.toBSON) {\n        if (typeof value.toBSON !== 'function') throw new Error('toBSON is not a function');\n        value = value.toBSON();\n      }\n\n      var type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n      if (type === 'string') {\n        index = serializeString(buffer, key, value, index, true);\n      } else if (type === 'number') {\n        index = serializeNumber(buffer, key, value, index, true);\n      } else if (type === 'boolean') {\n        index = serializeBoolean(buffer, key, value, index, true);\n      } else if (value instanceof Date || isDate(value)) {\n        index = serializeDate(buffer, key, value, index, true);\n      } else if (value === undefined) {\n        index = serializeNull(buffer, key, value, index, true);\n      } else if (value === null) {\n        index = serializeNull(buffer, key, value, index, true);\n      } else if (value['_bsontype'] === 'ObjectID') {\n        index = serializeObjectId(buffer, key, value, index, true);\n      } else if (Buffer.isBuffer(value)) {\n        index = serializeBuffer(buffer, key, value, index, true);\n      } else if (value instanceof RegExp || isRegExp(value)) {\n        index = serializeRegExp(buffer, key, value, index, true);\n      } else if (type === 'object' && value['_bsontype'] == null) {\n        index = serializeObject(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, true, path);\n      } else if (type === 'object' && value['_bsontype'] === 'Decimal128') {\n        index = serializeDecimal128(buffer, key, value, index, true);\n      } else if (value['_bsontype'] === 'Long' || value['_bsontype'] === 'Timestamp') {\n        index = serializeLong(buffer, key, value, index, true);\n      } else if (value['_bsontype'] === 'Double') {\n        index = serializeDouble(buffer, key, value, index, true);\n      } else if (typeof value === 'function' && serializeFunctions) {\n        index = serializeFunction(buffer, key, value, index, checkKeys, depth, serializeFunctions, true);\n      } else if (value['_bsontype'] === 'Code') {\n        index = serializeCode(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, true);\n      } else if (value['_bsontype'] === 'Binary') {\n        index = serializeBinary(buffer, key, value, index, true);\n      } else if (value['_bsontype'] === 'Symbol') {\n        index = serializeSymbol(buffer, key, value, index, true);\n      } else if (value['_bsontype'] === 'DBRef') {\n        index = serializeDBRef(buffer, key, value, index, depth, serializeFunctions, true);\n      } else if (value['_bsontype'] === 'BSONRegExp') {\n        index = serializeBSONRegExp(buffer, key, value, index, true);\n      } else if (value['_bsontype'] === 'Int32') {\n        index = serializeInt32(buffer, key, value, index, true);\n      } else if (value['_bsontype'] === 'MinKey' || value['_bsontype'] === 'MaxKey') {\n        index = serializeMinMax(buffer, key, value, index, true);\n      }\n    }\n  } else if (object instanceof Map) {\n    var iterator = object.entries();\n    var done = false;\n\n    while (!done) {\n      // Unpack the next entry\n      var entry = iterator.next();\n      done = entry.done;\n      // Are we done, then skip and terminate\n      if (done) continue;\n\n      // Get the entry values\n      key = entry.value[0];\n      value = entry.value[1];\n\n      // Check the type of the value\n      type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n\n      // Check the key and throw error if it's illegal\n      if (key !== '$db' && key !== '$ref' && key !== '$id') {\n        if (key.match(regexp) != null) {\n          // The BSON spec doesn't allow keys with null bytes because keys are\n          // null-terminated.\n          throw Error('key ' + key + ' must not contain null bytes');\n        }\n\n        if (checkKeys) {\n          if ('$' === key[0]) {\n            throw Error('key ' + key + \" must not start with '$'\");\n          } else if (~key.indexOf('.')) {\n            throw Error('key ' + key + \" must not contain '.'\");\n          }\n        }\n      }\n\n      if (type === 'string') {\n        index = serializeString(buffer, key, value, index);\n      } else if (type === 'number') {\n        index = serializeNumber(buffer, key, value, index);\n      } else if (type === 'boolean') {\n        index = serializeBoolean(buffer, key, value, index);\n      } else if (value instanceof Date || isDate(value)) {\n        index = serializeDate(buffer, key, value, index);\n      } else if (value === null || value === undefined && ignoreUndefined === false) {\n        index = serializeNull(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'ObjectID') {\n        index = serializeObjectId(buffer, key, value, index);\n      } else if (Buffer.isBuffer(value)) {\n        index = serializeBuffer(buffer, key, value, index);\n      } else if (value instanceof RegExp || isRegExp(value)) {\n        index = serializeRegExp(buffer, key, value, index);\n      } else if (type === 'object' && value['_bsontype'] == null) {\n        index = serializeObject(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, false, path);\n      } else if (type === 'object' && value['_bsontype'] === 'Decimal128') {\n        index = serializeDecimal128(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Long' || value['_bsontype'] === 'Timestamp') {\n        index = serializeLong(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Double') {\n        index = serializeDouble(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Code') {\n        index = serializeCode(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined);\n      } else if (typeof value === 'function' && serializeFunctions) {\n        index = serializeFunction(buffer, key, value, index, checkKeys, depth, serializeFunctions);\n      } else if (value['_bsontype'] === 'Binary') {\n        index = serializeBinary(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Symbol') {\n        index = serializeSymbol(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'DBRef') {\n        index = serializeDBRef(buffer, key, value, index, depth, serializeFunctions);\n      } else if (value['_bsontype'] === 'BSONRegExp') {\n        index = serializeBSONRegExp(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Int32') {\n        index = serializeInt32(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'MinKey' || value['_bsontype'] === 'MaxKey') {\n        index = serializeMinMax(buffer, key, value, index);\n      }\n    }\n  } else {\n    // Did we provide a custom serialization method\n    if (object.toBSON) {\n      if (typeof object.toBSON !== 'function') throw new Error('toBSON is not a function');\n      object = object.toBSON();\n      if (object != null && (typeof object === 'undefined' ? 'undefined' : _typeof(object)) !== 'object') throw new Error('toBSON function did not return an object');\n    }\n\n    // Iterate over all the keys\n    for (key in object) {\n      value = object[key];\n      // Is there an override value\n      if (value && value.toBSON) {\n        if (typeof value.toBSON !== 'function') throw new Error('toBSON is not a function');\n        value = value.toBSON();\n      }\n\n      // Check the type of the value\n      type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n\n      // Check the key and throw error if it's illegal\n      if (key !== '$db' && key !== '$ref' && key !== '$id') {\n        if (key.match(regexp) != null) {\n          // The BSON spec doesn't allow keys with null bytes because keys are\n          // null-terminated.\n          throw Error('key ' + key + ' must not contain null bytes');\n        }\n\n        if (checkKeys) {\n          if ('$' === key[0]) {\n            throw Error('key ' + key + \" must not start with '$'\");\n          } else if (~key.indexOf('.')) {\n            throw Error('key ' + key + \" must not contain '.'\");\n          }\n        }\n      }\n\n      if (type === 'string') {\n        index = serializeString(buffer, key, value, index);\n      } else if (type === 'number') {\n        index = serializeNumber(buffer, key, value, index);\n      } else if (type === 'boolean') {\n        index = serializeBoolean(buffer, key, value, index);\n      } else if (value instanceof Date || isDate(value)) {\n        index = serializeDate(buffer, key, value, index);\n      } else if (value === undefined) {\n        if (ignoreUndefined === false) index = serializeNull(buffer, key, value, index);\n      } else if (value === null) {\n        index = serializeNull(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'ObjectID') {\n        index = serializeObjectId(buffer, key, value, index);\n      } else if (Buffer.isBuffer(value)) {\n        index = serializeBuffer(buffer, key, value, index);\n      } else if (value instanceof RegExp || isRegExp(value)) {\n        index = serializeRegExp(buffer, key, value, index);\n      } else if (type === 'object' && value['_bsontype'] == null) {\n        index = serializeObject(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined, false, path);\n      } else if (type === 'object' && value['_bsontype'] === 'Decimal128') {\n        index = serializeDecimal128(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Long' || value['_bsontype'] === 'Timestamp') {\n        index = serializeLong(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Double') {\n        index = serializeDouble(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Code') {\n        index = serializeCode(buffer, key, value, index, checkKeys, depth, serializeFunctions, ignoreUndefined);\n      } else if (typeof value === 'function' && serializeFunctions) {\n        index = serializeFunction(buffer, key, value, index, checkKeys, depth, serializeFunctions);\n      } else if (value['_bsontype'] === 'Binary') {\n        index = serializeBinary(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Symbol') {\n        index = serializeSymbol(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'DBRef') {\n        index = serializeDBRef(buffer, key, value, index, depth, serializeFunctions);\n      } else if (value['_bsontype'] === 'BSONRegExp') {\n        index = serializeBSONRegExp(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Int32') {\n        index = serializeInt32(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'MinKey' || value['_bsontype'] === 'MaxKey') {\n        index = serializeMinMax(buffer, key, value, index);\n      }\n    }\n  }\n\n  // Remove the path\n  path.pop();\n\n  // Final padding byte for object\n  buffer[index++] = 0x00;\n\n  // Final size\n  var size = index - startingIndex;\n  // Write the size of the object\n  buffer[startingIndex++] = size & 0xff;\n  buffer[startingIndex++] = size >> 8 & 0xff;\n  buffer[startingIndex++] = size >> 16 & 0xff;\n  buffer[startingIndex++] = size >> 24 & 0xff;\n  return index;\n};\n\nvar BSON = {};\n\n/**\n * Contains the function cache if we have that enable to allow for avoiding the eval step on each deserialization, comparison is by md5\n *\n * @ignore\n * @api private\n */\n// var functionCache = (BSON.functionCache = {});\n\n/**\n * Number BSON Type\n *\n * @classconstant BSON_DATA_NUMBER\n **/\nBSON.BSON_DATA_NUMBER = 1;\n/**\n * String BSON Type\n *\n * @classconstant BSON_DATA_STRING\n **/\nBSON.BSON_DATA_STRING = 2;\n/**\n * Object BSON Type\n *\n * @classconstant BSON_DATA_OBJECT\n **/\nBSON.BSON_DATA_OBJECT = 3;\n/**\n * Array BSON Type\n *\n * @classconstant BSON_DATA_ARRAY\n **/\nBSON.BSON_DATA_ARRAY = 4;\n/**\n * Binary BSON Type\n *\n * @classconstant BSON_DATA_BINARY\n **/\nBSON.BSON_DATA_BINARY = 5;\n/**\n * ObjectID BSON Type, deprecated\n *\n * @classconstant BSON_DATA_UNDEFINED\n **/\nBSON.BSON_DATA_UNDEFINED = 6;\n/**\n * ObjectID BSON Type\n *\n * @classconstant BSON_DATA_OID\n **/\nBSON.BSON_DATA_OID = 7;\n/**\n * Boolean BSON Type\n *\n * @classconstant BSON_DATA_BOOLEAN\n **/\nBSON.BSON_DATA_BOOLEAN = 8;\n/**\n * Date BSON Type\n *\n * @classconstant BSON_DATA_DATE\n **/\nBSON.BSON_DATA_DATE = 9;\n/**\n * null BSON Type\n *\n * @classconstant BSON_DATA_NULL\n **/\nBSON.BSON_DATA_NULL = 10;\n/**\n * RegExp BSON Type\n *\n * @classconstant BSON_DATA_REGEXP\n **/\nBSON.BSON_DATA_REGEXP = 11;\n/**\n * Code BSON Type\n *\n * @classconstant BSON_DATA_CODE\n **/\nBSON.BSON_DATA_CODE = 13;\n/**\n * Symbol BSON Type\n *\n * @classconstant BSON_DATA_SYMBOL\n **/\nBSON.BSON_DATA_SYMBOL = 14;\n/**\n * Code with Scope BSON Type\n *\n * @classconstant BSON_DATA_CODE_W_SCOPE\n **/\nBSON.BSON_DATA_CODE_W_SCOPE = 15;\n/**\n * 32 bit Integer BSON Type\n *\n * @classconstant BSON_DATA_INT\n **/\nBSON.BSON_DATA_INT = 16;\n/**\n * Timestamp BSON Type\n *\n * @classconstant BSON_DATA_TIMESTAMP\n **/\nBSON.BSON_DATA_TIMESTAMP = 17;\n/**\n * Long BSON Type\n *\n * @classconstant BSON_DATA_LONG\n **/\nBSON.BSON_DATA_LONG = 18;\n/**\n * Long BSON Type\n *\n * @classconstant BSON_DATA_DECIMAL128\n **/\nBSON.BSON_DATA_DECIMAL128 = 19;\n/**\n * MinKey BSON Type\n *\n * @classconstant BSON_DATA_MIN_KEY\n **/\nBSON.BSON_DATA_MIN_KEY = 0xff;\n/**\n * MaxKey BSON Type\n *\n * @classconstant BSON_DATA_MAX_KEY\n **/\nBSON.BSON_DATA_MAX_KEY = 0x7f;\n/**\n * Binary Default Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_DEFAULT\n **/\nBSON.BSON_BINARY_SUBTYPE_DEFAULT = 0;\n/**\n * Binary Function Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_FUNCTION\n **/\nBSON.BSON_BINARY_SUBTYPE_FUNCTION = 1;\n/**\n * Binary Byte Array Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_BYTE_ARRAY\n **/\nBSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY = 2;\n/**\n * Binary UUID Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_UUID\n **/\nBSON.BSON_BINARY_SUBTYPE_UUID = 3;\n/**\n * Binary MD5 Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_MD5\n **/\nBSON.BSON_BINARY_SUBTYPE_MD5 = 4;\n/**\n * Binary User Defined Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_USER_DEFINED\n **/\nBSON.BSON_BINARY_SUBTYPE_USER_DEFINED = 128;\n\n// BSON MAX VALUES\nBSON.BSON_INT32_MAX = 0x7fffffff;\nBSON.BSON_INT32_MIN = -0x80000000;\n\nBSON.BSON_INT64_MAX = Math.pow(2, 63) - 1;\nBSON.BSON_INT64_MIN = -Math.pow(2, 63);\n\n// JS MAX PRECISE VALUES\nBSON.JS_INT_MAX = 0x20000000000000; // Any integer up to 2^53 can be precisely represented by a double.\nBSON.JS_INT_MIN = -0x20000000000000; // Any integer down to -2^53 can be precisely represented by a double.\n\n// Internal long versions\n// var JS_INT_MAX_LONG = Long.fromNumber(0x20000000000000); // Any integer up to 2^53 can be precisely represented by a double.\n// var JS_INT_MIN_LONG = Long.fromNumber(-0x20000000000000); // Any integer down to -2^53 can be precisely represented by a double.\n\nmodule.exports = serializeInto;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Auth = exports.AuthFactory = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /* global window, document, fetch */\n\nexports.newAuth = newAuth;\n\nvar _storage = __webpack_require__(32);\n\nvar _providers = __webpack_require__(22);\n\nvar _errors = __webpack_require__(7);\n\nvar _common = __webpack_require__(3);\n\nvar authCommon = _interopRequireWildcard(_common);\n\nvar _common2 = __webpack_require__(6);\n\nvar common = _interopRequireWildcard(_common2);\n\nvar _detectBrowser = __webpack_require__(58);\n\nvar _platform = _interopRequireWildcard(_detectBrowser);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar jwtDecode = __webpack_require__(65);\n\nvar EMBEDDED_USER_AUTH_DATA_PARTS = 4;\n\n/** @private */\n\nvar AuthFactory = exports.AuthFactory = function () {\n  function AuthFactory() {\n    _classCallCheck(this, AuthFactory);\n\n    throw new _errors.StitchError('Auth can only be made from the AuthFactory.create function');\n  }\n\n  _createClass(AuthFactory, null, [{\n    key: 'create',\n    value: function create(client, rootUrl, options) {\n      return newAuth(client, rootUrl, options);\n    }\n  }]);\n\n  return AuthFactory;\n}();\n\n/** @private */\n\n\nfunction newAuth(client, rootUrl, options) {\n  var auth = Object.create(Auth.prototype);\n  var namespace = void 0;\n  if (!client || client.clientAppID === '') {\n    namespace = 'admin';\n  } else {\n    namespace = 'client.' + client.clientAppID;\n  }\n\n  options = Object.assign({\n    codec: authCommon.APP_CLIENT_CODEC,\n    namespace: namespace,\n    storageType: 'localStorage'\n  }, options);\n\n  auth.client = client;\n  auth.rootUrl = rootUrl;\n  auth.codec = options.codec;\n  auth.platform = options.platform || _platform;\n  auth.storage = (0, _storage.createStorage)(options);\n  auth.providers = (0, _providers.createProviders)(auth, options);\n\n  return Promise.all([auth._get(), auth.storage.get(authCommon.REFRESH_TOKEN_KEY), auth.storage.get(authCommon.USER_LOGGED_IN_PT_KEY), auth.storage.get(authCommon.DEVICE_ID_KEY)]).then(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 4),\n        authObj = _ref2[0],\n        rt = _ref2[1],\n        loggedInProviderType = _ref2[2],\n        deviceId = _ref2[3];\n\n    auth.auth = authObj;\n    auth.authedId = authObj.userId;\n    auth.rt = rt;\n    auth.loggedInProviderType = loggedInProviderType;\n    auth.deviceId = deviceId;\n\n    return auth;\n  });\n}\n\n/** @private */\n\nvar Auth = exports.Auth = function () {\n  function Auth(client, rootUrl, options) {\n    _classCallCheck(this, Auth);\n\n    throw new _errors.StitchError('Auth can only be made from the AuthFactory.create function');\n  }\n\n  /**\n   * Create the device info for this client.\n   *\n   * @private\n   * @memberof module:auth\n   * @method getDeviceInfo\n   * @param {String} appId The app ID for this client\n   * @param {String} appVersion The version of the app\n   * @returns {Object} The device info object\n   */\n\n\n  _createClass(Auth, [{\n    key: 'getDeviceInfo',\n    value: function getDeviceInfo(deviceId, appId) {\n      var appVersion = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n\n      var deviceInfo = { appId: appId, appVersion: appVersion, sdkVersion: common.SDK_VERSION };\n\n      if (deviceId) {\n        deviceInfo.deviceId = deviceId;\n      }\n\n      if (this.platform) {\n        deviceInfo.platform = this.platform.name;\n        deviceInfo.platformVersion = this.platform.version;\n      }\n\n      return deviceInfo;\n    }\n  }, {\n    key: 'provider',\n    value: function provider(name) {\n      if (!this.providers.hasOwnProperty(name)) {\n        throw new Error('Invalid auth provider specified: ' + name);\n      }\n\n      return this.providers[name];\n    }\n  }, {\n    key: 'refreshToken',\n    value: function refreshToken() {\n      var _this = this;\n\n      return this.client.doSessionPost().then(function (json) {\n        return _this.set(json);\n      });\n    }\n  }, {\n    key: 'pageRootUrl',\n    value: function pageRootUrl() {\n      return [window.location.protocol, '//', window.location.host, window.location.pathname].join('');\n    }\n  }, {\n    key: 'error',\n    value: function error() {\n      return this._error;\n    }\n  }, {\n    key: 'isAppClient',\n    value: function isAppClient() {\n      if (!this.client) {\n        return true; // Handle the case where Auth is constructed with null\n      }\n      return this.client.type === common.APP_CLIENT_TYPE;\n    }\n  }, {\n    key: 'handleRedirect',\n    value: function handleRedirect() {\n      var _this2 = this;\n\n      if (typeof window === 'undefined') {\n        // This means we're running in some environment other\n        // than a browser - so handling a redirect makes no sense here.\n        return;\n      }\n      if (!window.location || !window.location.hash) {\n        return;\n      }\n\n      return Promise.all([this.storage.get(authCommon.STATE_KEY), this.storage.get(authCommon.STITCH_REDIRECT_PROVIDER)]).then(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n            ourState = _ref4[0],\n            redirectProvider = _ref4[1];\n\n        var redirectFragment = window.location.hash.substring(1);\n        var redirectState = _this2.parseRedirectFragment(redirectFragment, ourState);\n        if (redirectState.lastError || redirectState.found && !redirectProvider) {\n          console.error('StitchClient: error from redirect: ' + (redirectState.lastError ? redirectState.lastError : 'provider type not set'));\n          _this2._error = redirectState.lastError;\n          window.history.replaceState(null, '', _this2.pageRootUrl());\n          return Promise.reject();\n        }\n\n        if (!redirectState.found) {\n          return Promise.reject();\n        }\n\n        return Promise.all([_this2.storage.remove(authCommon.STATE_KEY), _this2.storage.remove(authCommon.STITCH_REDIRECT_PROVIDER)]).then(function () {\n          return { redirectState: redirectState, redirectProvider: redirectProvider };\n        });\n      }).then(function (_ref5) {\n        var redirectState = _ref5.redirectState,\n            redirectProvider = _ref5.redirectProvider;\n\n        if (!redirectState.stateValid) {\n          console.error('StitchClient: state values did not match!');\n          window.history.replaceState(null, '', _this2.pageRootUrl());\n          return;\n        }\n\n        if (!redirectState.ua) {\n          console.error('StitchClient: no UA value was returned from redirect!');\n          return;\n        }\n\n        // If we get here, the state is valid - set auth appropriately.\n        return _this2.set(redirectState.ua, redirectProvider);\n      }).then(function () {\n        return window.history.replaceState(null, '', _this2.pageRootUrl());\n      }).catch(function (error) {\n        if (error) {\n          throw error;\n        }\n      });\n    }\n  }, {\n    key: 'getCookie',\n    value: function getCookie(name) {\n      var splitCookies = document.cookie.split(' ');\n      for (var i = 0; i < splitCookies.length; i++) {\n        var cookie = splitCookies[i];\n        var sepIdx = cookie.indexOf('=');\n        var cookieName = cookie.substring(0, sepIdx);\n        if (cookieName === name) {\n          var cookieVal = cookie.substring(sepIdx + 1, cookie.length);\n          if (cookieVal[cookieVal.length - 1] === ';') {\n            return cookieVal.substring(0, cookie.length - 1);\n          }\n          return cookieVal;\n        }\n      }\n    }\n  }, {\n    key: 'handleCookie',\n    value: function handleCookie() {\n      var _this3 = this;\n\n      if (typeof window === 'undefined' || typeof document === 'undefined') {\n        // This means we're running in some environment other\n        // than a browser - so handling a cookie makes no sense here.\n        return;\n      }\n      if (!document.cookie) {\n        return;\n      }\n\n      var uaCookie = this.getCookie(authCommon.USER_AUTH_COOKIE_NAME);\n      if (!uaCookie) {\n        return;\n      }\n\n      document.cookie = authCommon.USER_AUTH_COOKIE_NAME + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT;';\n      var userAuth = this.unmarshallUserAuth(uaCookie);\n      return this.set(userAuth, _providers.PROVIDER_TYPE_MONGODB_CLOUD).then(function () {\n        return window.history.replaceState(null, '', _this3.pageRootUrl());\n      });\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      this.auth = null;\n      this.authedId = null;\n      this.rt = null;\n      this.loggedInProviderType = null;\n\n      return Promise.all([this.storage.remove(authCommon.USER_AUTH_KEY), this.storage.remove(authCommon.REFRESH_TOKEN_KEY), this.storage.remove(authCommon.USER_LOGGED_IN_PT_KEY), this.storage.remove(authCommon.STITCH_REDIRECT_PROVIDER)]);\n    }\n  }, {\n    key: 'getDeviceId',\n    value: function getDeviceId() {\n      return this.deviceId;\n    }\n\n    // Returns whether or not the access token is expired or is going to expire within 'withinSeconds'\n    // seconds, according to current system time. Returns false if the token is malformed in any way.\n\n  }, {\n    key: 'isAccessTokenExpired',\n    value: function isAccessTokenExpired() {\n      var withinSeconds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : authCommon.DEFAULT_ACCESS_TOKEN_EXPIRE_WITHIN_SECS;\n\n      var token = this.getAccessToken();\n      if (!token) {\n        return false;\n      }\n\n      var decodedToken = void 0;\n      try {\n        decodedToken = jwtDecode(token);\n      } catch (e) {\n        return false;\n      }\n\n      if (!decodedToken) {\n        return false;\n      }\n\n      return decodedToken.exp && Math.floor(Date.now() / 1000) >= decodedToken.exp - withinSeconds;\n    }\n  }, {\n    key: 'getAccessToken',\n    value: function getAccessToken() {\n      return this.auth.accessToken;\n    }\n  }, {\n    key: 'getRefreshToken',\n    value: function getRefreshToken() {\n      return this.rt;\n    }\n  }, {\n    key: 'set',\n    value: function set(json) {\n      var _this4 = this;\n\n      var authType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n      if (!json) {\n        return;\n      }\n\n      var newUserAuth = {};\n      var setters = [];\n\n      if (authType) {\n        this.loggedInProviderType = authType;\n        setters.push(this.storage.set(authCommon.USER_LOGGED_IN_PT_KEY, authType));\n      }\n\n      if (json[this.codec.refreshToken]) {\n        this.rt = json[this.codec.refreshToken];\n        delete json[this.codec.refreshToken];\n        setters.push(this.storage.set(authCommon.REFRESH_TOKEN_KEY, this.rt));\n      }\n\n      if (json[this.codec.deviceId]) {\n        this.deviceId = json[this.codec.deviceId];\n        delete json[this.codec.deviceId];\n        setters.push(this.storage.set(authCommon.DEVICE_ID_KEY, this.deviceId));\n      }\n\n      // Merge in new fields with old fields. Typically the first json value\n      // is complete with every field inside a user auth, but subsequent requests\n      // do not include everything. This merging behavior is safe so long as json\n      // value responses with absent fields do not indicate that the field should\n      // be unset.\n      if (json[this.codec.accessToken]) {\n        newUserAuth.accessToken = json[this.codec.accessToken];\n      }\n      if (json[this.codec.userId]) {\n        newUserAuth.userId = json[this.codec.userId];\n      }\n\n      this.auth = Object.assign(this.auth ? this.auth : {}, newUserAuth);\n      this.authedId = this.auth.userId;\n      setters.push(this.storage.set(authCommon.USER_AUTH_KEY, JSON.stringify(this.auth)));\n      return Promise.all(setters).then(function () {\n        return _this4.auth;\n      });\n    }\n  }, {\n    key: '_get',\n    value: function _get() {\n      var _this5 = this;\n\n      return this.storage.get(authCommon.USER_AUTH_KEY).then(function (data) {\n        if (!data) {\n          return {};\n        }\n\n        try {\n          return JSON.parse(data);\n        } catch (e) {\n          // Need to back out and clear auth otherwise we will never\n          // be able to do anything useful.\n          return _this5.clear().then(function () {\n            throw new _errors.StitchError('Failure retrieving stored auth');\n          });\n        }\n      });\n    }\n  }, {\n    key: 'getLoggedInProviderType',\n    value: function getLoggedInProviderType() {\n      return this.loggedInProviderType;\n    }\n  }, {\n    key: 'parseRedirectFragment',\n    value: function parseRedirectFragment(fragment, ourState) {\n      // After being redirected from oauth, the URL will look like:\n      // https://todo.examples.stitch.mongodb.com/#_stitch_state=...&_stitch_ua=...\n      // This function parses out stitch-specific tokens from the fragment and\n      // builds an object describing the result.\n      var vars = fragment.split('&');\n      var result = { ua: null, found: false, stateValid: false, lastError: null };\n      var shouldBreak = false;\n      for (var i = 0; i < vars.length && !shouldBreak; ++i) {\n        var pairParts = vars[i].split('=');\n        var pairKey = decodeURIComponent(pairParts[0]);\n        switch (pairKey) {\n          case authCommon.STITCH_ERROR_KEY:\n            result.lastError = decodeURIComponent(pairParts[1]);\n            result.found = true;\n            shouldBreak = true;\n            break;\n          case authCommon.USER_AUTH_KEY:\n            try {\n              result.ua = this.unmarshallUserAuth(decodeURIComponent(pairParts[1]));\n              result.found = true;\n            } catch (e) {\n              result.lastError = e;\n            }\n            continue;\n          case authCommon.STITCH_LINK_KEY:\n            result.found = true;\n            continue;\n          case authCommon.STATE_KEY:\n            result.found = true;\n            var theirState = decodeURIComponent(pairParts[1]);\n            if (ourState && ourState === theirState) {\n              result.stateValid = true;\n            }\n            continue;\n          default:\n            continue;\n        }\n      }\n\n      return result;\n    }\n  }, {\n    key: 'unmarshallUserAuth',\n    value: function unmarshallUserAuth(data) {\n      var _ref6;\n\n      var parts = data.split('$');\n      if (parts.length !== EMBEDDED_USER_AUTH_DATA_PARTS) {\n        throw new RangeError('invalid user auth data provided: ' + data);\n      }\n\n      return _ref6 = {}, _defineProperty(_ref6, this.codec.accessToken, parts[0]), _defineProperty(_ref6, this.codec.refreshToken, parts[1]), _defineProperty(_ref6, this.codec.userId, parts[2]), _defineProperty(_ref6, this.codec.deviceId, parts[3]), _ref6;\n    }\n  }, {\n    key: 'fetchArgsWithLink',\n    value: function fetchArgsWithLink(fetchArgs, link) {\n      if (link) {\n        fetchArgs.headers.Authorization = 'Bearer ' + this.getAccessToken();\n      }\n\n      return fetchArgs;\n    }\n  }]);\n\n  return Auth;\n}();\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MemoryStorage = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.createStorage = createStorage;\n\nvar _common = __webpack_require__(3);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MemoryStorage = exports.MemoryStorage = function () {\n  function MemoryStorage() {\n    _classCallCheck(this, MemoryStorage);\n\n    this._data = {};\n    this._orderedKeys = [];\n    this.length = 0;\n  }\n\n  _createClass(MemoryStorage, [{\n    key: 'getItem',\n    value: function getItem(key) {\n      return key in this._data ? this._data[key] : null;\n    }\n  }, {\n    key: 'setItem',\n    value: function setItem(key, value) {\n      this._orderedKeys.push(key);\n      this._data[key] = value;\n      this.length++;\n      return this._data[key];\n    }\n  }, {\n    key: 'removeItem',\n    value: function removeItem(key) {\n      this._orderedKeys.pop(key);\n      delete this._data[key];\n      this.length--;\n      return undefined;\n    }\n  }, {\n    key: 'key',\n    value: function key(index) {\n      return this._orderedKeys[index];\n    }\n  }]);\n\n  return MemoryStorage;\n}();\n\nvar _VERSION = 1;\nvar _VERSION_KEY = '__stitch_storage_version__';\n\n/**\n  * Run a migration on the currently used storage\n  * that checks to see if the current version is up to date.\n  * If the version has not been set, this method will migrate\n  * to the latest version.\n  *\n  * @private\n  * @param {Integer} version version number of storage\n  * @param {Object} storage storage class being checked\n  * @returns {Promise} nullable promise containing migration logic\n  */\nfunction _runMigration(version, storage) {\n  switch (version) {\n    case null:\n    case undefined:\n      // return a promise,\n      // mapping each of the store's keys to a Promise\n      // that fetches the each value for each key,\n      // sets the old value to the new \"namespaced\" key\n      // remove the old key value pair,\n      // and set the version number\n      var migrations = [_common.USER_AUTH_KEY, _common.REFRESH_TOKEN_KEY, _common.DEVICE_ID_KEY, _common.STATE_KEY].map(function (key) {\n        return Promise.resolve(storage.store.getItem(key)).then(function (item) {\n          return !!item && storage.store.setItem(storage._generateKey(key), item);\n        }).then(function () {\n          return storage.store.removeItem(key);\n        });\n      });\n      return Promise.all(migrations).then(function () {\n        return storage.store.setItem(_VERSION_KEY, _VERSION);\n      });\n    // in future versions, `case 1:`, `case 2:` and so on\n    // could be added to perform similar migrations\n    default:\n      break;\n  }\n}\n\n/** @private */\n\nvar Storage = function () {\n  /**\n   * @param {Storage} store implementer of Storage interface\n   * @param {String} namespace clientAppID to be used for namespacing\n   * @param\n  */\n  function Storage(store, namespace) {\n    var _this = this;\n\n    _classCallCheck(this, Storage);\n\n    this.store = store;\n    this.namespace = '_stitch.' + namespace;\n\n    this._migration = Promise.resolve(this.store.getItem(_VERSION_KEY)).then(function (version) {\n      return _runMigration(version, _this);\n    });\n  }\n\n  _createClass(Storage, [{\n    key: '_generateKey',\n    value: function _generateKey(key) {\n      return this.namespace + '.' + key;\n    }\n  }, {\n    key: 'get',\n    value: function get(key) {\n      var _this2 = this;\n\n      return Promise.resolve(this._migration).then(function () {\n        return _this2.store.getItem(_this2._generateKey(key));\n      });\n    }\n  }, {\n    key: 'set',\n    value: function set(key, value) {\n      var _this3 = this;\n\n      return Promise.resolve(this._migration).then(function () {\n        return _this3.store.setItem(_this3._generateKey(key), value);\n      }).then(function () {\n        return value;\n      });\n    }\n  }, {\n    key: 'remove',\n    value: function remove(key) {\n      var _this4 = this;\n\n      return Promise.resolve(this._migration).then(function () {\n        return _this4.store.removeItem(_this4._generateKey(key));\n      });\n    }\n  }]);\n\n  return Storage;\n}();\n\nfunction createStorage(options) {\n  var storageType = options.storageType,\n      storage = options.storage,\n      namespace = options.namespace;\n\n\n  if (storageType === 'localStorage') {\n    if (typeof window !== 'undefined' && 'localStorage' in window && window.localStorage !== null) {\n      return new Storage(window.localStorage, namespace);\n    }\n  } else if (storageType === 'sessionStorage') {\n    if (typeof window !== 'undefined' && 'sessionStorage' in window && window.sessionStorage !== null) {\n      return new Storage(window.sessionStorage, namespace);\n    }\n  } else if (storageType == 'customStorage') {\n    //eslint-disable-line eqeqeq\n    return new Storage(storage, namespace);\n  }\n\n  // default to memory storage\n  return new Storage(new MemoryStorage(), namespace);\n}\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BSON = exports.StitchAdminClientFactory = exports.StitchClientFactory = undefined;\n\nvar _client = __webpack_require__(17);\n\nvar _admin = __webpack_require__(24);\n\nvar _mongodbExtjson = __webpack_require__(18);\n\nexports.StitchClientFactory = _client.StitchClientFactory;\nexports.StitchAdminClientFactory = _admin.StitchAdminClientFactory;\nexports.BSON = _mongodbExtjson.BSON;\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _util = __webpack_require__(2);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Convenience wrapper around AWS S3 service (not meant to be instantiated directly,\n * use `.service('aws-s3', '<service-name>')` on a {@link StitchClient} instance).\n *\n * @class\n * @return {S3Service} a S3Service instance.\n */\nvar S3Service = function () {\n  function S3Service(stitchClient, serviceName) {\n    _classCallCheck(this, S3Service);\n\n    this.client = stitchClient;\n    this.serviceName = serviceName;\n  }\n\n  /**\n   * Put an object to S3 via Stitch. For small uploads\n   *\n   * @param {String} bucket which S3 bucket to use\n   * @param {String} key which key (filename) to use\n   * @param {String} acl which policy to apply\n   * @param {String} contentType content type of uploaded data\n   * @param {String|BSON.Binary} body the content to put in the bucket\n   * @return {Promise} which resolves to an object containing a single field \"location\"\n   *                   which is the URL of the object that was put into the S3 bucket\n   */\n\n\n  _createClass(S3Service, [{\n    key: 'put',\n    value: function put(bucket, key, acl, contentType, body) {\n      return (0, _util.serviceResponse)(this, {\n        action: 'put',\n        args: { bucket: bucket, key: key, acl: acl, contentType: contentType, body: body }\n      });\n    }\n\n    /**\n     * Sign a policy for putting via Stitch. For large uploads\n     *\n     * @param {String} bucket which S3 bucket to use\n     * @param {String} key which key (filename) to use\n     * @param {String} acl which policy to apply\n     * @param {String} contentType content type of uploaded data\n     * @return {Promise}\n     */\n\n  }, {\n    key: 'signPolicy',\n    value: function signPolicy(bucket, key, acl, contentType) {\n      return (0, _util.serviceResponse)(this, {\n        action: 'signPolicy',\n        args: { bucket: bucket, key: key, acl: acl, contentType: contentType }\n      });\n    }\n  }]);\n\n  return S3Service;\n}();\n\nexports.default = S3Service;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _util = __webpack_require__(2);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Convenience wrapper around AWS SES service (not meant to be instantiated directly,\n * use `.service('aws-ses', '<service-name>')` on a {@link StitchClient} instance).\n *\n * @class\n * @return {SESService} a SESService instance.\n */\nvar SESService = function () {\n  function SESService(stitchClient, serviceName) {\n    _classCallCheck(this, SESService);\n\n    this.client = stitchClient;\n    this.serviceName = serviceName;\n  }\n\n  /**\n   * Send an email\n   *\n   * @method\n   * @param {String} fromAddress the email to send from\n   * @param {String} toAddress the email to send to\n   * @param {String} subject the subject of the email\n   * @param {String} body the body of the email\n   * @return {Promise} resolving to an object which contains the single string field\n   *                   \"messageId\", which is the SES message ID for the email message.\n   */\n\n\n  _createClass(SESService, [{\n    key: 'send',\n    value: function send(fromAddress, toAddress, subject, body) {\n      return (0, _util.serviceResponse)(this, {\n        action: 'send',\n        args: { fromAddress: fromAddress, toAddress: toAddress, subject: subject, body: body }\n      });\n    }\n  }]);\n\n  return SESService;\n}();\n\nexports.default = SESService;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _util = __webpack_require__(2);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Convenience wrapper for HTTP service (not meant to be instantiated directly,\n * use `.service('http', '<service-name>')` on a {@link StitchClient} instance).\n *\n * @class\n * @return {HTTPService} a HTTPService instance.\n */\nvar HTTPService = function () {\n  function HTTPService(client, serviceName) {\n    _classCallCheck(this, HTTPService);\n\n    this.client = client;\n    this.serviceName = serviceName;\n  }\n\n  /**\n   * Send a GET request to a resource (result must be application/json)\n   *\n   * @param {String|Object} urlOrOptions the url to request, or an object of GET args\n   * @param {Object} [options] optional settings for the GET operation\n   * @param {String} [options.authUrl] url that grants a cookie\n   * @return {Promise}\n   */\n\n\n  _createClass(HTTPService, [{\n    key: 'get',\n    value: function get(urlOrOptions) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return buildResponse('get', this, buildArgs(urlOrOptions, options));\n    }\n\n    /**\n     * Send a POST request to a resource with payload\n     *\n     * @param {String|Object} urlOrOptions the url to request, or an object of POST args\n     * @param {Object} [options] optional settings for the POST operation\n     * @param {String} [options.authUrl] url that grants a cookie\n     * @return {Promise}\n     */\n\n  }, {\n    key: 'post',\n    value: function post(urlOrOptions) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return buildResponse('post', this, buildArgs(urlOrOptions, options));\n    }\n\n    /**\n     * Send a PUT request to a resource with payload\n     *\n     * @param {String|Object} urlOrOptions the url to request, or an object of PUT args\n     * @param {Object} [options] optional settings for the PUT operation\n     * @param {String} [options.authUrl] url that grants a cookie\n     * @return {Promise}\n     */\n\n  }, {\n    key: 'put',\n    value: function put(urlOrOptions) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return buildResponse('put', this, buildArgs(urlOrOptions, options));\n    }\n\n    /**\n     * Send a PATCH request to a resource with payload\n     *\n     * @param {String|Object} urlOrOptions the url to request, or an object of PATCH args\n     * @param {Object} [options] optional settings for the PATCH operation\n     * @param {String} [options.authUrl] url that grants a cookie\n     * @return {Promise}\n     */\n\n  }, {\n    key: 'patch',\n    value: function patch(urlOrOptions) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return buildResponse('patch', this, buildArgs(urlOrOptions, options));\n    }\n\n    /**\n     * Send a DELETE request to a resource\n     *\n     * @param {String|Object} urlOrOptions the url to request, or an object of DELETE args\n     * @param {Object} [options] optional settings for the DELETE operation\n     * @param {String} [options.authUrl] url that grants a cookie\n     * @return {Promise}\n     */\n\n  }, {\n    key: 'delete',\n    value: function _delete(urlOrOptions) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return buildResponse('delete', this, buildArgs(urlOrOptions, options));\n    }\n\n    /**\n     * Send a HEAD request to a resource\n     *\n     * @param {String|Object} urlOrOptions the url to request, or an object of HEAD args\n     * @param {Object} [options] optional settings for the HEAD operation\n     * @param {String} [options.authUrl] url that grants a cookie\n     * @return {Promise}\n     */\n\n  }, {\n    key: 'head',\n    value: function head(urlOrOptions) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return buildResponse('head', this, buildArgs(urlOrOptions, options));\n    }\n  }]);\n\n  return HTTPService;\n}();\n\nfunction buildArgs(urlOrOptions, options) {\n  var args = void 0;\n  if (typeof urlOrOptions !== 'string') {\n    args = urlOrOptions;\n  } else {\n    args = { url: urlOrOptions };\n    if (!!options.authUrl) args.authUrl = options.authUrl;\n  }\n\n  return args;\n}\n\nfunction buildResponse(action, service, args) {\n  return (0, _util.serviceResponse)(service, {\n    action: action,\n    args: args\n  });\n}\n\nexports.default = HTTPService;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _s3_service = __webpack_require__(34);\n\nvar _s3_service2 = _interopRequireDefault(_s3_service);\n\nvar _ses_service = __webpack_require__(35);\n\nvar _ses_service2 = _interopRequireDefault(_ses_service);\n\nvar _http_service = __webpack_require__(36);\n\nvar _http_service2 = _interopRequireDefault(_http_service);\n\nvar _mongodb_service = __webpack_require__(40);\n\nvar _mongodb_service2 = _interopRequireDefault(_mongodb_service);\n\nvar _twilio_service = __webpack_require__(41);\n\nvar _twilio_service2 = _interopRequireDefault(_twilio_service);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  'aws-s3': _s3_service2.default,\n  'aws-ses': _ses_service2.default,\n  'aws_s3': _s3_service2.default,\n  'aws_ses': _ses_service2.default,\n  'http': _http_service2.default,\n  'mongodb': _mongodb_service2.default,\n  'twilio': _twilio_service2.default\n};\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _util = __webpack_require__(2);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Creates a new Collection instance (not meant to be instantiated directly,\n * use `.collection()` on a {@link DB} instance).\n *\n * @class\n * @return {Collection} a Collection instance.\n */\nvar Collection = function () {\n  /**\n   * @hideconstructor\n   */\n  function Collection(db, name) {\n    _classCallCheck(this, Collection);\n\n    this.db = db;\n    this.name = name;\n  }\n\n  /**\n   * Inserts a single document.\n   *\n   * @method\n   * @param {Object} doc The document to insert.\n   * @return {Promise<Object, Error>} a Promise for the operation.\n   */\n\n\n  _createClass(Collection, [{\n    key: 'insertOne',\n    value: function insertOne(doc) {\n      var args = { document: doc };\n      return buildResponse('insertOne', this, buildArgs(this, args));\n    }\n\n    /**\n     * Inserts multiple documents.\n     *\n     * @method\n     * @param {Array} docs The documents to insert.\n     * @return {Promise<Object, Error>} Returns a Promise for the operation.\n     */\n\n  }, {\n    key: 'insertMany',\n    value: function insertMany(docs) {\n      var args = { documents: Array.isArray(docs) ? docs : [docs] };\n      return buildResponse('insertMany', this, buildArgs(this, args));\n    }\n\n    /**\n     * Deletes a single document.\n     *\n     * @method\n     * @param {Object} query The query used to match a single document.\n     * @return {Promise<Object, Error>} Returns a Promise for the operation.\n     */\n\n  }, {\n    key: 'deleteOne',\n    value: function deleteOne(query) {\n      return buildResponse('deleteOne', this, buildArgs(this, { query: query }));\n    }\n\n    /**\n     * Deletes all documents matching query.\n     *\n     * @method\n     * @param {Object} query The query used to match the documents to delete.\n     * @return {Promise<Object, Error>} Returns a Promise for the operation.\n     */\n\n  }, {\n    key: 'deleteMany',\n    value: function deleteMany(query) {\n      return buildResponse('deleteMany', this, buildArgs(this, { query: query }));\n    }\n\n    /**\n     * Updates a single document.\n     *\n     * @method\n     * @param {Object} query The query used to match a single document.\n     * @param {Object} update The update operations to perform on the matching document.\n     * @param {Object} [options] Additional options object.\n     * @param {Boolean} [options.upsert=false] Perform an upsert operation.\n     * @return {Promise<Object, Error>} A Promise for the operation.\n     */\n\n  }, {\n    key: 'updateOne',\n    value: function updateOne(query, update) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      return updateOp(this, false, query, update, options);\n    }\n\n    /**\n     * Updates multiple documents.\n     *\n     * @method\n     * @param {Object} query The query used to match the documents.\n     * @param {Object} update The update operations to perform on the matching documents.\n     * @param {Object} [options] Additional options object.\n     * @param {Boolean} [options.upsert=false] Perform an upsert operation.\n     * @return {Promise<Object, Error>} Returns a Promise for the operation.\n     */\n\n  }, {\n    key: 'updateMany',\n    value: function updateMany(query, update) {\n      return updateOp(this, true, query, update);\n    }\n\n    /**\n     * Finds documents.\n     *\n     * @method\n     * @param {Object} query The query used to match documents.\n     * @param {Object} [project] The query document projection.\n     * @return {MongoQuery} An object which allows for `limit` and `sort` parameters to be set.\n     * `execute` will return a {Promise} for the operation.\n     */\n\n  }, {\n    key: 'find',\n    value: function find(query, project) {\n      return new MongoQuery(this, query, project);\n    }\n\n    /**\n     * Finds one document.\n     *\n     * @method\n     * @param {Object} query The query used to match documents.\n     * @param {Object} [project] The query document projection.\n     * @return {Promise<Object, Error>} Returns a Promise for the operation\n     */\n\n  }, {\n    key: 'findOne',\n    value: function findOne(query, project) {\n      return buildResponse('findOne', this, buildArgs(this, { query: query, project: project }));\n    }\n\n    /**\n     * Executes an aggregation pipeline.\n     *\n     * @param {Array} pipeline The aggregation pipeline.\n     * @returns {Array} The results of the aggregation.\n     */\n\n  }, {\n    key: 'aggregate',\n    value: function aggregate(pipeline) {\n      return aggregateOp(this, pipeline);\n    }\n\n    /**\n     * Gets the number of documents matching the filter.\n     *\n     * @param {Object} query The query used to match documents.\n     * @param {Object} options Additional count options.\n     * @param {Number} [options.limit=null] The maximum number of documents to return.\n     * @return {Number} The results of the count operation.\n     */\n\n  }, {\n    key: 'count',\n    value: function count(query) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var outgoingOptions = void 0;\n      if (options.limit) {\n        outgoingOptions = { limit: options.limit };\n      }\n\n      return buildResponse('count', this, buildArgs(this, { count: true, query: query }, outgoingOptions));\n    }\n  }]);\n\n  return Collection;\n}();\n\n// private\n\nfunction updateOp(service, isMulti, query, update) {\n  var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n\n  var action = isMulti ? 'updateMany' : 'updateOne';\n\n  var outgoingOptions = void 0;\n  if (!isMulti && options.upsert) {\n    outgoingOptions = { upsert: true };\n  }\n\n  return buildResponse(action, service, buildArgs(service, { query: query, update: update }, outgoingOptions));\n}\n\nfunction findOp(_ref) {\n  var service = _ref.service,\n      query = _ref.query,\n      project = _ref.project,\n      limit = _ref.limit,\n      sort = _ref.sort;\n\n  return buildResponse('find', service, buildArgs(service, { query: query, project: project, limit: limit, sort: sort }));\n}\n\nfunction aggregateOp(service, pipeline) {\n  return buildResponse('aggregate', service, buildArgs(service, { pipeline: pipeline }));\n}\n\nfunction buildArgs(_ref2, args) {\n  var database = _ref2.db.name,\n      collection = _ref2.name;\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  return Object.assign({ database: database, collection: collection }, args, options);\n}\n\nfunction buildResponse(action, service, args) {\n  return (0, _util.serviceResponse)(service.db, {\n    serviceName: service.db.service,\n    action: action,\n    args: args\n  });\n}\n\n// mongo query (find) support\n\nfunction MongoQuery(service, query, project) {\n  if (this instanceof MongoQuery) {\n    this.service = service;\n    this.query = query;\n    this.project = project;\n    return this;\n  }\n  return new MongoQuery(service, query, project);\n}\n\nMongoQuery.prototype.limit = function (limit) {\n  this.limit = limit;\n  return this;\n};\n\nMongoQuery.prototype.sort = function (sort) {\n  this.sort = sort;\n  return this;\n};\n\nMongoQuery.prototype.execute = function (resolve) {\n  return findOp(this);\n};\n\nexports.default = Collection;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _collection = __webpack_require__(38);\n\nvar _collection2 = _interopRequireDefault(_collection);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Creates a new DB instance (not meant to be instantiated directly, use `.db()` on\n * a {@link MongoDBService} instance).\n * @class\n * @return {DB} a DB instance.\n */\nvar DB = function () {\n  /**\n   * @hideconstructor\n   */\n  function DB(client, service, name) {\n    _classCallCheck(this, DB);\n\n    this.client = client;\n    this.service = service;\n    this.name = name;\n  }\n\n  /**\n   * Returns a Collection instance representing a MongoDB Collection object.\n   *\n   * @method\n   * @param {String} name The collection name.\n   * @param {Object} [options] Additional options.\n   * @return {Collection} returns a Collection instance representing a MongoDb collection.\n   */\n\n\n  _createClass(DB, [{\n    key: 'collection',\n    value: function collection(name) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return new _collection2.default(this, name, options);\n    }\n  }]);\n\n  return DB;\n}();\n\nexports.default = DB;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _db = __webpack_require__(39);\n\nvar _db2 = _interopRequireDefault(_db);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Creates a new MongoDBService instance (not meant to be instantiated directly, use\n * `.service('mongodb', '<service-name>')` on a {@link StitchClient} instance.\n *\n * @class\n * @return {MongoDBService} a MongoDBService instance.\n */\nvar MongoDBService = function () {\n  /**\n   * @hideconstructor\n   */\n  function MongoDBService(stitchClient, serviceName) {\n    _classCallCheck(this, MongoDBService);\n\n    this.stitchClient = stitchClient;\n    this.serviceName = serviceName;\n  }\n\n  /**\n   * Get a DB instance\n   *\n   * @method\n   * @param {String} databaseName The MongoDB database name\n   * @param {Object} [options] Additional options.\n   * @return {DB} returns a DB instance representing a MongoDB database.\n   */\n\n\n  _createClass(MongoDBService, [{\n    key: 'db',\n    value: function db(databaseName) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      return new _db2.default(this.stitchClient, this.serviceName, databaseName);\n    }\n  }]);\n\n  return MongoDBService;\n}();\n\nexports.default = MongoDBService;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _util = __webpack_require__(2);\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Create a new TwilioService instance (not meant to be instantiated directly,\n * use `.service('twilio', '<service-name>')` on a {@link StitchClient} instance).\n *\n * @class\n * @return {TwilioService} a TwilioService instance.\n */\nvar TwilioService = function () {\n  function TwilioService(stitchClient, serviceName) {\n    _classCallCheck(this, TwilioService);\n\n    this.client = stitchClient;\n    this.serviceName = serviceName;\n  }\n\n  /**\n   * Send a text message to a number\n   *\n   * @method\n   * @param {String} from number to send from\n   * @param {String} to number to send to\n   * @param {String} body SMS body content\n   * @return {Promise} which resolves to 'null' when message is sent successfully,\n   *                   or is rejected when there is an error\n   */\n\n\n  _createClass(TwilioService, [{\n    key: 'send',\n    value: function send(from, to, body) {\n      return (0, _util.serviceResponse)(this, {\n        action: 'send',\n        args: { from: from, to: to, body: body }\n      });\n    }\n  }]);\n\n  return TwilioService;\n}();\n\nexports.default = TwilioService;\nmodule.exports = exports['default'];\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Buffer) {\n\n/**\n * Module dependencies.\n * @ignore\n */\n\nfunction convert(integer) {\n  var str = Number(integer).toString(16);\n  return str.length === 1 ? '0' + str : str;\n}\n\nfunction toExtendedJSON(obj) {\n  var base64String = obj.buffer.toString('base64');\n\n  return {\n    $binary: {\n      base64: base64String,\n      subType: convert(obj.sub_type)\n    }\n  };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  var type = doc.$binary.subType ? parseInt(doc.$binary.subType, 16) : 0;\n\n  var data = new Buffer(doc.$binary.base64, 'base64');\n\n  return new BSON.Binary(data, type);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(0).Buffer))\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction toExtendedJSON(obj) {\n  if (obj.scope) {\n    return { $code: obj.code, $scope: obj.scope };\n  }\n\n  return { $code: obj.code };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.Code(doc.$code, doc.$scope);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction toExtendedJSON(obj) {\n  var o = {\n    $ref: obj.collection,\n    $id: obj.oid\n  };\n  if (obj.db) o.$db = obj.db;\n  o = Object.assign(o, obj.fields);\n  return o;\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  var copy = Object.assign({}, doc);\n  ['$ref', '$id', '$db'].forEach(function (k) {\n    return delete copy[k];\n  });\n  return new BSON.DBRef(doc.$ref, doc.$id, doc.$db, copy);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction toExtendedJSON(obj) {\n  return { $numberDecimal: obj.toString() };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.Decimal128.fromString(doc.$numberDecimal);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction toExtendedJSON(obj, options) {\n  if (options.relaxed && isFinite(obj.value)) return obj.value;\n  return { $numberDouble: obj.value.toString() };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.Double(parseFloat(doc.$numberDouble));\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Binary = __webpack_require__(42);\nvar Code = __webpack_require__(43);\nvar DBRef = __webpack_require__(44);\nvar Decimal128 = __webpack_require__(45);\nvar Double = __webpack_require__(46);\nvar Int32 = __webpack_require__(48);\nvar Long = __webpack_require__(49);\nvar MaxKey = __webpack_require__(50);\nvar MinKey = __webpack_require__(51);\nvar ObjectID = __webpack_require__(52);\nvar BSONRegExp = __webpack_require__(53);\nvar _Symbol = __webpack_require__(54);\nvar Timestamp = __webpack_require__(55);\n\nmodule.exports = {\n  Binary: Binary,\n  Code: Code,\n  DBRef: DBRef,\n  Decimal128: Decimal128,\n  Double: Double,\n  Int32: Int32,\n  Long: Long,\n  MaxKey: MaxKey,\n  MinKey: MinKey,\n  ObjectID: ObjectID,\n  BSONRegExp: BSONRegExp,\n  Symbol: _Symbol,\n  Timestamp: Timestamp\n};\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction toExtendedJSON(obj, options) {\n  if (options && options.relaxed) return obj.value;\n  return { $numberInt: obj.value.toString() };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.Int32(doc.$numberInt);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction toExtendedJSON(obj, options) {\n  if (options && options.relaxed) return obj.toNumber();\n  return { $numberLong: obj.toString() };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return BSON.Long.fromString(doc.$numberLong);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction toExtendedJSON() {\n  return { $maxKey: 1 };\n}\n\nfunction fromExtendedJSON(BSON) {\n  return new BSON.MaxKey();\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction toExtendedJSON() {\n  return { $minKey: 1 };\n}\n\nfunction fromExtendedJSON(BSON) {\n  return new BSON.MinKey();\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction toExtendedJSON(obj) {\n  if (obj.toHexString) return { $oid: obj.toHexString() };\n  return { $oid: obj.toString('hex') };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.ObjectID(doc.$oid);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction toExtendedJSON(obj) {\n  return { $regularExpression: { pattern: obj.pattern, options: obj.options } };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.BSONRegExp(doc.$regularExpression.pattern, doc.$regularExpression.options.split('').sort().join(''));\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction toExtendedJSON(obj) {\n  return { $symbol: obj.value };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.Symbol(doc.$symbol);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction toExtendedJSON(obj) {\n  return {\n    $timestamp: {\n      t: obj.high_,\n      i: obj.low_\n    }\n  };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.Timestamp(doc.$timestamp.i, doc.$timestamp.t);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar codecs = __webpack_require__(47),\n    BSON = __webpack_require__(26);\n\nvar BSONTypes = ['Binary', 'Code', 'DBRef', 'Decimal128', 'Double', 'Int32', 'Long', 'MaxKey', 'MinKey', 'ObjectID', 'BSONRegExp', 'Symbol', 'Timestamp'];\n\nsetBSONModule(BSON);\n\n// all the types where we don't need to do any special processing and can just pass the EJSON\n//straight to type.fromExtendedJSON\nvar keysToCodecs = {\n  $oid: codecs.ObjectID,\n  $binary: codecs.Binary,\n  $symbol: codecs.Symbol,\n  $numberDecimal: codecs.Decimal128,\n  $numberLong: codecs.Long,\n  $minKey: codecs.MinKey,\n  $maxKey: codecs.MaxKey,\n  $regularExpression: codecs.BSONRegExp,\n  $timestamp: codecs.Timestamp\n};\n\nfunction setBSONModule(module) {\n  BSONTypes.forEach(function (t) {\n    if (!module[t]) throw new Error('passed in module does not contain all BSON types required');\n  });\n  BSON = module;\n}\n\nfunction deserializeValue(self, key, value, options) {\n  if (typeof value === 'number') {\n    // if it's an integer, should interpret as smallest BSON integer\n    // that can represent it exactly. (if out of range, interpret as double.)\n    if (Math.floor(value) === value) {\n      var int32Range = value >= BSON_INT32_MIN && value <= BSON_INT32_MAX,\n          int64Range = value >= BSON_INT64_MIN && value <= BSON_INT64_MAX;\n\n      if (int32Range) return options.strict ? new BSON.Int32(value) : value;\n      if (int64Range) return options.strict ? new BSON.Long.fromNumber(value) : value;\n    }\n    // If the number is a non-integer or out of integer range, should interpret as BSON Double.\n    return new BSON.Double(value);\n  }\n\n  // from here on out we're looking for bson types, so bail if its not an object\n  if (value == null || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) !== 'object') return value;\n\n  // upgrade deprecated undefined to null\n  if (value.$undefined) return null;\n\n  var keys = Object.keys(value).filter(function (k) {\n    return k.startsWith('$') && value[k] != null;\n  });\n  for (var i = 0; i < keys.length; i++) {\n    var c = keysToCodecs[keys[i]];\n    if (c) return c.fromExtendedJSON(BSON, value);\n  }\n\n  if (value.$date != null) {\n    var d = value.$date,\n        date = new Date();\n\n    if (typeof d === 'string') date.setTime(Date.parse(d));else if (d instanceof BSON.Long) date.setTime(d.toNumber());\n    return date;\n  }\n\n  if (value.$code != null) {\n    if (value.$scope) var scope = deserializeValue(self, null, value.$scope);\n    var copy = Object.assign({}, value);\n    copy.$scope = scope;\n    return codecs.Code.fromExtendedJSON(BSON, value);\n  }\n\n  if (value.$numberDouble != null) {\n    return options.strict ? codecs.Double.fromExtendedJSON(BSON, value) : parseFloat(value.$numberDouble);\n  }\n\n  if (value.$numberInt != null) {\n    return options.strict ? codecs.Int32.fromExtendedJSON(BSON, value) : parseInt(value.$numberInt, 10);\n  }\n\n  if (value.$ref != null || value.$dbPointer != null) {\n    var v = value.$ref ? value : value.$dbPointer;\n\n    // we run into this in a \"degenerate EJSON\" case (with $id and $ref order flipped)\n    // because of the order JSON.parse goes through the document\n    if (v instanceof BSON.DBRef) return v;\n\n    var dollarKeys = Object.keys(v).filter(function (k) {\n      return k.startsWith('$');\n    }),\n        valid = true;\n    dollarKeys.forEach(function (k) {\n      if (['$ref', '$id', '$db'].indexOf(k) === -1) valid = false;\n    });\n\n    // only make DBRef if $ keys are all valid\n    if (valid) return codecs.DBRef.fromExtendedJSON(BSON, v);\n  }\n\n  return value;\n}\n\nvar parse = function parse(text, options) {\n  var self = this;\n  options = options || { strict: true };\n\n  return JSON.parse(text, function (key, value) {\n    return deserializeValue(self, key, value, options);\n  });\n};\n\n//\n// Serializer\n//\n\n// MAX INT32 boundaries\nvar BSON_INT32_MAX = 0x7fffffff,\n    BSON_INT32_MIN = -0x80000000,\n    BSON_INT64_MAX = 0x7fffffffffffffff,\n    BSON_INT64_MIN = -0x8000000000000000;\n\nvar stringify = function stringify(value, reducer, indents, options) {\n  var opts = {};\n  if (options != null && (typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') opts = options;else if (indents != null && (typeof indents === 'undefined' ? 'undefined' : _typeof(indents)) === 'object') {\n    opts = indents;\n    indents = 0;\n  } else if (reducer != null && (typeof reducer === 'undefined' ? 'undefined' : _typeof(reducer)) === 'object') {\n    opts = reducer;\n    reducer = null;\n  }\n\n  var doc = Array.isArray(value) ? serializeArray(value, opts) : serializeDocument(value, opts);\n  return JSON.stringify(doc, reducer, indents);\n};\n\nfunction serializeArray(array, options) {\n  return array.map(function (v) {\n    return serializeValue(v, options);\n  });\n}\n\nfunction getISOString(date) {\n  var isoStr = date.toISOString();\n  // we should only show milliseconds in timestamp if they're non-zero\n  return date.getUTCMilliseconds() !== 0 ? isoStr : isoStr.slice(0, -5) + 'Z';\n}\n\nfunction serializeValue(value, options) {\n  if (Array.isArray(value)) return serializeArray(value, options);\n\n  if (value === undefined) return null;\n\n  if (value instanceof Date) {\n    var dateNum = value.getTime(),\n\n    // is it in year range 1970-9999?\n    inRange = dateNum > -1 && dateNum < 253402318800000;\n\n    return options.relaxed && inRange ? { $date: getISOString(value) } : { $date: { $numberLong: value.getTime().toString() } };\n  }\n\n  if (typeof value === 'number' && !options.relaxed) {\n    // it's an integer\n    if (Math.floor(value) === value) {\n      var int32Range = value >= BSON_INT32_MIN && value <= BSON_INT32_MAX,\n          int64Range = value >= BSON_INT64_MIN && value <= BSON_INT64_MAX;\n\n      // interpret as being of the smallest BSON integer type that can represent the number exactly\n      if (int32Range) return { $numberInt: value.toString() };\n      if (int64Range) return { $numberLong: value.toString() };\n    }\n    return { $numberDouble: value.toString() };\n  }\n\n  if (value != null && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') return serializeDocument(value, options);\n  return value;\n}\n\nfunction serializeDocument(doc, options) {\n  if (doc == null || (typeof doc === 'undefined' ? 'undefined' : _typeof(doc)) !== 'object') throw new Error('not an object instance');\n\n  // the document itself is a BSON type\n  if (doc._bsontype && BSONTypes.indexOf(doc._bsontype) !== -1) {\n    // we need to separately serialize the embedded scope document\n    if (doc._bsontype === 'Code' && doc.scope) {\n      var tempScope = serializeDocument(doc.scope, options),\n          tempDoc = Object.assign({}, doc, { scope: tempScope });\n      return codecs['Code'].toExtendedJSON(tempDoc, options);\n      // we need to separately serialize the embedded OID document\n    } else if (doc._bsontype === 'DBRef' && doc.oid) {\n      var tempId = serializeDocument(doc.oid, options),\n          _tempDoc = Object.assign({}, doc, { oid: tempId });\n      return codecs['DBRef'].toExtendedJSON(_tempDoc, options);\n    }\n    return codecs[doc._bsontype].toExtendedJSON(doc, options);\n  }\n\n  // the document is an object with nested BSON types\n  var _doc = {};\n  for (var name in doc) {\n    var val = doc[name];\n    if (Array.isArray(val)) {\n      _doc[name] = serializeArray(val, options);\n    } else if (val != null && val._bsontype && BSONTypes.indexOf(val._bsontype) !== -1) {\n      // we need to separately serialize the embedded scope document\n      if (val._bsontype === 'Code' && val.scope) {\n        var _tempScope = serializeDocument(val.scope, options),\n            tempVal = Object.assign({}, val, { scope: _tempScope });\n        _doc[name] = codecs['Code'].toExtendedJSON(tempVal, options);\n        // we need to separately serialize the embedded OID document\n      } else if (val._bsontype === 'DBRef' && val.oid) {\n        var _tempId = serializeDocument(val.oid, options),\n            _tempVal = Object.assign({}, val, { oid: _tempId });\n        _doc[name] = codecs['DBRef'].toExtendedJSON(_tempVal, options);\n      } else _doc[name] = codecs[val._bsontype].toExtendedJSON(val, options);\n    } else if (val instanceof Date) {\n      _doc[name] = serializeValue(val, options);\n    } else if (val != null && (typeof val === 'undefined' ? 'undefined' : _typeof(val)) === 'object') {\n      _doc[name] = serializeDocument(val, options);\n    }\n\n    _doc[name] = serializeValue(val, options);\n  }\n\n  return _doc;\n}\n\nmodule.exports = {\n  parse: parse,\n  stringify: stringify,\n  setBSONModule: setBSONModule,\n  BSON: BSON\n};\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction placeHoldersCount (b64) {\n  var len = b64.length\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  return b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n}\n\nfunction byteLength (b64) {\n  // base64 is 4/3 + up to two characters of the original data\n  return (b64.length * 3 / 4) - placeHoldersCount(b64)\n}\n\nfunction toByteArray (b64) {\n  var i, l, tmp, placeHolders, arr\n  var len = b64.length\n  placeHolders = placeHoldersCount(b64)\n\n  arr = new Arr((len * 3 / 4) - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0; i < l; i += 4) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar detectBrowser = __webpack_require__(59);\n\nvar agent;\n\nif (typeof navigator !== 'undefined' && navigator) {\n  agent = navigator.userAgent;\n}\n\nmodule.exports = detectBrowser(agent);\n\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar detectOS = __webpack_require__(60);\n\nmodule.exports = function detectBrowser(userAgentString) {\n  if (!userAgentString) return null;\n\n  var browsers = [\n    [ 'edge', /Edge\\/([0-9\\._]+)/ ],\n    [ 'yandexbrowser', /YaBrowser\\/([0-9\\._]+)/ ],\n    [ 'vivaldi', /Vivaldi\\/([0-9\\.]+)/ ],\n    [ 'kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/ ],\n    [ 'chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/ ],\n    [ 'fxios', /FxiOS\\/([0-9\\.]+)/ ],\n    [ 'opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/ ],\n    [ 'opera', /OPR\\/([0-9\\.]+)(:?\\s|$)$/ ],\n    [ 'ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/ ],\n    [ 'ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/ ],\n    [ 'ie', /MSIE\\s(7\\.0)/ ],\n    [ 'bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/ ],\n    [ 'android', /Android\\s([0-9\\.]+)/ ],\n    [ 'ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/ ],\n    [ 'safari', /Version\\/([0-9\\._]+).*Safari/ ]\n  ];\n\n  return browsers.map(function (rule) {\n      if (rule[1].test(userAgentString)) {\n          var match = rule[1].exec(userAgentString);\n          var version = match && match[1].split(/[._]/).slice(0,3);\n\n          if (version && version.length < 3) {\n              Array.prototype.push.apply(version, (version.length == 1) ? [0, 0] : [0]);\n          }\n\n          return {\n              name: rule[0],\n              version: version.join('.'),\n              os: detectOS(userAgentString)\n          };\n      }\n  }).filter(Boolean).shift();\n};\n\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports) {\n\nmodule.exports = function detectOS(userAgentString) {\n  var operatingSystems = [\n    {\n      name: 'iOS',\n      rule: /iP(hone|od|ad)/\n    },\n    {\n      name: 'Android OS',\n      rule: /Android/\n    },\n    {\n      name: 'BlackBerry OS',\n      rule: /BlackBerry|BB10/\n    },\n    {\n      name: 'Windows Mobile',\n      rule: /IEMobile/\n    },\n    {\n      name: 'Amazon OS',\n      rule: /Kindle/\n    },\n    {\n      name: 'Windows 3.11',\n      rule: /Win16/\n    },\n    {\n      name: 'Windows 95',\n      rule: /(Windows 95)|(Win95)|(Windows_95)/\n    },\n    {\n      name: 'Windows 98',\n      rule: /(Windows 98)|(Win98)/\n    },\n    {\n      name: 'Windows 2000',\n      rule: /(Windows NT 5.0)|(Windows 2000)/\n    },\n    {\n      name: 'Windows XP',\n      rule: /(Windows NT 5.1)|(Windows XP)/\n    },\n    {\n      name: 'Windows Server 2003',\n      rule: /(Windows NT 5.2)/\n    },\n    {\n      name: 'Windows Vista',\n      rule: /(Windows NT 6.0)/\n    },\n    {\n      name: 'Windows 7',\n      rule: /(Windows NT 6.1)/\n    },\n    {\n      name: 'Windows 8',\n      rule: /(Windows NT 6.2)/\n    },\n    {\n      name: 'Windows 8.1',\n      rule: /(Windows NT 6.3)/\n    },\n    {\n      name: 'Windows 10',\n      rule: /(Windows NT 10.0)/\n    },\n    {\n      name: 'Windows ME',\n      rule: /Windows ME/\n    },\n    {\n      name: 'Open BSD',\n      rule: /OpenBSD/\n    },\n    {\n      name: 'Sun OS',\n      rule: /SunOS/\n    },\n    {\n      name: 'Linux',\n      rule: /(Linux)|(X11)/\n    },\n    {\n      name: 'Mac OS',\n      rule: /(Mac_PowerPC)|(Macintosh)/\n    },\n    {\n      name: 'QNX',\n      rule: /QNX/\n    },\n    {\n      name: 'BeOS',\n      rule: /BeOS/\n    },\n    {\n      name: 'OS/2',\n      rule: /OS\\/2/\n    },\n    {\n      name: 'Search Bot',\n      rule: /(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\\/Teoma)|(ia_archiver)/\n    }\n  ];\n\n  var detected = operatingSystems.filter(function (os) {\n    if (userAgentString.match(os.rule)) {\n      return true;\n    }\n  });\n\n  return detected && detected[0] ? detected[0].name : null;\n};\n\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports) {\n\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports) {\n\nvar toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports) {\n\n/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction InvalidCharacterError(message) {\n  this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\nfunction polyfill (input) {\n  var str = String(input).replace(/=+$/, '');\n  if (str.length % 4 == 1) {\n    throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n  }\n  for (\n    // initialize result and counters\n    var bc = 0, bs, buffer, idx = 0, output = '';\n    // get next character\n    buffer = str.charAt(idx++);\n    // character found in table? initialize bit storage and add its ascii value;\n    ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n      // and if not first of each 4 characters,\n      // convert the first 8 bits to one ascii character\n      bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n  ) {\n    // try to find character in table (0-63, not found => -1)\n    buffer = chars.indexOf(buffer);\n  }\n  return output;\n}\n\n\nmodule.exports = typeof window !== 'undefined' && window.atob && window.atob.bind(window) || polyfill;\n\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar atob = __webpack_require__(63);\n\nfunction b64DecodeUnicode(str) {\n  return decodeURIComponent(atob(str).replace(/(.)/g, function (m, p) {\n    var code = p.charCodeAt(0).toString(16).toUpperCase();\n    if (code.length < 2) {\n      code = '0' + code;\n    }\n    return '%' + code;\n  }));\n}\n\nmodule.exports = function(str) {\n  var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  switch (output.length % 4) {\n    case 0:\n      break;\n    case 2:\n      output += \"==\";\n      break;\n    case 3:\n      output += \"=\";\n      break;\n    default:\n      throw \"Illegal base64url string!\";\n  }\n\n  try{\n    return b64DecodeUnicode(output);\n  } catch (err) {\n    return atob(output);\n  }\n};\n\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar base64_url_decode = __webpack_require__(64);\n\nfunction InvalidTokenError(message) {\n  this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = 'InvalidTokenError';\n\nmodule.exports = function (token,options) {\n  if (typeof token !== 'string') {\n    throw new InvalidTokenError('Invalid token specified');\n  }\n\n  options = options || {};\n  var pos = options.header === true ? 0 : 1;\n  try {\n    return JSON.parse(base64_url_decode(token.split('.')[pos]));\n  } catch (e) {\n    throw new InvalidTokenError('Invalid token specified: ' + e.message);\n  }\n};\n\nmodule.exports.InvalidTokenError = InvalidTokenError;\n\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar strictUriEncode = __webpack_require__(69);\nvar objectAssign = __webpack_require__(66);\n\nfunction encoderForArrayFormat(opts) {\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, index) {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, opts),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(opts) {\n\tvar result;\n\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t} else if (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input)).sort(function (a, b) {\n\t\t\treturn Number(a) - Number(b);\n\t\t}).map(function (key) {\n\t\t\treturn input[key];\n\t\t});\n\t}\n\n\treturn input;\n}\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str, opts) {\n\topts = objectAssign({arrayFormat: 'none'}, opts);\n\n\tvar formatter = parserForArrayFormat(opts);\n\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\tformatter(decodeURIComponent(key), val, ret);\n\t});\n\n\treturn Object.keys(ret).sort().reduce(function (result, key) {\n\t\tvar val = ret[key];\n\t\tif (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(val);\n\t\t} else {\n\t\t\tresult[key] = val;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n};\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\tvar formatter = encoderForArrayFormat(opts);\n\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, val2, result.length));\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports) {\n\n(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    rawHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = 'status' in options ? options.status : 200\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// stitch.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 33);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 972b321159bd8ce760d4","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/buffer/index.js\n// module id = 0\n// module chunks = 0","'use strict';\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n//\n// Copyright 2009 Google Inc. All Rights Reserved\n\n/**\n * Defines a Long class for representing a 64-bit two's-complement\n * integer value, which faithfully simulates the behavior of a Java \"Long\". This\n * implementation is derived from LongLib in GWT.\n *\n * Constructs a 64-bit two's-complement integer, given its low and high 32-bit\n * values as *signed* integers.  See the from* functions below for more\n * convenient ways of constructing Longs.\n *\n * The internal representation of a Long is the two given signed, 32-bit values.\n * We use 32-bit pieces because these are the size of integers on which\n * Javascript performs bit-operations.  For operations like addition and\n * multiplication, we split each number into 16-bit pieces, which can easily be\n * multiplied within Javascript's floating-point representation without overflow\n * or change in sign.\n *\n * In the algorithms below, we frequently reduce the negative case to the\n * positive case by negating the input(s) and then post-processing the result.\n * Note that we must ALWAYS check specially whether those values are MIN_VALUE\n * (-2^63) because -MIN_VALUE == MIN_VALUE (since 2^63 cannot be represented as\n * a positive number, it overflows back into a negative).  Not handling this\n * case would often result in infinite recursion.\n *\n * @class\n * @param {number} low  the low (signed) 32 bits of the Long.\n * @param {number} high the high (signed) 32 bits of the Long.\n * @return {Long}\n */\nfunction Long(low, high) {\n  if (!(this instanceof Long)) return new Long(low, high);\n\n  this._bsontype = 'Long';\n  /**\n   * @type {number}\n   * @ignore\n   */\n  this.low_ = low | 0; // force into 32 signed bits.\n\n  /**\n   * @type {number}\n   * @ignore\n   */\n  this.high_ = high | 0; // force into 32 signed bits.\n}\n\n/**\n * Return the int value.\n *\n * @method\n * @return {number} the value, assuming it is a 32-bit integer.\n */\nLong.prototype.toInt = function() {\n  return this.low_;\n};\n\n/**\n * Return the Number value.\n *\n * @method\n * @return {number} the closest floating-point representation to this value.\n */\nLong.prototype.toNumber = function() {\n  return this.high_ * Long.TWO_PWR_32_DBL_ + this.getLowBitsUnsigned();\n};\n\n/**\n * Return the JSON value.\n *\n * @method\n * @return {string} the JSON representation.\n */\nLong.prototype.toJSON = function() {\n  return this.toString();\n};\n\n/**\n * Return the String value.\n *\n * @method\n * @param {number} [opt_radix] the radix in which the text should be written.\n * @return {string} the textual representation of this value.\n */\nLong.prototype.toString = function(opt_radix) {\n  var radix = opt_radix || 10;\n  if (radix < 2 || 36 < radix) {\n    throw Error('radix out of range: ' + radix);\n  }\n\n  if (this.isZero()) {\n    return '0';\n  }\n\n  if (this.isNegative()) {\n    if (this.equals(Long.MIN_VALUE)) {\n      // We need to change the Long value before it can be negated, so we remove\n      // the bottom-most digit in this base and then recurse to do the rest.\n      var radixLong = Long.fromNumber(radix);\n      var div = this.div(radixLong);\n      var rem = div.multiply(radixLong).subtract(this);\n      return div.toString(radix) + rem.toInt().toString(radix);\n    } else {\n      return '-' + this.negate().toString(radix);\n    }\n  }\n\n  // Do several (6) digits each time through the loop, so as to\n  // minimize the calls to the very expensive emulated div.\n  var radixToPower = Long.fromNumber(Math.pow(radix, 6));\n\n  rem = this;\n  var result = '';\n\n  while (!rem.isZero()) {\n    var remDiv = rem.div(radixToPower);\n    var intval = rem.subtract(remDiv.multiply(radixToPower)).toInt();\n    var digits = intval.toString(radix);\n\n    rem = remDiv;\n    if (rem.isZero()) {\n      return digits + result;\n    } else {\n      while (digits.length < 6) {\n        digits = '0' + digits;\n      }\n      result = '' + digits + result;\n    }\n  }\n};\n\n/**\n * Return the high 32-bits value.\n *\n * @method\n * @return {number} the high 32-bits as a signed value.\n */\nLong.prototype.getHighBits = function() {\n  return this.high_;\n};\n\n/**\n * Return the low 32-bits value.\n *\n * @method\n * @return {number} the low 32-bits as a signed value.\n */\nLong.prototype.getLowBits = function() {\n  return this.low_;\n};\n\n/**\n * Return the low unsigned 32-bits value.\n *\n * @method\n * @return {number} the low 32-bits as an unsigned value.\n */\nLong.prototype.getLowBitsUnsigned = function() {\n  return this.low_ >= 0 ? this.low_ : Long.TWO_PWR_32_DBL_ + this.low_;\n};\n\n/**\n * Returns the number of bits needed to represent the absolute value of this Long.\n *\n * @method\n * @return {number} Returns the number of bits needed to represent the absolute value of this Long.\n */\nLong.prototype.getNumBitsAbs = function() {\n  if (this.isNegative()) {\n    if (this.equals(Long.MIN_VALUE)) {\n      return 64;\n    } else {\n      return this.negate().getNumBitsAbs();\n    }\n  } else {\n    var val = this.high_ !== 0 ? this.high_ : this.low_;\n    for (var bit = 31; bit > 0; bit--) {\n      if ((val & (1 << bit)) !== 0) {\n        break;\n      }\n    }\n    return this.high_ !== 0 ? bit + 33 : bit + 1;\n  }\n};\n\n/**\n * Return whether this value is zero.\n *\n * @method\n * @return {boolean} whether this value is zero.\n */\nLong.prototype.isZero = function() {\n  return this.high_ === 0 && this.low_ === 0;\n};\n\n/**\n * Return whether this value is negative.\n *\n * @method\n * @return {boolean} whether this value is negative.\n */\nLong.prototype.isNegative = function() {\n  return this.high_ < 0;\n};\n\n/**\n * Return whether this value is odd.\n *\n * @method\n * @return {boolean} whether this value is odd.\n */\nLong.prototype.isOdd = function() {\n  return (this.low_ & 1) === 1;\n};\n\n/**\n * Return whether this Long equals the other\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} whether this Long equals the other\n */\nLong.prototype.equals = function(other) {\n  return this.high_ === other.high_ && this.low_ === other.low_;\n};\n\n/**\n * Return whether this Long does not equal the other.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} whether this Long does not equal the other.\n */\nLong.prototype.notEquals = function(other) {\n  return this.high_ !== other.high_ || this.low_ !== other.low_;\n};\n\n/**\n * Return whether this Long is less than the other.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} whether this Long is less than the other.\n */\nLong.prototype.lessThan = function(other) {\n  return this.compare(other) < 0;\n};\n\n/**\n * Return whether this Long is less than or equal to the other.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} whether this Long is less than or equal to the other.\n */\nLong.prototype.lessThanOrEqual = function(other) {\n  return this.compare(other) <= 0;\n};\n\n/**\n * Return whether this Long is greater than the other.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} whether this Long is greater than the other.\n */\nLong.prototype.greaterThan = function(other) {\n  return this.compare(other) > 0;\n};\n\n/**\n * Return whether this Long is greater than or equal to the other.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} whether this Long is greater than or equal to the other.\n */\nLong.prototype.greaterThanOrEqual = function(other) {\n  return this.compare(other) >= 0;\n};\n\n/**\n * Compares this Long with the given one.\n *\n * @method\n * @param {Long} other Long to compare against.\n * @return {boolean} 0 if they are the same, 1 if the this is greater, and -1 if the given one is greater.\n */\nLong.prototype.compare = function(other) {\n  if (this.equals(other)) {\n    return 0;\n  }\n\n  var thisNeg = this.isNegative();\n  var otherNeg = other.isNegative();\n  if (thisNeg && !otherNeg) {\n    return -1;\n  }\n  if (!thisNeg && otherNeg) {\n    return 1;\n  }\n\n  // at this point, the signs are the same, so subtraction will not overflow\n  if (this.subtract(other).isNegative()) {\n    return -1;\n  } else {\n    return 1;\n  }\n};\n\n/**\n * The negation of this value.\n *\n * @method\n * @return {Long} the negation of this value.\n */\nLong.prototype.negate = function() {\n  if (this.equals(Long.MIN_VALUE)) {\n    return Long.MIN_VALUE;\n  } else {\n    return this.not().add(Long.ONE);\n  }\n};\n\n/**\n * Returns the sum of this and the given Long.\n *\n * @method\n * @param {Long} other Long to add to this one.\n * @return {Long} the sum of this and the given Long.\n */\nLong.prototype.add = function(other) {\n  // Divide each number into 4 chunks of 16 bits, and then sum the chunks.\n\n  var a48 = this.high_ >>> 16;\n  var a32 = this.high_ & 0xffff;\n  var a16 = this.low_ >>> 16;\n  var a00 = this.low_ & 0xffff;\n\n  var b48 = other.high_ >>> 16;\n  var b32 = other.high_ & 0xffff;\n  var b16 = other.low_ >>> 16;\n  var b00 = other.low_ & 0xffff;\n\n  var c48 = 0,\n    c32 = 0,\n    c16 = 0,\n    c00 = 0;\n  c00 += a00 + b00;\n  c16 += c00 >>> 16;\n  c00 &= 0xffff;\n  c16 += a16 + b16;\n  c32 += c16 >>> 16;\n  c16 &= 0xffff;\n  c32 += a32 + b32;\n  c48 += c32 >>> 16;\n  c32 &= 0xffff;\n  c48 += a48 + b48;\n  c48 &= 0xffff;\n  return Long.fromBits((c16 << 16) | c00, (c48 << 16) | c32);\n};\n\n/**\n * Returns the difference of this and the given Long.\n *\n * @method\n * @param {Long} other Long to subtract from this.\n * @return {Long} the difference of this and the given Long.\n */\nLong.prototype.subtract = function(other) {\n  return this.add(other.negate());\n};\n\n/**\n * Returns the product of this and the given Long.\n *\n * @method\n * @param {Long} other Long to multiply with this.\n * @return {Long} the product of this and the other.\n */\nLong.prototype.multiply = function(other) {\n  if (this.isZero()) {\n    return Long.ZERO;\n  } else if (other.isZero()) {\n    return Long.ZERO;\n  }\n\n  if (this.equals(Long.MIN_VALUE)) {\n    return other.isOdd() ? Long.MIN_VALUE : Long.ZERO;\n  } else if (other.equals(Long.MIN_VALUE)) {\n    return this.isOdd() ? Long.MIN_VALUE : Long.ZERO;\n  }\n\n  if (this.isNegative()) {\n    if (other.isNegative()) {\n      return this.negate().multiply(other.negate());\n    } else {\n      return this.negate()\n        .multiply(other)\n        .negate();\n    }\n  } else if (other.isNegative()) {\n    return this.multiply(other.negate()).negate();\n  }\n\n  // If both Longs are small, use float multiplication\n  if (this.lessThan(Long.TWO_PWR_24_) && other.lessThan(Long.TWO_PWR_24_)) {\n    return Long.fromNumber(this.toNumber() * other.toNumber());\n  }\n\n  // Divide each Long into 4 chunks of 16 bits, and then add up 4x4 products.\n  // We can skip products that would overflow.\n\n  var a48 = this.high_ >>> 16;\n  var a32 = this.high_ & 0xffff;\n  var a16 = this.low_ >>> 16;\n  var a00 = this.low_ & 0xffff;\n\n  var b48 = other.high_ >>> 16;\n  var b32 = other.high_ & 0xffff;\n  var b16 = other.low_ >>> 16;\n  var b00 = other.low_ & 0xffff;\n\n  var c48 = 0,\n    c32 = 0,\n    c16 = 0,\n    c00 = 0;\n  c00 += a00 * b00;\n  c16 += c00 >>> 16;\n  c00 &= 0xffff;\n  c16 += a16 * b00;\n  c32 += c16 >>> 16;\n  c16 &= 0xffff;\n  c16 += a00 * b16;\n  c32 += c16 >>> 16;\n  c16 &= 0xffff;\n  c32 += a32 * b00;\n  c48 += c32 >>> 16;\n  c32 &= 0xffff;\n  c32 += a16 * b16;\n  c48 += c32 >>> 16;\n  c32 &= 0xffff;\n  c32 += a00 * b32;\n  c48 += c32 >>> 16;\n  c32 &= 0xffff;\n  c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;\n  c48 &= 0xffff;\n  return Long.fromBits((c16 << 16) | c00, (c48 << 16) | c32);\n};\n\n/**\n * Returns this Long divided by the given one.\n *\n * @method\n * @param {Long} other Long by which to divide.\n * @return {Long} this Long divided by the given one.\n */\nLong.prototype.div = function(other) {\n  if (other.isZero()) {\n    throw Error('division by zero');\n  } else if (this.isZero()) {\n    return Long.ZERO;\n  }\n\n  if (this.equals(Long.MIN_VALUE)) {\n    if (other.equals(Long.ONE) || other.equals(Long.NEG_ONE)) {\n      return Long.MIN_VALUE; // recall that -MIN_VALUE == MIN_VALUE\n    } else if (other.equals(Long.MIN_VALUE)) {\n      return Long.ONE;\n    } else {\n      // At this point, we have |other| >= 2, so |this/other| < |MIN_VALUE|.\n      var halfThis = this.shiftRight(1);\n      var approx = halfThis.div(other).shiftLeft(1);\n      if (approx.equals(Long.ZERO)) {\n        return other.isNegative() ? Long.ONE : Long.NEG_ONE;\n      } else {\n        var rem = this.subtract(other.multiply(approx));\n        var result = approx.add(rem.div(other));\n        return result;\n      }\n    }\n  } else if (other.equals(Long.MIN_VALUE)) {\n    return Long.ZERO;\n  }\n\n  if (this.isNegative()) {\n    if (other.isNegative()) {\n      return this.negate().div(other.negate());\n    } else {\n      return this.negate()\n        .div(other)\n        .negate();\n    }\n  } else if (other.isNegative()) {\n    return this.div(other.negate()).negate();\n  }\n\n  // Repeat the following until the remainder is less than other:  find a\n  // floating-point that approximates remainder / other *from below*, add this\n  // into the result, and subtract it from the remainder.  It is critical that\n  // the approximate value is less than or equal to the real value so that the\n  // remainder never becomes negative.\n  var res = Long.ZERO;\n  rem = this;\n  while (rem.greaterThanOrEqual(other)) {\n    // Approximate the result of division. This may be a little greater or\n    // smaller than the actual value.\n    approx = Math.max(1, Math.floor(rem.toNumber() / other.toNumber()));\n\n    // We will tweak the approximate result by changing it in the 48-th digit or\n    // the smallest non-fractional digit, whichever is larger.\n    var log2 = Math.ceil(Math.log(approx) / Math.LN2);\n    var delta = log2 <= 48 ? 1 : Math.pow(2, log2 - 48);\n\n    // Decrease the approximation until it is smaller than the remainder.  Note\n    // that if it is too large, the product overflows and is negative.\n    var approxRes = Long.fromNumber(approx);\n    var approxRem = approxRes.multiply(other);\n    while (approxRem.isNegative() || approxRem.greaterThan(rem)) {\n      approx -= delta;\n      approxRes = Long.fromNumber(approx);\n      approxRem = approxRes.multiply(other);\n    }\n\n    // We know the answer can't be zero... and actually, zero would cause\n    // infinite recursion since we would make no progress.\n    if (approxRes.isZero()) {\n      approxRes = Long.ONE;\n    }\n\n    res = res.add(approxRes);\n    rem = rem.subtract(approxRem);\n  }\n  return res;\n};\n\n/**\n * Returns this Long modulo the given one.\n *\n * @method\n * @param {Long} other Long by which to mod.\n * @return {Long} this Long modulo the given one.\n */\nLong.prototype.modulo = function(other) {\n  return this.subtract(this.div(other).multiply(other));\n};\n\n/**\n * The bitwise-NOT of this value.\n *\n * @method\n * @return {Long} the bitwise-NOT of this value.\n */\nLong.prototype.not = function() {\n  return Long.fromBits(~this.low_, ~this.high_);\n};\n\n/**\n * Returns the bitwise-AND of this Long and the given one.\n *\n * @method\n * @param {Long} other the Long with which to AND.\n * @return {Long} the bitwise-AND of this and the other.\n */\nLong.prototype.and = function(other) {\n  return Long.fromBits(this.low_ & other.low_, this.high_ & other.high_);\n};\n\n/**\n * Returns the bitwise-OR of this Long and the given one.\n *\n * @method\n * @param {Long} other the Long with which to OR.\n * @return {Long} the bitwise-OR of this and the other.\n */\nLong.prototype.or = function(other) {\n  return Long.fromBits(this.low_ | other.low_, this.high_ | other.high_);\n};\n\n/**\n * Returns the bitwise-XOR of this Long and the given one.\n *\n * @method\n * @param {Long} other the Long with which to XOR.\n * @return {Long} the bitwise-XOR of this and the other.\n */\nLong.prototype.xor = function(other) {\n  return Long.fromBits(this.low_ ^ other.low_, this.high_ ^ other.high_);\n};\n\n/**\n * Returns this Long with bits shifted to the left by the given amount.\n *\n * @method\n * @param {number} numBits the number of bits by which to shift.\n * @return {Long} this shifted to the left by the given amount.\n */\nLong.prototype.shiftLeft = function(numBits) {\n  numBits &= 63;\n  if (numBits === 0) {\n    return this;\n  } else {\n    var low = this.low_;\n    if (numBits < 32) {\n      var high = this.high_;\n      return Long.fromBits(low << numBits, (high << numBits) | (low >>> (32 - numBits)));\n    } else {\n      return Long.fromBits(0, low << (numBits - 32));\n    }\n  }\n};\n\n/**\n * Returns this Long with bits shifted to the right by the given amount.\n *\n * @method\n * @param {number} numBits the number of bits by which to shift.\n * @return {Long} this shifted to the right by the given amount.\n */\nLong.prototype.shiftRight = function(numBits) {\n  numBits &= 63;\n  if (numBits === 0) {\n    return this;\n  } else {\n    var high = this.high_;\n    if (numBits < 32) {\n      var low = this.low_;\n      return Long.fromBits((low >>> numBits) | (high << (32 - numBits)), high >> numBits);\n    } else {\n      return Long.fromBits(high >> (numBits - 32), high >= 0 ? 0 : -1);\n    }\n  }\n};\n\n/**\n * Returns this Long with bits shifted to the right by the given amount, with the new top bits matching the current sign bit.\n *\n * @method\n * @param {number} numBits the number of bits by which to shift.\n * @return {Long} this shifted to the right by the given amount, with zeros placed into the new leading bits.\n */\nLong.prototype.shiftRightUnsigned = function(numBits) {\n  numBits &= 63;\n  if (numBits === 0) {\n    return this;\n  } else {\n    var high = this.high_;\n    if (numBits < 32) {\n      var low = this.low_;\n      return Long.fromBits((low >>> numBits) | (high << (32 - numBits)), high >>> numBits);\n    } else if (numBits === 32) {\n      return Long.fromBits(high, 0);\n    } else {\n      return Long.fromBits(high >>> (numBits - 32), 0);\n    }\n  }\n};\n\n/**\n * Returns a Long representing the given (32-bit) integer value.\n *\n * @method\n * @param {number} value the 32-bit integer in question.\n * @return {Long} the corresponding Long value.\n */\nLong.fromInt = function(value) {\n  if (-128 <= value && value < 128) {\n    var cachedObj = Long.INT_CACHE_[value];\n    if (cachedObj) {\n      return cachedObj;\n    }\n  }\n\n  var obj = new Long(value | 0, value < 0 ? -1 : 0);\n  if (-128 <= value && value < 128) {\n    Long.INT_CACHE_[value] = obj;\n  }\n  return obj;\n};\n\n/**\n * Returns a Long representing the given value, provided that it is a finite number. Otherwise, zero is returned.\n *\n * @method\n * @param {number} value the number in question.\n * @return {Long} the corresponding Long value.\n */\nLong.fromNumber = function(value) {\n  if (isNaN(value) || !isFinite(value)) {\n    return Long.ZERO;\n  } else if (value <= -Long.TWO_PWR_63_DBL_) {\n    return Long.MIN_VALUE;\n  } else if (value + 1 >= Long.TWO_PWR_63_DBL_) {\n    return Long.MAX_VALUE;\n  } else if (value < 0) {\n    return Long.fromNumber(-value).negate();\n  } else {\n    return new Long((value % Long.TWO_PWR_32_DBL_) | 0, (value / Long.TWO_PWR_32_DBL_) | 0);\n  }\n};\n\n/**\n * Returns a Long representing the 64-bit integer that comes by concatenating the given high and low bits. Each is assumed to use 32 bits.\n *\n * @method\n * @param {number} lowBits the low 32-bits.\n * @param {number} highBits the high 32-bits.\n * @return {Long} the corresponding Long value.\n */\nLong.fromBits = function(lowBits, highBits) {\n  return new Long(lowBits, highBits);\n};\n\n/**\n * Returns a Long representation of the given string, written using the given radix.\n *\n * @method\n * @param {string} str the textual representation of the Long.\n * @param {number} opt_radix the radix in which the text is written.\n * @return {Long} the corresponding Long value.\n */\nLong.fromString = function(str, opt_radix) {\n  if (str.length === 0) {\n    throw Error('number format error: empty string');\n  }\n\n  var radix = opt_radix || 10;\n  if (radix < 2 || 36 < radix) {\n    throw Error('radix out of range: ' + radix);\n  }\n\n  if (str.charAt(0) === '-') {\n    return Long.fromString(str.substring(1), radix).negate();\n  } else if (str.indexOf('-') >= 0) {\n    throw Error('number format error: interior \"-\" character: ' + str);\n  }\n\n  // Do several (8) digits each time through the loop, so as to\n  // minimize the calls to the very expensive emulated div.\n  var radixToPower = Long.fromNumber(Math.pow(radix, 8));\n\n  var result = Long.ZERO;\n  for (var i = 0; i < str.length; i += 8) {\n    var size = Math.min(8, str.length - i);\n    var value = parseInt(str.substring(i, i + size), radix);\n    if (size < 8) {\n      var power = Long.fromNumber(Math.pow(radix, size));\n      result = result.multiply(power).add(Long.fromNumber(value));\n    } else {\n      result = result.multiply(radixToPower);\n      result = result.add(Long.fromNumber(value));\n    }\n  }\n  return result;\n};\n\n// NOTE: Common constant values ZERO, ONE, NEG_ONE, etc. are defined below the\n// from* methods on which they depend.\n\n/**\n * A cache of the Long representations of small integer values.\n * @type {Object}\n * @ignore\n */\nLong.INT_CACHE_ = {};\n\n// NOTE: the compiler should inline these constant values below and then remove\n// these variables, so there should be no runtime penalty for these.\n\n/**\n * Number used repeated below in calculations.  This must appear before the\n * first call to any from* function below.\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_16_DBL_ = 1 << 16;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_24_DBL_ = 1 << 24;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_32_DBL_ = Long.TWO_PWR_16_DBL_ * Long.TWO_PWR_16_DBL_;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_31_DBL_ = Long.TWO_PWR_32_DBL_ / 2;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_48_DBL_ = Long.TWO_PWR_32_DBL_ * Long.TWO_PWR_16_DBL_;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_64_DBL_ = Long.TWO_PWR_32_DBL_ * Long.TWO_PWR_32_DBL_;\n\n/**\n * @type {number}\n * @ignore\n */\nLong.TWO_PWR_63_DBL_ = Long.TWO_PWR_64_DBL_ / 2;\n\n/** @type {Long} */\nLong.ZERO = Long.fromInt(0);\n\n/** @type {Long} */\nLong.ONE = Long.fromInt(1);\n\n/** @type {Long} */\nLong.NEG_ONE = Long.fromInt(-1);\n\n/** @type {Long} */\nLong.MAX_VALUE = Long.fromBits(0xffffffff | 0, 0x7fffffff | 0);\n\n/** @type {Long} */\nLong.MIN_VALUE = Long.fromBits(0, 0x80000000 | 0);\n\n/**\n * @type {Long}\n * @ignore\n */\nLong.TWO_PWR_24_ = Long.fromInt(1 << 24);\n\n/**\n * Expose.\n */\nmodule.exports = Long;\nmodule.exports.Long = Long;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/long.js","import * as base64 from 'Base64';\n\n/**\n * @namespace util\n * @private\n */\n\n/**\n * Utility method for executing a service action as a function call.\n *\n * @memberof util\n * @param {Object} service the service to execute the action on\n * @param {String} action the service action to execute\n * @param {Array} args the arguments to supply to the service action invocation\n * @returns {Promise} the API response from the executed service action\n */\nfunction serviceResponse(service, { serviceName = service.serviceName, action, args }) {\n  const { client } = service;\n\n  if (!client) {\n    throw new Error('Service has no client');\n  }\n\n  return client.executeServiceFunction(serviceName, action, args);\n}\n\n/**\n * Utility function to encode a JSON object into a valid string that can be\n * inserted in a URI. The object is first stringified, then encoded in base64,\n * and finally encoded via the builtin encodeURIComponent function.\n *\n * @memberof util\n * @param {Object} obj The object to encode\n * @returns {String} The encoded object\n */\nfunction uriEncodeObject(obj) {\n  return encodeURIComponent(base64.btoa(JSON.stringify(obj)));\n}\n\nexport {\n  serviceResponse,\n  uriEncodeObject\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js","export const USER_AUTH_KEY = '_stitch_ua';\nexport const REFRESH_TOKEN_KEY = '_stitch_rt';\nexport const DEVICE_ID_KEY = '_stitch_did';\nexport const STATE_KEY = '_stitch_state';\nexport const USER_AUTH_COOKIE_NAME = 'stitch_ua';\nexport const STITCH_ERROR_KEY = '_stitch_error';\nexport const STITCH_LINK_KEY = '_stitch_link';\nexport const USER_LOGGED_IN_PT_KEY = '_stitch_pt';\nexport const STITCH_REDIRECT_PROVIDER = '_stitch_rp';\n\nexport const DEFAULT_ACCESS_TOKEN_EXPIRE_WITHIN_SECS = 10;\n\nexport const APP_CLIENT_CODEC = {\n  'accessToken': 'access_token',\n  'refreshToken': 'refresh_token',\n  'deviceId': 'device_id',\n  'userId': 'user_id'\n};\n\nexport const ADMIN_CLIENT_CODEC = {\n  'accessToken': 'access_token',\n  'refreshToken': 'refresh_token',\n  'deviceId': 'device_id',\n  'userId': 'user_id'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/auth/common.js","'use strict';\n\n/**\n * Module dependencies.\n * @ignore\n */\n\n// Test if we're in Node via presence of \"global\" not absence of \"window\"\n// to support hybrid environments like Electron\nif (typeof global !== 'undefined') {\n  var Buffer = require('buffer').Buffer; // TODO just use global Buffer\n}\n\n/**\n * A class representation of the BSON Binary type.\n *\n * Sub types\n *  - **BSON.BSON_BINARY_SUBTYPE_DEFAULT**, default BSON type.\n *  - **BSON.BSON_BINARY_SUBTYPE_FUNCTION**, BSON function type.\n *  - **BSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY**, BSON byte array type.\n *  - **BSON.BSON_BINARY_SUBTYPE_UUID**, BSON uuid type.\n *  - **BSON.BSON_BINARY_SUBTYPE_MD5**, BSON md5 type.\n *  - **BSON.BSON_BINARY_SUBTYPE_USER_DEFINED**, BSON user defined type.\n *\n * @class\n * @param {Buffer} buffer a buffer object containing the binary data.\n * @param {Number} [subType] the option binary type.\n * @return {Binary}\n */\nfunction Binary(buffer, subType) {\n  if (!(this instanceof Binary)) return new Binary(buffer, subType);\n\n  this._bsontype = 'Binary';\n\n  if (buffer instanceof Number) {\n    this.sub_type = buffer;\n    this.position = 0;\n  } else {\n    this.sub_type = subType == null ? BSON_BINARY_SUBTYPE_DEFAULT : subType;\n    this.position = 0;\n  }\n\n  if (buffer != null && !(buffer instanceof Number)) {\n    // Only accept Buffer, Uint8Array or Arrays\n    if (typeof buffer === 'string') {\n      // Different ways of writing the length of the string for the different types\n      if (typeof Buffer !== 'undefined') {\n        this.buffer = new Buffer(buffer);\n      } else if (\n        typeof Uint8Array !== 'undefined' ||\n        Object.prototype.toString.call(buffer) === '[object Array]'\n      ) {\n        this.buffer = writeStringToArray(buffer);\n      } else {\n        throw new Error('only String, Buffer, Uint8Array or Array accepted');\n      }\n    } else {\n      this.buffer = buffer;\n    }\n    this.position = buffer.length;\n  } else {\n    if (typeof Buffer !== 'undefined') {\n      this.buffer = new Buffer(Binary.BUFFER_SIZE);\n    } else if (typeof Uint8Array !== 'undefined') {\n      this.buffer = new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE));\n    } else {\n      this.buffer = new Array(Binary.BUFFER_SIZE);\n    }\n    // Set position to start of buffer\n    this.position = 0;\n  }\n}\n\n/**\n * Updates this binary with byte_value.\n *\n * @method\n * @param {string} byte_value a single byte we wish to write.\n */\nBinary.prototype.put = function put(byte_value) {\n  // If it's a string and a has more than one character throw an error\n  if (byte_value['length'] != null && typeof byte_value !== 'number' && byte_value.length !== 1)\n    throw new Error('only accepts single character String, Uint8Array or Array');\n  if ((typeof byte_value !== 'number' && byte_value < 0) || byte_value > 255)\n    throw new Error('only accepts number in a valid unsigned byte range 0-255');\n\n  // Decode the byte value once\n  var decoded_byte = null;\n  if (typeof byte_value === 'string') {\n    decoded_byte = byte_value.charCodeAt(0);\n  } else if (byte_value['length'] != null) {\n    decoded_byte = byte_value[0];\n  } else {\n    decoded_byte = byte_value;\n  }\n\n  if (this.buffer.length > this.position) {\n    this.buffer[this.position++] = decoded_byte;\n  } else {\n    if (typeof Buffer !== 'undefined' && Buffer.isBuffer(this.buffer)) {\n      // Create additional overflow buffer\n      var buffer = new Buffer(Binary.BUFFER_SIZE + this.buffer.length);\n      // Combine the two buffers together\n      this.buffer.copy(buffer, 0, 0, this.buffer.length);\n      this.buffer = buffer;\n      this.buffer[this.position++] = decoded_byte;\n    } else {\n      buffer = null;\n      // Create a new buffer (typed or normal array)\n      if (Object.prototype.toString.call(this.buffer) === '[object Uint8Array]') {\n        buffer = new Uint8Array(new ArrayBuffer(Binary.BUFFER_SIZE + this.buffer.length));\n      } else {\n        buffer = new Array(Binary.BUFFER_SIZE + this.buffer.length);\n      }\n\n      // We need to copy all the content to the new array\n      for (var i = 0; i < this.buffer.length; i++) {\n        buffer[i] = this.buffer[i];\n      }\n\n      // Reassign the buffer\n      this.buffer = buffer;\n      // Write the byte\n      this.buffer[this.position++] = decoded_byte;\n    }\n  }\n};\n\n/**\n * Writes a buffer or string to the binary.\n *\n * @method\n * @param {(Buffer|string)} string a string or buffer to be written to the Binary BSON object.\n * @param {number} offset specify the binary of where to write the content.\n * @return {null}\n */\nBinary.prototype.write = function write(string, offset) {\n  offset = typeof offset === 'number' ? offset : this.position;\n\n  // If the buffer is to small let's extend the buffer\n  if (this.buffer.length < offset + string.length) {\n    var buffer = null;\n    // If we are in node.js\n    if (typeof Buffer !== 'undefined' && Buffer.isBuffer(this.buffer)) {\n      buffer = new Buffer(this.buffer.length + string.length);\n      this.buffer.copy(buffer, 0, 0, this.buffer.length);\n    } else if (Object.prototype.toString.call(this.buffer) === '[object Uint8Array]') {\n      // Create a new buffer\n      buffer = new Uint8Array(new ArrayBuffer(this.buffer.length + string.length));\n      // Copy the content\n      for (var i = 0; i < this.position; i++) {\n        buffer[i] = this.buffer[i];\n      }\n    }\n\n    // Assign the new buffer\n    this.buffer = buffer;\n  }\n\n  if (typeof Buffer !== 'undefined' && Buffer.isBuffer(string) && Buffer.isBuffer(this.buffer)) {\n    string.copy(this.buffer, offset, 0, string.length);\n    this.position = offset + string.length > this.position ? offset + string.length : this.position;\n    // offset = string.length\n  } else if (\n    typeof Buffer !== 'undefined' &&\n    typeof string === 'string' &&\n    Buffer.isBuffer(this.buffer)\n  ) {\n    this.buffer.write(string, offset, 'binary');\n    this.position = offset + string.length > this.position ? offset + string.length : this.position;\n    // offset = string.length;\n  } else if (\n    Object.prototype.toString.call(string) === '[object Uint8Array]' ||\n    (Object.prototype.toString.call(string) === '[object Array]' && typeof string !== 'string')\n  ) {\n    for (i = 0; i < string.length; i++) {\n      this.buffer[offset++] = string[i];\n    }\n\n    this.position = offset > this.position ? offset : this.position;\n  } else if (typeof string === 'string') {\n    for (i = 0; i < string.length; i++) {\n      this.buffer[offset++] = string.charCodeAt(i);\n    }\n\n    this.position = offset > this.position ? offset : this.position;\n  }\n};\n\n/**\n * Reads **length** bytes starting at **position**.\n *\n * @method\n * @param {number} position read from the given position in the Binary.\n * @param {number} length the number of bytes to read.\n * @return {Buffer}\n */\nBinary.prototype.read = function read(position, length) {\n  length = length && length > 0 ? length : this.position;\n\n  // Let's return the data based on the type we have\n  if (this.buffer['slice']) {\n    return this.buffer.slice(position, position + length);\n  } else {\n    // Create a buffer to keep the result\n    var buffer =\n      typeof Uint8Array !== 'undefined'\n        ? new Uint8Array(new ArrayBuffer(length))\n        : new Array(length);\n    for (var i = 0; i < length; i++) {\n      buffer[i] = this.buffer[position++];\n    }\n  }\n  // Return the buffer\n  return buffer;\n};\n\n/**\n * Returns the value of this binary as a string.\n *\n * @method\n * @return {string}\n */\nBinary.prototype.value = function value(asRaw) {\n  asRaw = asRaw == null ? false : asRaw;\n\n  // Optimize to serialize for the situation where the data == size of buffer\n  if (\n    asRaw &&\n    typeof Buffer !== 'undefined' &&\n    Buffer.isBuffer(this.buffer) &&\n    this.buffer.length === this.position\n  )\n    return this.buffer;\n\n  // If it's a node.js buffer object\n  if (typeof Buffer !== 'undefined' && Buffer.isBuffer(this.buffer)) {\n    return asRaw\n      ? this.buffer.slice(0, this.position)\n      : this.buffer.toString('binary', 0, this.position);\n  } else {\n    if (asRaw) {\n      // we support the slice command use it\n      if (this.buffer['slice'] != null) {\n        return this.buffer.slice(0, this.position);\n      } else {\n        // Create a new buffer to copy content to\n        var newBuffer =\n          Object.prototype.toString.call(this.buffer) === '[object Uint8Array]'\n            ? new Uint8Array(new ArrayBuffer(this.position))\n            : new Array(this.position);\n        // Copy content\n        for (var i = 0; i < this.position; i++) {\n          newBuffer[i] = this.buffer[i];\n        }\n        // Return the buffer\n        return newBuffer;\n      }\n    } else {\n      return convertArraytoUtf8BinaryString(this.buffer, 0, this.position);\n    }\n  }\n};\n\n/**\n * Length.\n *\n * @method\n * @return {number} the length of the binary.\n */\nBinary.prototype.length = function length() {\n  return this.position;\n};\n\n/**\n * @ignore\n */\nBinary.prototype.toJSON = function() {\n  return this.buffer != null ? this.buffer.toString('base64') : '';\n};\n\n/**\n * @ignore\n */\nBinary.prototype.toString = function(format) {\n  return this.buffer != null ? this.buffer.slice(0, this.position).toString(format) : '';\n};\n\n/**\n * Binary default subtype\n * @ignore\n */\nvar BSON_BINARY_SUBTYPE_DEFAULT = 0;\n\n/**\n * @ignore\n */\nvar writeStringToArray = function(data) {\n  // Create a buffer\n  var buffer =\n    typeof Uint8Array !== 'undefined'\n      ? new Uint8Array(new ArrayBuffer(data.length))\n      : new Array(data.length);\n  // Write the content to the buffer\n  for (var i = 0; i < data.length; i++) {\n    buffer[i] = data.charCodeAt(i);\n  }\n  // Write the string to the buffer\n  return buffer;\n};\n\n/**\n * Convert Array ot Uint8Array to Binary String\n *\n * @ignore\n */\nvar convertArraytoUtf8BinaryString = function(byteArray, startIndex, endIndex) {\n  var result = '';\n  for (var i = startIndex; i < endIndex; i++) {\n    result = result + String.fromCharCode(byteArray[i]);\n  }\n  return result;\n};\n\nBinary.BUFFER_SIZE = 256;\n\n/**\n * Default BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_DEFAULT = 0;\n/**\n * Function BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_FUNCTION = 1;\n/**\n * Byte Array BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_BYTE_ARRAY = 2;\n/**\n * OLD UUID BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_UUID_OLD = 3;\n/**\n * UUID BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_UUID = 4;\n/**\n * MD5 BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_MD5 = 5;\n/**\n * User BSON type\n *\n * @classconstant SUBTYPE_DEFAULT\n **/\nBinary.SUBTYPE_USER_DEFINED = 128;\n\n/**\n * Expose.\n */\nmodule.exports = Binary;\nmodule.exports.Binary = Binary;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/binary.js","'use strict';\n/**\n * A class representation of the BSON MinKey type.\n *\n * @class\n * @return {MinKey} A MinKey instance\n */\nfunction MinKey() {\n  if (!(this instanceof MinKey)) return new MinKey();\n\n  this._bsontype = 'MinKey';\n}\n\nmodule.exports = MinKey;\nmodule.exports.MinKey = MinKey;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/min_key.js","import { StitchError } from './errors';\n\nexport const JSONTYPE = 'application/json';\nexport const APP_CLIENT_TYPE = 'app';\nexport const ADMIN_CLIENT_TYPE = 'admin';\nexport const DEFAULT_STITCH_SERVER_URL = 'https://stitch.mongodb.com';\n\n// VERSION is substituted with the package.json version number at build time\nlet version = 'unknown';\nif (typeof VERSION !== 'undefined') {\n  version = VERSION;\n}\nexport const SDK_VERSION = version;\n\nexport const checkStatus = (response) => {\n  if (response.status >= 200 && response.status < 300) {\n    return response;\n  }\n\n  if (response.headers.get('Content-Type') === JSONTYPE) {\n    return response.json()\n      .then(json => {\n        const error = new StitchError(json.error, json.error_code);\n        error.response = response;\n        error.json = json;\n        return Promise.reject(error);\n      });\n  }\n\n  const error = new Error(response.statusText);\n  error.response = response;\n  return Promise.reject(error);\n};\n\nexport const makeFetchArgs = (method, body) => {\n  const init = {\n    method: method,\n    headers: { 'Accept': JSONTYPE, 'Content-Type': JSONTYPE }\n  };\n\n  if (body) {\n    init.body = body;\n  }\n\n  init.cors = true;\n  return init;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/common.js","/**\n * Creates a new StitchError\n *\n * @class\n * @augments Error\n * @param {String} message The error message.\n * @param {Object} code The error code.\n * @return {StitchError} A StitchError instance.\n */\nclass StitchError extends Error {\n  constructor(message, code) {\n    super(message);\n    this.name = 'StitchError';\n    this.message = message;\n    if (code !== undefined) {\n      this.code = code;\n    }\n\n    if (typeof Error.captureStackTrace === 'function') {\n      Error.captureStackTrace(this, this.constructor);\n    } else {\n      this.stack = (new Error(message)).stack;\n    }\n  }\n}\n\nconst ErrAuthProviderNotFound = 'AuthProviderNotFound';\nconst ErrInvalidSession = 'InvalidSession';\nconst ErrUnauthorized = 'Unauthorized';\n\n\nexport {\n  StitchError,\n  ErrAuthProviderNotFound,\n  ErrInvalidSession,\n  ErrUnauthorized\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/errors.js","'use strict';\n\n/**\n * A class representation of the BSON Code type.\n *\n * @class\n * @param {(string|function)} code a string or function.\n * @param {Object} [scope] an optional scope for the function.\n * @return {Code}\n */\nvar Code = function Code(code, scope) {\n  if (!(this instanceof Code)) return new Code(code, scope);\n  this._bsontype = 'Code';\n  this.code = code;\n  this.scope = scope;\n};\n\n/**\n * @ignore\n */\nCode.prototype.toJSON = function() {\n  return { scope: this.scope, code: this.code };\n};\n\nmodule.exports = Code;\nmodule.exports.Code = Code;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/code.js","'use strict';\n/**\n * A class representation of the BSON DBRef type.\n *\n * @class\n * @param {string} collection the collection name.\n * @param {ObjectID} oid the reference ObjectID.\n * @param {string} [db] optional db name, if omitted the reference is local to the current db.\n * @return {DBRef}\n */\nfunction DBRef(collection, oid, db, fields) {\n  if (!(this instanceof DBRef)) return new DBRef(collection, oid, db, fields);\n\n  this._bsontype = 'DBRef';\n  this.collection = collection;\n  this.oid = oid;\n  this.db = db;\n  this.fields = fields || {};\n}\n\n/**\n * @ignore\n * @api private\n */\nDBRef.prototype.toJSON = function() {\n  var o = {\n    $ref: this.collection,\n    $id: this.oid\n  };\n\n  if (this.db != null) o.$db = this.db;\n  o = Object.assign(o, this.fields);\n  return o;\n};\n\nmodule.exports = DBRef;\nmodule.exports.DBRef = DBRef;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/db_ref.js","'use strict';\n\nlet Long = require('./long');\n\nvar PARSE_STRING_REGEXP = /^(\\+|-)?(\\d+|(\\d*\\.\\d*))?(E|e)?([-+])?(\\d+)?$/;\nvar PARSE_INF_REGEXP = /^(\\+|-)?(Infinity|inf)$/i;\nvar PARSE_NAN_REGEXP = /^(\\+|-)?NaN$/i;\n\nvar EXPONENT_MAX = 6111;\nvar EXPONENT_MIN = -6176;\nvar EXPONENT_BIAS = 6176;\nvar MAX_DIGITS = 34;\n\n// Nan value bits as 32 bit values (due to lack of longs)\nvar NAN_BUFFER = [\n  0x7c,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00\n].reverse();\n// Infinity value bits 32 bit values (due to lack of longs)\nvar INF_NEGATIVE_BUFFER = [\n  0xf8,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00\n].reverse();\nvar INF_POSITIVE_BUFFER = [\n  0x78,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00,\n  0x00\n].reverse();\n\nvar EXPONENT_REGEX = /^([-+])?(\\d+)?$/;\n\n// Detect if the value is a digit\nvar isDigit = function(value) {\n  return !isNaN(parseInt(value, 10));\n};\n\n// Divide two uint128 values\nvar divideu128 = function(value) {\n  var DIVISOR = Long.fromNumber(1000 * 1000 * 1000);\n  var _rem = Long.fromNumber(0);\n\n  if (!value.parts[0] && !value.parts[1] && !value.parts[2] && !value.parts[3]) {\n    return { quotient: value, rem: _rem };\n  }\n\n  for (let i = 0; i <= 3; i++) {\n    // Adjust remainder to match value of next dividend\n    _rem = _rem.shiftLeft(32);\n    // Add the divided to _rem\n    _rem = _rem.add(new Long(value.parts[i], 0));\n    value.parts[i] = _rem.div(DIVISOR).low_;\n    _rem = _rem.modulo(DIVISOR);\n  }\n\n  return { quotient: value, rem: _rem };\n};\n\n// Multiply two Long values and return the 128 bit value\nvar multiply64x2 = function(left, right) {\n  if (!left && !right) {\n    return { high: Long.fromNumber(0), low: Long.fromNumber(0) };\n  }\n\n  var leftHigh = left.shiftRightUnsigned(32);\n  var leftLow = new Long(left.getLowBits(), 0);\n  var rightHigh = right.shiftRightUnsigned(32);\n  var rightLow = new Long(right.getLowBits(), 0);\n\n  var productHigh = leftHigh.multiply(rightHigh);\n  var productMid = leftHigh.multiply(rightLow);\n  var productMid2 = leftLow.multiply(rightHigh);\n  var productLow = leftLow.multiply(rightLow);\n\n  productHigh = productHigh.add(productMid.shiftRightUnsigned(32));\n  productMid = new Long(productMid.getLowBits(), 0)\n    .add(productMid2)\n    .add(productLow.shiftRightUnsigned(32));\n\n  productHigh = productHigh.add(productMid.shiftRightUnsigned(32));\n  productLow = productMid.shiftLeft(32).add(new Long(productLow.getLowBits(), 0));\n\n  // Return the 128 bit result\n  return { high: productHigh, low: productLow };\n};\n\nvar lessThan = function(left, right) {\n  // Make values unsigned\n  var uhleft = left.high_ >>> 0;\n  var uhright = right.high_ >>> 0;\n\n  // Compare high bits first\n  if (uhleft < uhright) {\n    return true;\n  } else if (uhleft === uhright) {\n    var ulleft = left.low_ >>> 0;\n    var ulright = right.low_ >>> 0;\n    if (ulleft < ulright) return true;\n  }\n\n  return false;\n};\n\nvar invalidErr = function(string, message) {\n  throw new Error('\"${string}\" not a valid Decimal128 string - ' + message);\n};\n\n/**\n * A class representation of the BSON Decimal128 type.\n *\n * @class\n * @param {Buffer} bytes a buffer containing the raw Decimal128 bytes.\n * @return {Double}\n */\nvar Decimal128 = function(bytes) {\n  this._bsontype = 'Decimal128';\n  this.bytes = bytes;\n};\n\n/**\n * Create a Decimal128 instance from a string representation\n *\n * @method\n * @param {string} string a numeric string representation.\n * @return {Decimal128} returns a Decimal128 instance.\n */\nDecimal128.fromString = function(string) {\n  // Parse state tracking\n  var isNegative = false;\n  var sawRadix = false;\n  var foundNonZero = false;\n\n  // Total number of significant digits (no leading or trailing zero)\n  var significantDigits = 0;\n  // Total number of significand digits read\n  var nDigitsRead = 0;\n  // Total number of digits (no leading zeros)\n  var nDigits = 0;\n  // The number of the digits after radix\n  var radixPosition = 0;\n  // The index of the first non-zero in *str*\n  var firstNonZero = 0;\n\n  // Digits Array\n  var digits = [0];\n  // The number of digits in digits\n  var nDigitsStored = 0;\n  // Insertion pointer for digits\n  var digitsInsert = 0;\n  // The index of the first non-zero digit\n  var firstDigit = 0;\n  // The index of the last digit\n  var lastDigit = 0;\n\n  // Exponent\n  var exponent = 0;\n  // loop index over array\n  var i = 0;\n  // The high 17 digits of the significand\n  var significandHigh = [0, 0];\n  // The low 17 digits of the significand\n  var significandLow = [0, 0];\n  // The biased exponent\n  var biasedExponent = 0;\n\n  // Read index\n  var index = 0;\n\n  // Results\n  var stringMatch = string.match(PARSE_STRING_REGEXP);\n  var infMatch = string.match(PARSE_INF_REGEXP);\n  var nanMatch = string.match(PARSE_NAN_REGEXP);\n\n  // Validate the string\n  if ((!stringMatch && !infMatch && !nanMatch) || string.length === 0) {\n    throw new Error('' + string + ' not a valid Decimal128 string');\n  }\n\n  if (stringMatch) {\n    // full_match = stringMatch[0]\n    // sign = stringMatch[1]\n\n    var unsignedNumber = stringMatch[2];\n    // stringMatch[3] is undefined if a whole number (ex \"1\", 12\")\n    // but defined if a number w/ decimal in it (ex \"1.0, 12.2\")\n\n    var e = stringMatch[4];\n    var expSign = stringMatch[5];\n    var expNumber = stringMatch[6];\n\n    // they provided e, but didn't give an exponent number. for ex \"1e\"\n    if (e && expNumber === undefined) invalidErr(string, 'missing exponent power');\n\n    // they provided e, but didn't give a number before it. for ex \"e1\"\n    if (e && unsignedNumber === undefined) invalidErr(string, 'missing exponent base');\n\n    if (e === undefined && (expSign || expNumber)) {\n      invalidErr(string, 'missing e before exponent');\n    }\n  }\n\n  // Get the negative or positive sign\n  if (string[index] === '+' || string[index] === '-') {\n    isNegative = string[index++] === '-';\n  }\n\n  // Check if user passed Infinity or NaN\n  if (!isDigit(string[index]) && string[index] !== '.') {\n    if (string[index] === 'i' || string[index] === 'I') {\n      return new Decimal128(new Buffer(isNegative ? INF_NEGATIVE_BUFFER : INF_POSITIVE_BUFFER));\n    } else if (string[index] === 'N') {\n      return new Decimal128(new Buffer(NAN_BUFFER));\n    }\n  }\n\n  // Read all the digits\n  while (isDigit(string[index]) || string[index] === '.') {\n    if (string[index] === '.') {\n      if (sawRadix) invalidErr(string, 'contains multiple periods');\n\n      sawRadix = true;\n      index = index + 1;\n      continue;\n    }\n\n    if (nDigitsStored < 34) {\n      if (string[index] !== '0' || foundNonZero) {\n        if (!foundNonZero) {\n          firstNonZero = nDigitsRead;\n        }\n\n        foundNonZero = true;\n\n        // Only store 34 digits\n        digits[digitsInsert++] = parseInt(string[index], 10);\n        nDigitsStored = nDigitsStored + 1;\n      }\n    }\n\n    if (foundNonZero) nDigits = nDigits + 1;\n    if (sawRadix) radixPosition = radixPosition + 1;\n\n    nDigitsRead = nDigitsRead + 1;\n    index = index + 1;\n  }\n\n  if (sawRadix && !nDigitsRead) throw new Error('' + string + ' not a valid Decimal128 string');\n\n  // Read exponent if exists\n  if (string[index] === 'e' || string[index] === 'E') {\n    // Read exponent digits\n    var match = string.substr(++index).match(EXPONENT_REGEX);\n\n    // No digits read\n    if (!match || !match[2]) return new Decimal128(new Buffer(NAN_BUFFER));\n\n    // Get exponent\n    exponent = parseInt(match[0], 10);\n\n    // Adjust the index\n    index = index + match[0].length;\n  }\n\n  // Return not a number\n  if (string[index]) return new Decimal128(new Buffer(NAN_BUFFER));\n\n  // Done reading input\n  // Find first non-zero digit in digits\n  firstDigit = 0;\n\n  if (!nDigitsStored) {\n    firstDigit = 0;\n    lastDigit = 0;\n    digits[0] = 0;\n    nDigits = 1;\n    nDigitsStored = 1;\n    significantDigits = 0;\n  } else {\n    lastDigit = nDigitsStored - 1;\n    significantDigits = nDigits;\n    if (significantDigits !== 1) {\n      while (string[firstNonZero + significantDigits - 1] === '0') {\n        significantDigits = significantDigits - 1;\n      }\n    }\n  }\n\n  // Normalization of exponent\n  // Correct exponent based on radix position, and shift significand as needed\n  // to represent user input\n\n  // Overflow prevention\n  if (exponent <= radixPosition && radixPosition - exponent > 1 << 14) {\n    exponent = EXPONENT_MIN;\n  } else {\n    exponent = exponent - radixPosition;\n  }\n\n  // Attempt to normalize the exponent\n  while (exponent > EXPONENT_MAX) {\n    // Shift exponent to significand and decrease\n    lastDigit = lastDigit + 1;\n\n    if (lastDigit - firstDigit > MAX_DIGITS) {\n      // Check if we have a zero then just hard clamp, otherwise fail\n      var digitsString = digits.join('');\n      if (digitsString.match(/^0+$/)) {\n        exponent = EXPONENT_MAX;\n        break;\n      }\n      invalidErr(string, 'overflow');\n    }\n    exponent = exponent - 1;\n  }\n\n  while (exponent < EXPONENT_MIN || nDigitsStored < nDigits) {\n    // Shift last digit. can only do this if < significant digits than # stored.\n    if (lastDigit === 0 && significantDigits < nDigitsStored) {\n      exponent = EXPONENT_MIN;\n      significantDigits = 0;\n      break;\n    }\n\n    if (nDigitsStored < nDigits) {\n      // adjust to match digits not stored\n      nDigits = nDigits - 1;\n    } else {\n      // adjust to round\n      lastDigit = lastDigit - 1;\n    }\n\n    if (exponent < EXPONENT_MAX) {\n      exponent = exponent + 1;\n    } else {\n      // Check if we have a zero then just hard clamp, otherwise fail\n      digitsString = digits.join('');\n      if (digitsString.match(/^0+$/)) {\n        exponent = EXPONENT_MAX;\n        break;\n      }\n      invalidErr(string, 'overflow');\n    }\n  }\n\n  // Round\n  // We've normalized the exponent, but might still need to round.\n  if (lastDigit - firstDigit + 1 < significantDigits) {\n    var endOfString = nDigitsRead;\n\n    // If we have seen a radix point, 'string' is 1 longer than we have\n    // documented with ndigits_read, so inc the position of the first nonzero\n    // digit and the position that digits are read to.\n    if (sawRadix) {\n      firstNonZero = firstNonZero + 1;\n      endOfString = endOfString + 1;\n    }\n    // if negative, we need to increment again to account for - sign at start.\n    if (isNegative) {\n      firstNonZero = firstNonZero + 1;\n      endOfString = endOfString + 1;\n    }\n\n    var roundDigit = parseInt(string[firstNonZero + lastDigit + 1], 10);\n    var roundBit = 0;\n\n    if (roundDigit >= 5) {\n      roundBit = 1;\n      if (roundDigit === 5) {\n        roundBit = digits[lastDigit] % 2 === 1;\n        for (i = firstNonZero + lastDigit + 2; i < endOfString; i++) {\n          if (parseInt(string[i], 10)) {\n            roundBit = 1;\n            break;\n          }\n        }\n      }\n    }\n\n    if (roundBit) {\n      var dIdx = lastDigit;\n\n      for (; dIdx >= 0; dIdx--) {\n        if (++digits[dIdx] > 9) {\n          digits[dIdx] = 0;\n\n          // overflowed most significant digit\n          if (dIdx === 0) {\n            if (exponent < EXPONENT_MAX) {\n              exponent = exponent + 1;\n              digits[dIdx] = 1;\n            } else {\n              return new Decimal128(\n                new Buffer(isNegative ? INF_NEGATIVE_BUFFER : INF_POSITIVE_BUFFER)\n              );\n            }\n          }\n        }\n      }\n    }\n  }\n\n  // Encode significand\n  // The high 17 digits of the significand\n  significandHigh = Long.fromNumber(0);\n  // The low 17 digits of the significand\n  significandLow = Long.fromNumber(0);\n\n  // read a zero\n  if (significantDigits === 0) {\n    significandHigh = Long.fromNumber(0);\n    significandLow = Long.fromNumber(0);\n  } else if (lastDigit - firstDigit < 17) {\n    dIdx = firstDigit;\n    significandLow = Long.fromNumber(digits[dIdx++]);\n    significandHigh = new Long(0, 0);\n\n    for (; dIdx <= lastDigit; dIdx++) {\n      significandLow = significandLow.multiply(Long.fromNumber(10));\n      significandLow = significandLow.add(Long.fromNumber(digits[dIdx]));\n    }\n  } else {\n    dIdx = firstDigit;\n    significandHigh = Long.fromNumber(digits[dIdx++]);\n\n    for (; dIdx <= lastDigit - 17; dIdx++) {\n      significandHigh = significandHigh.multiply(Long.fromNumber(10));\n      significandHigh = significandHigh.add(Long.fromNumber(digits[dIdx]));\n    }\n\n    significandLow = Long.fromNumber(digits[dIdx++]);\n\n    for (; dIdx <= lastDigit; dIdx++) {\n      significandLow = significandLow.multiply(Long.fromNumber(10));\n      significandLow = significandLow.add(Long.fromNumber(digits[dIdx]));\n    }\n  }\n\n  var significand = multiply64x2(significandHigh, Long.fromString('100000000000000000'));\n\n  significand.low = significand.low.add(significandLow);\n\n  if (lessThan(significand.low, significandLow)) {\n    significand.high = significand.high.add(Long.fromNumber(1));\n  }\n\n  // Biased exponent\n  biasedExponent = exponent + EXPONENT_BIAS;\n  var dec = { low: Long.fromNumber(0), high: Long.fromNumber(0) };\n\n  // Encode combination, exponent, and significand.\n  if (\n    significand.high\n      .shiftRightUnsigned(49)\n      .and(Long.fromNumber(1))\n      .equals(Long.fromNumber)\n  ) {\n    // Encode '11' into bits 1 to 3\n    dec.high = dec.high.or(Long.fromNumber(0x3).shiftLeft(61));\n    dec.high = dec.high.or(\n      Long.fromNumber(biasedExponent).and(Long.fromNumber(0x3fff).shiftLeft(47))\n    );\n    dec.high = dec.high.or(significand.high.and(Long.fromNumber(0x7fffffffffff)));\n  } else {\n    dec.high = dec.high.or(Long.fromNumber(biasedExponent & 0x3fff).shiftLeft(49));\n    dec.high = dec.high.or(significand.high.and(Long.fromNumber(0x1ffffffffffff)));\n  }\n\n  dec.low = significand.low;\n\n  // Encode sign\n  if (isNegative) {\n    dec.high = dec.high.or(Long.fromString('9223372036854775808'));\n  }\n\n  // Encode into a buffer\n  var buffer = new Buffer(16);\n  index = 0;\n\n  // Encode the low 64 bits of the decimal\n  // Encode low bits\n  buffer[index++] = dec.low.low_ & 0xff;\n  buffer[index++] = (dec.low.low_ >> 8) & 0xff;\n  buffer[index++] = (dec.low.low_ >> 16) & 0xff;\n  buffer[index++] = (dec.low.low_ >> 24) & 0xff;\n  // Encode high bits\n  buffer[index++] = dec.low.high_ & 0xff;\n  buffer[index++] = (dec.low.high_ >> 8) & 0xff;\n  buffer[index++] = (dec.low.high_ >> 16) & 0xff;\n  buffer[index++] = (dec.low.high_ >> 24) & 0xff;\n\n  // Encode the high 64 bits of the decimal\n  // Encode low bits\n  buffer[index++] = dec.high.low_ & 0xff;\n  buffer[index++] = (dec.high.low_ >> 8) & 0xff;\n  buffer[index++] = (dec.high.low_ >> 16) & 0xff;\n  buffer[index++] = (dec.high.low_ >> 24) & 0xff;\n  // Encode high bits\n  buffer[index++] = dec.high.high_ & 0xff;\n  buffer[index++] = (dec.high.high_ >> 8) & 0xff;\n  buffer[index++] = (dec.high.high_ >> 16) & 0xff;\n  buffer[index++] = (dec.high.high_ >> 24) & 0xff;\n\n  // Return the new Decimal128\n  return new Decimal128(buffer);\n};\n\n// Extract least significant 5 bits\nvar COMBINATION_MASK = 0x1f;\n// Extract least significant 14 bits\nvar EXPONENT_MASK = 0x3fff;\n// Value of combination field for Inf\nvar COMBINATION_INFINITY = 30;\n// Value of combination field for NaN\nvar COMBINATION_NAN = 31;\n// Value of combination field for NaN\n// var COMBINATION_SNAN = 32;\n// decimal128 exponent bias\nEXPONENT_BIAS = 6176;\n\n/**\n * Create a string representation of the raw Decimal128 value\n *\n * @method\n * @return {string} returns a Decimal128 string representation.\n */\nDecimal128.prototype.toString = function() {\n  // Note: bits in this routine are referred to starting at 0,\n  // from the sign bit, towards the coefficient.\n\n  // bits 0 - 31\n  var high;\n  // bits 32 - 63\n  var midh;\n  // bits 64 - 95\n  var midl;\n  // bits 96 - 127\n  var low;\n  // bits 1 - 5\n  var combination;\n  // decoded biased exponent (14 bits)\n  var biased_exponent;\n  // the number of significand digits\n  var significand_digits = 0;\n  // the base-10 digits in the significand\n  var significand = new Array(36);\n  for (var i = 0; i < significand.length; i++) significand[i] = 0;\n  // read pointer into significand\n  var index = 0;\n\n  // unbiased exponent\n  var exponent;\n  // the exponent if scientific notation is used\n  var scientific_exponent;\n\n  // true if the number is zero\n  var is_zero = false;\n\n  // the most signifcant significand bits (50-46)\n  var significand_msb;\n  // temporary storage for significand decoding\n  var significand128 = { parts: new Array(4) };\n  // indexing variables\n  var j, k;\n\n  // Output string\n  var string = [];\n\n  // Unpack index\n  index = 0;\n\n  // Buffer reference\n  var buffer = this.bytes;\n\n  // Unpack the low 64bits into a long\n  low =\n    buffer[index++] | (buffer[index++] << 8) | (buffer[index++] << 16) | (buffer[index++] << 24);\n  midl =\n    buffer[index++] | (buffer[index++] << 8) | (buffer[index++] << 16) | (buffer[index++] << 24);\n\n  // Unpack the high 64bits into a long\n  midh =\n    buffer[index++] | (buffer[index++] << 8) | (buffer[index++] << 16) | (buffer[index++] << 24);\n  high =\n    buffer[index++] | (buffer[index++] << 8) | (buffer[index++] << 16) | (buffer[index++] << 24);\n\n  // Unpack index\n  index = 0;\n\n  // Create the state of the decimal\n  var dec = {\n    low: new Long(low, midl),\n    high: new Long(midh, high)\n  };\n\n  if (dec.high.lessThan(Long.ZERO)) {\n    string.push('-');\n  }\n\n  // Decode combination field and exponent\n  combination = (high >> 26) & COMBINATION_MASK;\n\n  if (combination >> 3 === 3) {\n    // Check for 'special' values\n    if (combination === COMBINATION_INFINITY) {\n      return string.join('') + 'Infinity';\n    } else if (combination === COMBINATION_NAN) {\n      return 'NaN';\n    } else {\n      biased_exponent = (high >> 15) & EXPONENT_MASK;\n      significand_msb = 0x08 + ((high >> 14) & 0x01);\n    }\n  } else {\n    significand_msb = (high >> 14) & 0x07;\n    biased_exponent = (high >> 17) & EXPONENT_MASK;\n  }\n\n  exponent = biased_exponent - EXPONENT_BIAS;\n\n  // Create string of significand digits\n\n  // Convert the 114-bit binary number represented by\n  // (significand_high, significand_low) to at most 34 decimal\n  // digits through modulo and division.\n  significand128.parts[0] = (high & 0x3fff) + ((significand_msb & 0xf) << 14);\n  significand128.parts[1] = midh;\n  significand128.parts[2] = midl;\n  significand128.parts[3] = low;\n\n  if (\n    significand128.parts[0] === 0 &&\n    significand128.parts[1] === 0 &&\n    significand128.parts[2] === 0 &&\n    significand128.parts[3] === 0\n  ) {\n    is_zero = true;\n  } else {\n    for (k = 3; k >= 0; k--) {\n      var least_digits = 0;\n      // Peform the divide\n      var result = divideu128(significand128);\n      significand128 = result.quotient;\n      least_digits = result.rem.low_;\n\n      // We now have the 9 least significant digits (in base 2).\n      // Convert and output to string.\n      if (!least_digits) continue;\n\n      for (j = 8; j >= 0; j--) {\n        // significand[k * 9 + j] = Math.round(least_digits % 10);\n        significand[k * 9 + j] = least_digits % 10;\n        // least_digits = Math.round(least_digits / 10);\n        least_digits = Math.floor(least_digits / 10);\n      }\n    }\n  }\n\n  // Output format options:\n  // Scientific - [-]d.dddE(+/-)dd or [-]dE(+/-)dd\n  // Regular    - ddd.ddd\n\n  if (is_zero) {\n    significand_digits = 1;\n    significand[index] = 0;\n  } else {\n    significand_digits = 36;\n    i = 0;\n\n    while (!significand[index]) {\n      i++;\n      significand_digits = significand_digits - 1;\n      index = index + 1;\n    }\n  }\n\n  scientific_exponent = significand_digits - 1 + exponent;\n\n  // The scientific exponent checks are dictated by the string conversion\n  // specification and are somewhat arbitrary cutoffs.\n  //\n  // We must check exponent > 0, because if this is the case, the number\n  // has trailing zeros.  However, we *cannot* output these trailing zeros,\n  // because doing so would change the precision of the value, and would\n  // change stored data if the string converted number is round tripped.\n  if (scientific_exponent >= 34 || scientific_exponent <= -7 || exponent > 0) {\n    // Scientific format\n\n    // if there are too many significant digits, we should just be treating numbers\n    // as + or - 0 and using the non-scientific exponent (this is for the \"invalid\n    // representation should be treated as 0/-0\" spec cases in decimal128-1.json)\n    if (significand_digits > 34) {\n      string.push(0);\n      if (exponent > 0) string.push('E+' + exponent);\n      else if (exponent < 0) string.push('E' + exponent);\n      return string.join('');\n    }\n\n    string.push(significand[index++]);\n    significand_digits = significand_digits - 1;\n\n    if (significand_digits) {\n      string.push('.');\n    }\n\n    for (i = 0; i < significand_digits; i++) {\n      string.push(significand[index++]);\n    }\n\n    // Exponent\n    string.push('E');\n    if (scientific_exponent > 0) {\n      string.push('+' + scientific_exponent);\n    } else {\n      string.push(scientific_exponent);\n    }\n  } else {\n    // Regular format with no decimal place\n    if (exponent >= 0) {\n      for (i = 0; i < significand_digits; i++) {\n        string.push(significand[index++]);\n      }\n    } else {\n      var radix_position = significand_digits + exponent;\n\n      // non-zero digits before radix\n      if (radix_position > 0) {\n        for (i = 0; i < radix_position; i++) {\n          string.push(significand[index++]);\n        }\n      } else {\n        string.push('0');\n      }\n\n      string.push('.');\n      // add leading zeros after radix\n      while (radix_position++ < 0) {\n        string.push('0');\n      }\n\n      for (i = 0; i < significand_digits - Math.max(radix_position - 1, 0); i++) {\n        string.push(significand[index++]);\n      }\n    }\n  }\n\n  return string.join('');\n};\n\nDecimal128.prototype.toJSON = function() {\n  return { $numberDecimal: this.toString() };\n};\n\nmodule.exports = Decimal128;\nmodule.exports.Decimal128 = Decimal128;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/decimal128.js","'use strict';\n/**\n * A class representation of the BSON Double type.\n *\n * @class\n * @param {number} value the number we want to represent as a double.\n * @return {Double}\n */\nfunction Double(value) {\n  if (!(this instanceof Double)) return new Double(value);\n\n  this._bsontype = 'Double';\n  this.value = value;\n}\n\n/**\n * Access the number value.\n *\n * @method\n * @return {number} returns the wrapped double number.\n */\nDouble.prototype.valueOf = function() {\n  return this.value;\n};\n\n/**\n * @ignore\n */\nDouble.prototype.toJSON = function() {\n  return this.value;\n};\n\nmodule.exports = Double;\nmodule.exports.Double = Double;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/double.js","'use strict';\n/**\n * A class representation of the BSON MaxKey type.\n *\n * @class\n * @return {MaxKey} A MaxKey instance\n */\nfunction MaxKey() {\n  if (!(this instanceof MaxKey)) return new MaxKey();\n\n  this._bsontype = 'MaxKey';\n}\n\nmodule.exports = MaxKey;\nmodule.exports.MaxKey = MaxKey;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/max_key.js","'use strict';\n/**\n * Machine id.\n *\n * Create a random 3-byte value (i.e. unique for this\n * process). Other drivers use a md5 of the machine id here, but\n * that would mean an asyc call to gethostname, so we don't bother.\n * @ignore\n */\nvar MACHINE_ID = parseInt(Math.random() * 0xffffff, 10);\n\n// Regular expression that checks for hex value\nvar checkForHexRegExp = new RegExp('^[0-9a-fA-F]{24}$');\n\n// Check if buffer exists\ntry {\n  if (Buffer && Buffer.from) var hasBufferType = true;\n} catch (err) {\n  hasBufferType = false;\n}\n\n/**\n* Create a new ObjectID instance\n*\n* @class\n* @param {(string|number)} id Can be a 24 byte hex string, 12 byte binary string or a Number.\n* @property {number} generationTime The generation time of this ObjectId instance\n* @return {ObjectID} instance of ObjectID.\n*/\nvar ObjectID = function ObjectID(id) {\n  // Duck-typing to support ObjectId from different npm packages\n  if (id instanceof ObjectID) return id;\n  if (!(this instanceof ObjectID)) return new ObjectID(id);\n\n  this._bsontype = 'ObjectID';\n\n  // The most common usecase (blank id, new objectId instance)\n  if (id == null || typeof id === 'number') {\n    // Generate a new id\n    this.id = this.generate(id);\n    // If we are caching the hex string\n    if (ObjectID.cacheHexString) this.__id = this.toString('hex');\n    // Return the object\n    return;\n  }\n\n  // Check if the passed in id is valid\n  var valid = ObjectID.isValid(id);\n\n  // Throw an error if it's not a valid setup\n  if (!valid && id != null) {\n    throw new Error(\n      'Argument passed in must be a single String of 12 bytes or a string of 24 hex characters'\n    );\n  } else if (valid && typeof id === 'string' && id.length === 24 && hasBufferType) {\n    return new ObjectID(new Buffer(id, 'hex'));\n  } else if (valid && typeof id === 'string' && id.length === 24) {\n    return ObjectID.createFromHexString(id);\n  } else if (id != null && id.length === 12) {\n    // assume 12 byte string\n    this.id = id;\n  } else if (id != null && id.toHexString) {\n    // Duck-typing to support ObjectId from different npm packages\n    return id;\n  } else {\n    throw new Error(\n      'Argument passed in must be a single String of 12 bytes or a string of 24 hex characters'\n    );\n  }\n\n  if (ObjectID.cacheHexString) this.__id = this.toString('hex');\n};\n\n// Allow usage of ObjectId as well as ObjectID\n// var ObjectId = ObjectID;\n\n// Precomputed hex table enables speedy hex string conversion\nvar hexTable = [];\nfor (var i = 0; i < 256; i++) {\n  hexTable[i] = (i <= 15 ? '0' : '') + i.toString(16);\n}\n\n/**\n* Return the ObjectID id as a 24 byte hex string representation\n*\n* @method\n* @return {string} return the 24 byte hex string representation.\n*/\nObjectID.prototype.toHexString = function() {\n  if (ObjectID.cacheHexString && this.__id) return this.__id;\n\n  var hexString = '';\n  if (!this.id || !this.id.length) {\n    throw new Error(\n      'invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is [' +\n        JSON.stringify(this.id) +\n        ']'\n    );\n  }\n\n  if (this.id instanceof _Buffer) {\n    hexString = convertToHex(this.id);\n    if (ObjectID.cacheHexString) this.__id = hexString;\n    return hexString;\n  }\n\n  for (var i = 0; i < this.id.length; i++) {\n    hexString += hexTable[this.id.charCodeAt(i)];\n  }\n\n  if (ObjectID.cacheHexString) this.__id = hexString;\n  return hexString;\n};\n\n/**\n* Update the ObjectID index used in generating new ObjectID's on the driver\n*\n* @method\n* @return {number} returns next index value.\n* @ignore\n*/\nObjectID.prototype.get_inc = function() {\n  return (ObjectID.index = (ObjectID.index + 1) % 0xffffff);\n};\n\n/**\n* Update the ObjectID index used in generating new ObjectID's on the driver\n*\n* @method\n* @return {number} returns next index value.\n* @ignore\n*/\nObjectID.prototype.getInc = function() {\n  return this.get_inc();\n};\n\n/**\n* Generate a 12 byte id buffer used in ObjectID's\n*\n* @method\n* @param {number} [time] optional parameter allowing to pass in a second based timestamp.\n* @return {Buffer} return the 12 byte id buffer string.\n*/\nObjectID.prototype.generate = function(time) {\n  if ('number' !== typeof time) {\n    time = ~~(Date.now() / 1000);\n  }\n\n  // Use pid\n  var pid =\n    (typeof process === 'undefined' || process.pid === 1\n      ? Math.floor(Math.random() * 100000)\n      : process.pid) % 0xffff;\n  var inc = this.get_inc();\n  // Buffer used\n  var buffer = new Buffer(12);\n  // Encode time\n  buffer[3] = time & 0xff;\n  buffer[2] = (time >> 8) & 0xff;\n  buffer[1] = (time >> 16) & 0xff;\n  buffer[0] = (time >> 24) & 0xff;\n  // Encode machine\n  buffer[6] = MACHINE_ID & 0xff;\n  buffer[5] = (MACHINE_ID >> 8) & 0xff;\n  buffer[4] = (MACHINE_ID >> 16) & 0xff;\n  // Encode pid\n  buffer[8] = pid & 0xff;\n  buffer[7] = (pid >> 8) & 0xff;\n  // Encode index\n  buffer[11] = inc & 0xff;\n  buffer[10] = (inc >> 8) & 0xff;\n  buffer[9] = (inc >> 16) & 0xff;\n  // Return the buffer\n  return buffer;\n};\n\n/**\n* Converts the id into a 24 byte hex string for printing\n*\n* @param {String} format The Buffer toString format parameter.\n* @return {String} return the 24 byte hex string representation.\n* @ignore\n*/\nObjectID.prototype.toString = function(format) {\n  // Is the id a buffer then use the buffer toString method to return the format\n  if (this.id && this.id.copy) {\n    return this.id.toString(typeof format === 'string' ? format : 'hex');\n  }\n\n  // if(this.buffer )\n  return this.toHexString();\n};\n\n/**\n* Converts to a string representation of this Id.\n*\n* @return {String} return the 24 byte hex string representation.\n* @ignore\n*/\nObjectID.prototype.inspect = ObjectID.prototype.toString;\n\n/**\n* Converts to its JSON representation.\n*\n* @return {String} return the 24 byte hex string representation.\n* @ignore\n*/\nObjectID.prototype.toJSON = function() {\n  return this.toHexString();\n};\n\n/**\n* Compares the equality of this ObjectID with `otherID`.\n*\n* @method\n* @param {object} otherID ObjectID instance to compare against.\n* @return {boolean} the result of comparing two ObjectID's\n*/\nObjectID.prototype.equals = function equals(otherId) {\n  // var id;\n\n  if (otherId instanceof ObjectID) {\n    return this.toString() === otherId.toString();\n  } else if (\n    typeof otherId === 'string' &&\n    ObjectID.isValid(otherId) &&\n    otherId.length === 12 &&\n    this.id instanceof _Buffer\n  ) {\n    return otherId === this.id.toString('binary');\n  } else if (typeof otherId === 'string' && ObjectID.isValid(otherId) && otherId.length === 24) {\n    return otherId.toLowerCase() === this.toHexString();\n  } else if (typeof otherId === 'string' && ObjectID.isValid(otherId) && otherId.length === 12) {\n    return otherId === this.id;\n  } else if (otherId != null && (otherId instanceof ObjectID || otherId.toHexString)) {\n    return otherId.toHexString() === this.toHexString();\n  } else {\n    return false;\n  }\n};\n\n/**\n* Returns the generation date (accurate up to the second) that this ID was generated.\n*\n* @method\n* @return {date} the generation date\n*/\nObjectID.prototype.getTimestamp = function() {\n  var timestamp = new Date();\n  var time = this.id[3] | (this.id[2] << 8) | (this.id[1] << 16) | (this.id[0] << 24);\n  timestamp.setTime(Math.floor(time) * 1000);\n  return timestamp;\n};\n\n/**\n* @ignore\n*/\nObjectID.index = ~~(Math.random() * 0xffffff);\n\n/**\n* @ignore\n*/\nObjectID.createPk = function createPk() {\n  return new ObjectID();\n};\n\n/**\n* Creates an ObjectID from a second based number, with the rest of the ObjectID zeroed out. Used for comparisons or sorting the ObjectID.\n*\n* @method\n* @param {number} time an integer number representing a number of seconds.\n* @return {ObjectID} return the created ObjectID\n*/\nObjectID.createFromTime = function createFromTime(time) {\n  var buffer = new Buffer([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\n  // Encode time into first 4 bytes\n  buffer[3] = time & 0xff;\n  buffer[2] = (time >> 8) & 0xff;\n  buffer[1] = (time >> 16) & 0xff;\n  buffer[0] = (time >> 24) & 0xff;\n  // Return the new objectId\n  return new ObjectID(buffer);\n};\n\n// Lookup tables\n//var encodeLookup = '0123456789abcdef'.split('');\nvar decodeLookup = [];\ni = 0;\nwhile (i < 10) decodeLookup[0x30 + i] = i++;\nwhile (i < 16) decodeLookup[0x41 - 10 + i] = decodeLookup[0x61 - 10 + i] = i++;\n\nvar _Buffer = Buffer;\nvar convertToHex = function(bytes) {\n  return bytes.toString('hex');\n};\n\n/**\n* Creates an ObjectID from a hex string representation of an ObjectID.\n*\n* @method\n* @param {string} hexString create a ObjectID from a passed in 24 byte hexstring.\n* @return {ObjectID} return the created ObjectID\n*/\nObjectID.createFromHexString = function createFromHexString(string) {\n  // Throw an error if it's not a valid setup\n  if (typeof string === 'undefined' || (string != null && string.length !== 24)) {\n    throw new Error(\n      'Argument passed in must be a single String of 12 bytes or a string of 24 hex characters'\n    );\n  }\n\n  // Use Buffer.from method if available\n  if (hasBufferType) return new ObjectID(new Buffer(string, 'hex'));\n\n  // Calculate lengths\n  var array = new _Buffer(12);\n  var n = 0;\n  var i = 0;\n\n  while (i < 24) {\n    array[n++] = (decodeLookup[string.charCodeAt(i++)] << 4) | decodeLookup[string.charCodeAt(i++)];\n  }\n\n  return new ObjectID(array);\n};\n\n/**\n* Checks if a value is a valid bson ObjectId\n*\n* @method\n* @return {boolean} return true if the value is a valid bson ObjectId, return false otherwise.\n*/\nObjectID.isValid = function isValid(id) {\n  if (id == null) return false;\n\n  if (typeof id === 'number') {\n    return true;\n  }\n\n  if (typeof id === 'string') {\n    return id.length === 12 || (id.length === 24 && checkForHexRegExp.test(id));\n  }\n\n  if (id instanceof ObjectID) {\n    return true;\n  }\n\n  if (id instanceof _Buffer) {\n    return true;\n  }\n\n  // Duck-Typing detection of ObjectId like objects\n  if (id.toHexString) {\n    return id.id.length === 12 || (id.id.length === 24 && checkForHexRegExp.test(id.id));\n  }\n\n  return false;\n};\n\n/**\n* @ignore\n*/\nObject.defineProperty(ObjectID.prototype, 'generationTime', {\n  enumerable: true,\n  get: function() {\n    return this.id[3] | (this.id[2] << 8) | (this.id[1] << 16) | (this.id[0] << 24);\n  },\n  set: function(value) {\n    // Encode time into first 4 bytes\n    this.id[3] = value & 0xff;\n    this.id[2] = (value >> 8) & 0xff;\n    this.id[1] = (value >> 16) & 0xff;\n    this.id[0] = (value >> 24) & 0xff;\n  }\n});\n\n/**\n * Expose.\n */\nmodule.exports = ObjectID;\nmodule.exports.ObjectID = ObjectID;\nmodule.exports.ObjectId = ObjectID;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/objectid.js","'use strict';\n/**\n * A class representation of the BSON RegExp type.\n *\n * @class\n * @return {BSONRegExp} A MinKey instance\n */\nfunction BSONRegExp(pattern, options) {\n  if (!(this instanceof BSONRegExp)) return new BSONRegExp();\n\n  // Execute\n  this._bsontype = 'BSONRegExp';\n  this.pattern = pattern || '';\n  this.options = options || '';\n\n  // Validate options\n  for (var i = 0; i < this.options.length; i++) {\n    if (\n      !(\n        this.options[i] === 'i' ||\n        this.options[i] === 'm' ||\n        this.options[i] === 'x' ||\n        this.options[i] === 'l' ||\n        this.options[i] === 's' ||\n        this.options[i] === 'u'\n      )\n    ) {\n      throw new Error('the regular expression options [' + this.options[i] + '] is not supported');\n    }\n  }\n}\n\nmodule.exports = BSONRegExp;\nmodule.exports.BSONRegExp = BSONRegExp;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/regexp.js","'use strict';\n\nvar Long = require('./long');\n\n/**\n * @class\n * @param {number} low  the low (signed) 32 bits of the Timestamp.\n * @param {number} high the high (signed) 32 bits of the Timestamp.\n * @return {Timestamp}\n */\nvar Timestamp = function(low, high) {\n  if (low instanceof Long) {\n    Long.call(this, low.low_, low.high_);\n  } else {\n    Long.call(this, low, high);\n  }\n\n  this._bsontype = 'Timestamp';\n};\n\nTimestamp.prototype = Object.create(Long.prototype);\nTimestamp.prototype.constructor = Timestamp;\n\n/**\n * Return the JSON value.\n *\n * @method\n * @return {String} the JSON representation.\n */\nTimestamp.prototype.toJSON = function() {\n  return {\n    $timestamp: this.toString()\n  };\n};\n\n/**\n * Returns a Timestamp represented by the given (32-bit) integer value.\n *\n * @method\n * @param {number} value the 32-bit integer in question.\n * @return {Timestamp} the timestamp.\n */\nTimestamp.fromInt = function(value) {\n  return new Timestamp(Long.fromInt(value));\n};\n\n/**\n * Returns a Timestamp representing the given number value, provided that it is a finite number. Otherwise, zero is returned.\n *\n * @method\n * @param {number} value the number in question.\n * @return {Timestamp} the timestamp.\n */\nTimestamp.fromNumber = function(value) {\n  return new Timestamp(Long.fromNumber(value));\n};\n\n/**\n * Returns a Timestamp for the given high and low bits. Each is assumed to use 32 bits.\n *\n * @method\n * @param {number} lowBits the low 32-bits.\n * @param {number} highBits the high 32-bits.\n * @return {Timestamp} the timestamp.\n */\nTimestamp.fromBits = function(lowBits, highBits) {\n  return new Timestamp(lowBits, highBits);\n};\n\n/**\n * Returns a Timestamp from the given string, optionally using the given radix.\n *\n * @method\n * @param {String} str the textual representation of the Timestamp.\n * @param {number} [opt_radix] the radix in which the text is written.\n * @return {Timestamp} the timestamp.\n */\nTimestamp.fromString = function(str, opt_radix) {\n  return new Timestamp(Long.fromString(str, opt_radix));\n};\n\nmodule.exports = Timestamp;\nmodule.exports.Timestamp = Timestamp;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/timestamp.js","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 16\n// module chunks = 0","/* global window, fetch */\n/* eslint no-labels: ['error', { 'allowLoop': true }] */\nimport 'fetch-everywhere';\nimport { AuthFactory } from './auth';\nimport { PROVIDER_TYPE_ANON } from './auth/providers';\nimport { APP_CLIENT_CODEC } from './auth/common';\nimport ServiceRegistry from './services';\nimport * as common from './common';\nimport ExtJSON from 'mongodb-extjson';\nimport queryString from 'query-string';\nimport {\n  StitchError,\n  ErrInvalidSession,\n  ErrUnauthorized\n} from './errors';\n\nconst v1 = 1;\nconst v2 = 2;\nconst v3 = 3;\nconst API_TYPE_PUBLIC = 'public';\nconst API_TYPE_PRIVATE = 'private';\nconst API_TYPE_CLIENT = 'client';\nconst API_TYPE_APP = 'app';\n\n/**\n  * StitchClientFactory is a singleton factory class which can be used to\n  * asynchronously create instances of {@link StitchClient}. StitchClientFactory\n  * is not meant to be instantiated. Use the static `create()` method to build\n  * a new StitchClient.\n  */\nexport class StitchClientFactory {\n  /**\n   * @hideconstructor\n   */\n  constructor() {\n    throw new StitchError('StitchClient can only be made from the StitchClientFactory.create function');\n  }\n\n  /**\n   * Creates a new {@link StitchClient}.\n   *\n   * @param {String} clientAppID the app ID of the Stitch application, which can be found in\n   * the \"Clients\" page of the Stitch admin console.\n   * @param {Object} [options = {}] additional options for creating the {@link StitchClient}.\n   */\n  static create(clientAppID, options = {}) {\n    return newStitchClient(StitchClient.prototype, clientAppID, options);\n  }\n}\n\nexport function newStitchClient(prototype, clientAppID, options = {}) {\n  let stitchClient = Object.create(prototype);\n  let baseUrl = common.DEFAULT_STITCH_SERVER_URL;\n  if (options.baseUrl) {\n    baseUrl = options.baseUrl;\n  }\n\n  stitchClient.clientAppID = clientAppID;\n\n  stitchClient.authUrl = (\n    clientAppID ?\n      `${baseUrl}/api/client/v2.0/app/${clientAppID}/auth` :\n      `${baseUrl}/api/admin/v3.0/auth`\n  );\n\n  stitchClient.rootURLsByAPIVersion = {\n    [v1]: {\n      [API_TYPE_PUBLIC]: `${baseUrl}/api/public/v1.0`,\n      [API_TYPE_CLIENT]: `${baseUrl}/api/client/v1.0`,\n      [API_TYPE_PRIVATE]: `${baseUrl}/api/private/v1.0`,\n      [API_TYPE_APP]: (clientAppID ?\n        `${baseUrl}/api/client/v1.0/app/${clientAppID}` :\n        `${baseUrl}/api/public/v1.0`)\n    },\n    [v2]: {\n      [API_TYPE_PUBLIC]: `${baseUrl}/api/public/v2.0`,\n      [API_TYPE_CLIENT]: `${baseUrl}/api/client/v2.0`,\n      [API_TYPE_PRIVATE]: `${baseUrl}/api/private/v2.0`,\n      [API_TYPE_APP]: (clientAppID ?\n        `${baseUrl}/api/client/v2.0/app/${clientAppID}` :\n        `${baseUrl}/api/public/v2.0`)\n    },\n    [v3]: {\n      [API_TYPE_PUBLIC]: `${baseUrl}/api/public/v3.0`,\n      [API_TYPE_CLIENT]: `${baseUrl}/api/client/v3.0`,\n      [API_TYPE_APP]: (clientAppID ?\n        `${baseUrl}/api/client/v3.0/app/${clientAppID}` :\n        `${baseUrl}/api/admin/v3.0`)\n    }\n  };\n\n  const authOptions = {\n    codec: APP_CLIENT_CODEC,\n    storage: options.storage\n  };\n\n  if (options.storageType) {\n    authOptions.storageType = options.storageType;\n  }\n  if (options.platform) {\n    authOptions.platform = options.platform;\n  }\n  if (options.authCodec) {\n    authOptions.codec = options.authCodec;\n  }\n\n  const authPromise = AuthFactory.create(stitchClient, stitchClient.authUrl, authOptions);\n  return authPromise.then(auth => {\n    stitchClient.auth = auth;\n    return Promise.all([\n      stitchClient.auth.handleRedirect(),\n      stitchClient.auth.handleCookie()\n    ]);\n  }).then(() => stitchClient);\n}\n/**\n * StitchClient is the fundamental way of communicating with MongoDB Stitch in your\n * application. Use StitchClient to authenticate users and to access Stitch services.\n * StitchClient is not meant to be instantiated directly. Use a\n * {@link StitchClientFactory} to create one.\n */\nexport class StitchClient {\n  /**\n   * @hideconstructor\n   */\n  constructor() {\n    let classname = this.constructor.name;\n    throw new StitchError(`${classname} can only be made from the ${classname}Factory.create function`);\n  }\n\n  get type() {\n    return common.APP_CLIENT_TYPE;\n  }\n\n  /**\n   * Login to Stitch instance, optionally providing a username and password. In\n   * the event that these are omitted, anonymous authentication is used.\n   *\n   * @param {String} [email] the email address used for login\n   * @param {String} [password] the password for the provided email address\n   * @param {Object} [options = {}] additional authentication options\n   * @returns {Promise} which resolve to a String value: the authenticated user ID.\n   */\n  login(email, password, options = {}) {\n    if (email === undefined || password === undefined) {\n      return this.authenticate(PROVIDER_TYPE_ANON, options);\n    }\n\n    return this.authenticate('userpass', Object.assign({ username: email, password }, options));\n  }\n\n  /**\n   * Send a request to the server indicating the provided email would like\n   * to sign up for an account. This will trigger a confirmation email containing\n   * a token which must be used with the `emailConfirm` method of the `userpass`\n   * auth provider in order to complete registration. The user will not be able\n   * to log in until that flow has been completed.\n   *\n   * @param {String} email the email used to sign up for the app\n   * @param {String} password the password used to sign up for the app\n   * @param {Object} [options = {}] additional authentication options\n   * @returns {Promise}\n   */\n  register(email, password, options = {}) {\n    return this.auth.provider('userpass').register(email, password, options);\n  }\n\n\n  /**\n   * Links the currently logged in user with another identity.\n   *\n   * @param {String} providerType the provider of the other identity (e.g. 'userpass', 'facebook', 'google')\n   * @param {Object} [options = {}] additional authentication options\n   * @returns {Promise} which resolves to a String value: the original user ID\n   */\n  linkWithProvider(providerType, options = {}) {\n    if (!this.isAuthenticated()) {\n      throw new StitchError('Must be authenticated to link an account');\n    }\n\n    return this.auth.provider(providerType).authenticate(options, true).then(() => this.authedId());\n  }\n\n  /**\n   * Submits an authentication request to the specified provider providing any\n   * included options (read: user data).  If auth data already exists and the\n   * existing auth data has an access token, then these credentials are returned.\n   *\n   * @param {String} providerType the provider used for authentication (The possible\n   *                 options are 'anon', 'userpass', 'custom', 'facebook', 'google',\n   *                 and 'apiKey')\n   * @param {Object} [options = {}] additional authentication options\n   * @returns {Promise} which resolves to a String value: the authenticated user ID\n   */\n  authenticate(providerType, options = {}) {\n    // reuse existing auth if present\n    const authenticateFn = () =>\n      this.auth.provider(providerType).authenticate(options).then(() => this.authedId());\n\n    if (this.isAuthenticated()) {\n      if (providerType === PROVIDER_TYPE_ANON && this.auth.getLoggedInProviderType() === PROVIDER_TYPE_ANON) {\n        return Promise.resolve(this.auth.authedId); // is authenticated, skip log in\n      }\n\n      return this.logout().then(() => authenticateFn()); // will not be authenticated, continue log in\n    }\n\n    // is not authenticated, continue log in\n    return authenticateFn();\n  }\n\n  /**\n   * Ends the session for the current user, and clears auth information from storage.\n   *\n   * @returns {Promise}\n   */\n  logout() {\n    return this._do(\n      '/auth/session',\n      'DELETE',\n      {\n        refreshOnFailure: false,\n        useRefreshToken: true,\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT]\n      }\n    ).then(() => this.auth.clear(), () => this.auth.clear());\n  }\n\n  /**\n   * @returns {*} Returns any error from the Stitch authentication system.\n   */\n  authError() {\n    return this.auth.error();\n  }\n\n  /**\n   * Returns profile information for the currently logged in user.\n   *\n   * @returns {Promise} which resolves to a a JSON object containing user profile information.\n   */\n  userProfile() {\n    return this._do(\n      '/auth/profile',\n      'GET',\n      {rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT]},\n    ).then(response => response.json());\n  }\n\n  /**\n  * @returns {Boolean} whether or not the current client is authenticated.\n  */\n  isAuthenticated() {\n    return !!this.authedId();\n  }\n\n  /**\n   *  @returns {String} a string of the currently authenticated user's ID.\n   */\n  authedId() {\n    return this.auth.authedId;\n  }\n\n  /**\n   * Factory method for accessing Stitch services.\n   *\n   * @method\n   * @param {String} type the service type (e.g. \"mongodb\", \"aws-s3\", \"aws-ses\", \"twilio\", \"http\", etc.)\n   * @param {String} name the service name specified in the Stitch admin console.\n   * @returns {Object} returns an instance of the specified service type.\n   */\n  service(type, name) {\n    if (this.constructor !== StitchClient) {\n      throw new StitchError('`service` is a factory method, do not use `new`');\n    }\n\n    if (!ServiceRegistry.hasOwnProperty(type)) {\n      throw new StitchError('Invalid service type specified: ' + type);\n    }\n\n    const ServiceType = ServiceRegistry[type];\n    return new ServiceType(this, name);\n  }\n\n  /**\n   * Executes a function.\n   *\n   * @param {String} name The name of the function.\n   * @param {...*} args Arguments to pass to the function.\n   */\n  executeFunction(name, ...args) {\n    return this._doFunctionCall({\n      name,\n      arguments: args\n    });\n  }\n\n  /**\n   * Executes a service function.\n   *\n   * @param {String} service The name of the service.\n   * @param {String} action The name of the service action.\n   * @param {...*} args Arguments to pass to the service action.\n   */\n  executeServiceFunction(service, action, ...args) {\n    return this._doFunctionCall({\n      service,\n      name: action,\n      arguments: args\n    });\n  }\n\n  _doFunctionCall(request) {\n    let responseDecoder = (d) => ExtJSON.parse(d, { relaxed: true });\n    let responseEncoder = (d) => ExtJSON.stringify(d, { strict: true });\n\n    return this._do('/functions/call', 'POST', { body: responseEncoder(request) })\n      .then(response => response.text())\n      .then(body => responseDecoder(body));\n  }\n\n  /**\n   * Returns an access token for the user\n   *\n   * @private\n   * @returns {Promise}\n   */\n  doSessionPost() {\n    return this._do(\n      '/auth/session',\n      'POST',\n      {\n        refreshOnFailure: false,\n        useRefreshToken: true,\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT]\n      }\n    )\n      .then(response => response.json());\n  }\n\n  /**\n   * Returns the user API keys associated with the current user.\n   *\n   * @returns {Promise} which resolves to an array of API key objects\n   */\n  getApiKeys() {\n    return this._do(\n      '/auth/api_keys',\n      'GET',\n      {\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true\n      },\n    )\n      .then((response) => response.json());\n  }\n\n  /**\n   * Creates a user API key that can be used to authenticate as the current user.\n   *\n   * @param {String} userApiKeyName a unique name for the user API key\n   * @returns {Promise} which resolves to an API key object containing the API key value\n   */\n  createApiKey(userApiKeyName) {\n    return this._do(\n      '/auth/api_keys',\n      'POST',\n      { rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true,\n        body: JSON.stringify({'name': userApiKeyName})\n      },\n    )\n      .then((response) => response.json());\n  }\n\n  /**\n   * Returns a user API key associated with the current user.\n   *\n   * @param {String} keyID the ID of the key to fetch\n   * @returns {Promise} which resolves to an API key object, although the API key value will be omitted\n   */\n  getApiKeyByID(keyID) {\n    return this._do(\n      `/auth/api_keys/${keyID}`,\n      'GET',\n      {\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true\n      },\n    )\n      .then((response) => response.json());\n  }\n\n  /**\n   * Deletes a user API key associated with the current user.\n   *\n   * @param {String} keyID the ID of the key to delete\n   * @returns {Promise}\n   */\n  deleteApiKeyByID(keyID) {\n    return this._do(\n      `/auth/api_keys/${keyID}`,\n      'DELETE',\n      {\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true\n      },\n    );\n  }\n\n  /**\n   * Enables a user API key associated with the current user.\n   *\n   * @param {String} keyID the ID of the key to enable\n   * @returns {Promise}\n   */\n  enableApiKeyByID(keyID) {\n    return this._do(\n      `/auth/api_keys/${keyID}/enable`,\n      'PUT',\n      {\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true\n      },\n    );\n  }\n\n  /**\n   * Disables a user API key associated with the current user.\n   *\n   * @param {String} keyID the ID of the key to disable\n   * @returns {Promise}\n   */\n  disableApiKeyByID(keyID) {\n    return this._do(\n      `/auth/api_keys/${keyID}/disable`,\n      'PUT',\n      {\n        rootURL: this.rootURLsByAPIVersion[v2][API_TYPE_CLIENT],\n        useRefreshToken: true\n      },\n    );\n  }\n\n  _fetch(url, fetchArgs, resource, method, options) {\n    return fetch(url, fetchArgs)\n      .then(response => {\n        // Okay: passthrough\n        if (response.status >= 200 && response.status < 300) {\n          return Promise.resolve(response);\n        }\n\n        if (response.headers.get('Content-Type') === common.JSONTYPE) {\n          return response.json()\n            .then(json => {\n              // Only want to try refreshing token when there's an invalid session\n              if ('error_code' in json && json.error_code === ErrInvalidSession) {\n                if (!options.refreshOnFailure) {\n                  return this.auth.clear().then(() => {\n                    const error = new StitchError(json.error, json.error_code);\n                    error.response = response;\n                    error.json = json;\n                    throw error;\n                  });\n                }\n\n                return this.auth.refreshToken()\n                  .then(() => {\n                    options.refreshOnFailure = false;\n                    return this._do(resource, method, options);\n                  });\n              }\n\n              const error = new StitchError(json.error, json.error_code);\n              error.response = response;\n              error.json = json;\n              return Promise.reject(error);\n            });\n        }\n\n        const error = new Error(response.statusText);\n        error.response = response;\n        return Promise.reject(error);\n      });\n  }\n\n  _fetchArgs(resource, method, options) {\n    const appURL = this.rootURLsByAPIVersion[options.apiVersion][options.apiType];\n    let url = `${appURL}${resource}`;\n    if (options.rootURL) {\n      url = `${options.rootURL}${resource}`;\n    }\n    let fetchArgs = common.makeFetchArgs(method, options.body);\n\n    if (!!options.headers) {\n      Object.assign(fetchArgs.headers, options.headers);\n    }\n\n    if (options.queryParams) {\n      url = `${url}?${queryString.stringify(options.queryParams)}`;\n    }\n\n    return { url, fetchArgs };\n  }\n\n  _do(resource, method, options) {\n    options = Object.assign({}, {\n      refreshOnFailure: true,\n      useRefreshToken: false,\n      apiVersion: v2,\n      apiType: API_TYPE_APP,\n      rootURL: undefined\n    }, options);\n\n    let { url, fetchArgs } = this._fetchArgs(resource, method, options);\n    if (options.noAuth) {\n      return this._fetch(url, fetchArgs, resource, method, options);\n    }\n\n    if (!this.isAuthenticated()) {\n      return Promise.reject(new StitchError('Must auth first', ErrUnauthorized));\n    }\n    const token =\n      options.useRefreshToken ? this.auth.getRefreshToken() : this.auth.getAccessToken();\n\n    fetchArgs.headers.Authorization = `Bearer ${token}`;\n    return this._fetch(url, fetchArgs, resource, method, options);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client.js","var ExtJSON = require('./lib/ext_json');\n\nmodule.exports = ExtJSON;\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/index.js","'use strict';\n/**\n * A class representation of a BSON Int32 type.\n *\n * @class\n * @param {number} value the number we want to represent as an int32.\n * @return {Int32}\n */\nvar Int32 = function(value) {\n  if (!(this instanceof Int32)) return new Int32(value);\n\n  this._bsontype = 'Int32';\n  this.value = value;\n};\n\n/**\n * Access the number value.\n *\n * @method\n * @return {number} returns the wrapped int32 number.\n */\nInt32.prototype.valueOf = function() {\n  return this.value;\n};\n\n/**\n * @ignore\n */\nInt32.prototype.toJSON = function() {\n  return this.value;\n};\n\nmodule.exports = Int32;\nmodule.exports.Int32 = Int32;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/int_32.js","'use strict';\n\n// We have an ES6 Map available, return the native instance\nif (typeof global.Map !== 'undefined') {\n  module.exports = global.Map;\n  module.exports.Map = global.Map;\n} else {\n  // We will return a polyfill\n  var Map = function(array) {\n    this._keys = [];\n    this._values = {};\n\n    for (var i = 0; i < array.length; i++) {\n      if (array[i] == null) continue; // skip null and undefined\n      var entry = array[i];\n      var key = entry[0];\n      var value = entry[1];\n      // Add the key to the list of keys in order\n      this._keys.push(key);\n      // Add the key and value to the values dictionary with a point\n      // to the location in the ordered keys list\n      this._values[key] = { v: value, i: this._keys.length - 1 };\n    }\n  };\n\n  Map.prototype.clear = function() {\n    this._keys = [];\n    this._values = {};\n  };\n\n  Map.prototype.delete = function(key) {\n    var value = this._values[key];\n    if (value == null) return false;\n    // Delete entry\n    delete this._values[key];\n    // Remove the key from the ordered keys list\n    this._keys.splice(value.i, 1);\n    return true;\n  };\n\n  Map.prototype.entries = function() {\n    var self = this;\n    var index = 0;\n\n    return {\n      next: function() {\n        var key = self._keys[index++];\n        return {\n          value: key !== undefined ? [key, self._values[key].v] : undefined,\n          done: key !== undefined ? false : true\n        };\n      }\n    };\n  };\n\n  Map.prototype.forEach = function(callback, self) {\n    self = self || this;\n\n    for (var i = 0; i < this._keys.length; i++) {\n      var key = this._keys[i];\n      // Call the forEach callback\n      callback.call(self, this._values[key].v, key, self);\n    }\n  };\n\n  Map.prototype.get = function(key) {\n    return this._values[key] ? this._values[key].v : undefined;\n  };\n\n  Map.prototype.has = function(key) {\n    return this._values[key] != null;\n  };\n\n  Map.prototype.keys = function() {\n    var self = this;\n    var index = 0;\n\n    return {\n      next: function() {\n        var key = self._keys[index++];\n        return {\n          value: key !== undefined ? key : undefined,\n          done: key !== undefined ? false : true\n        };\n      }\n    };\n  };\n\n  Map.prototype.set = function(key, value) {\n    if (this._values[key]) {\n      this._values[key].v = value;\n      return this;\n    }\n\n    // Add the key to the list of keys in order\n    this._keys.push(key);\n    // Add the key and value to the values dictionary with a point\n    // to the location in the ordered keys list\n    this._values[key] = { v: value, i: this._keys.length - 1 };\n    return this;\n  };\n\n  Map.prototype.values = function() {\n    var self = this;\n    var index = 0;\n\n    return {\n      next: function() {\n        var key = self._keys[index++];\n        return {\n          value: key !== undefined ? self._values[key].v : undefined,\n          done: key !== undefined ? false : true\n        };\n      }\n    };\n  };\n\n  // Last ismaster\n  Object.defineProperty(Map.prototype, 'size', {\n    enumerable: true,\n    get: function() {\n      return this._keys.length;\n    }\n  });\n\n  module.exports = Map;\n  module.exports.Map = Map;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/map.js","'use strict';\n/**\n * A class representation of the BSON Symbol type.\n *\n * @class\n * @deprecated\n * @param {string} value the string representing the symbol.\n * @return {Symbol}\n */\nfunction Symbol(value) {\n  if (!(this instanceof Symbol)) return new Symbol(value);\n  this._bsontype = 'Symbol';\n  this.value = value;\n}\n\n/**\n * Access the wrapped string value.\n *\n * @method\n * @return {String} returns the wrapped string.\n */\nSymbol.prototype.valueOf = function() {\n  return this.value;\n};\n\n/**\n * @ignore\n */\nSymbol.prototype.toString = function() {\n  return this.value;\n};\n\n/**\n * @ignore\n */\nSymbol.prototype.inspect = function() {\n  return this.value;\n};\n\n/**\n * @ignore\n */\nSymbol.prototype.toJSON = function() {\n  return this.value;\n};\n\nmodule.exports = Symbol;\nmodule.exports.Symbol = Symbol;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/symbol.js","/**\n * @private\n * @module auth\n */\nimport * as common from '../common';\nimport * as authCommon from './common';\nimport { uriEncodeObject } from '../util';\n\nexport const PROVIDER_TYPE_ANON = 'anon';\nexport const PROVIDER_TYPE_CUSTOM = 'custom';\nexport const PROVIDER_TYPE_USERPASS = 'userpass';\nexport const PROVIDER_TYPE_APIKEY = 'apiKey';\nexport const PROVIDER_TYPE_GOOGLE = 'google';\nexport const PROVIDER_TYPE_FACEBOOK = 'facebook';\nexport const PROVIDER_TYPE_MONGODB_CLOUD = 'mongodbCloud';\n\nfunction urlWithLinkParam(url, link) {\n  if (link) {\n    return url + '?link=true';\n  }\n\n  return url;\n}\n\n/**\n * @private\n * @namespace\n */\nfunction anonProvider(auth) {\n  return {\n    /**\n     * Login to a stitch application using anonymous authentication\n     *\n     * @memberof anonProvider\n     * @instance\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: (options, link) => {\n      const deviceId = auth.getDeviceId();\n      const device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n      const fetchArgs = common.makeFetchArgs('GET');\n      fetchArgs.cors = true;\n\n      return fetch(\n        urlWithLinkParam(`${auth.rootUrl}/providers/anon-user/login?device=${uriEncodeObject(device)}`, link),\n        auth.fetchArgsWithLink(fetchArgs, link)\n      ).then(common.checkStatus)\n        .then(response => response.json())\n        .then(json => auth.set(json, PROVIDER_TYPE_ANON));\n    }\n  };\n}\n\n/**\n  * @private\n  * @namespace\n  */\nfunction customProvider(auth) {\n  const providerRoute = 'providers/custom-token';\n  const loginRoute = `${providerRoute}/login`;\n\n  return {\n    /**\n     * Login to a stitch application using custom authentication\n     *\n     * @memberof customProvider\n     * @instance\n     * @param {String} JWT token to use for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: (token, link) => {\n      const deviceId = auth.getDeviceId();\n      const device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n\n      const fetchArgs = common.makeFetchArgs(\n        'POST',\n        JSON.stringify({ token, options: { device } })\n      );\n      fetchArgs.cors = true;\n\n      return fetch(urlWithLinkParam(`${auth.rootUrl}/${loginRoute}`, link), auth.fetchArgsWithLink(fetchArgs, link))\n        .then(common.checkStatus)\n        .then(response => response.json())\n        .then(json => auth.set(json, PROVIDER_TYPE_CUSTOM));\n    }\n  };\n}\n\n/**\n * userPassProvider offers several methods for completing certain tasks necessary for email/password\n * authentication. userPassProvider cannot be instantiated directly. To instantiate,\n * use `.auth.providers('userpass')` on a {@link StitchClient}.\n *\n * @namespace\n */\nfunction userPassProvider(auth) {\n  // The ternary expression here is redundant but is just preserving previous behavior based on whether or not\n  // the client is for the admin or client API.\n  const providerRoute = auth.isAppClient() ? 'providers/local-userpass' : 'providers/local-userpass';\n  const loginRoute = auth.isAppClient() ? `${providerRoute}/login` : `${providerRoute}/login`;\n\n  return {\n    /**\n     * Login to a stitch application using username and password authentication\n     *\n     * @private\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} username the username to use for authentication\n     * @param {String} password the password to use for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: ({ username, password }, link) => {\n      const deviceId = auth.getDeviceId();\n      const device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n\n      const fetchArgs = common.makeFetchArgs(\n        'POST',\n        JSON.stringify({ username, password, options: { device } })\n      );\n      fetchArgs.cors = true;\n\n      return fetch(urlWithLinkParam(`${auth.rootUrl}/${loginRoute}`, link), auth.fetchArgsWithLink(fetchArgs, link))\n        .then(common.checkStatus)\n        .then(response => response.json())\n        .then(json => auth.set(json, PROVIDER_TYPE_USERPASS));\n    },\n\n    /**\n     * Completes the email confirmation workflow from the Stitch server\n     *\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} tokenId the tokenId provided by the Stitch server\n     * @param {String} token the token provided by the Stitch server\n     * @returns {Promise}\n     */\n    emailConfirm: (tokenId, token) => {\n      const fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ tokenId, token }));\n      fetchArgs.cors = true;\n\n      return fetch(`${auth.rootUrl}/${providerRoute}/confirm`, fetchArgs)\n        .then(common.checkStatus)\n        .then(response => response.json());\n    },\n\n    /**\n     * Request that the stitch server send another email confirmation\n     * for account creation.\n     *\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} email the email address to send a confirmation email for\n     * @returns {Promise}\n     */\n    sendEmailConfirm: (email) => {\n      const fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ email }));\n      fetchArgs.cors = true;\n\n      return fetch(`${auth.rootUrl}/${providerRoute}/confirm/send`, fetchArgs)\n        .then(common.checkStatus)\n        .then(response => response.json());\n    },\n\n    /**\n     * Sends a password reset request to the Stitch server\n     *\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} email the email address of the account to reset the password for\n     * @returns {Promise}\n     */\n    sendPasswordReset: (email) => {\n      const fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ email }));\n      fetchArgs.cors = true;\n\n      return fetch(`${auth.rootUrl}/${providerRoute}/reset/send`, fetchArgs)\n        .then(common.checkStatus)\n        .then(response => response.json());\n    },\n\n    /**\n     * Use information returned from the Stitch server to complete the password\n     * reset flow for a given email account, providing a new password for the account.\n     *\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} tokenId the tokenId provided by the Stitch server\n     * @param {String} token the token provided by the Stitch server\n     * @param {String} password the new password requested for this account\n     * @returns {Promise}\n     */\n    passwordReset: (tokenId, token, password) => {\n      const fetchArgs =\n        common.makeFetchArgs('POST', JSON.stringify({ tokenId, token, password }));\n      fetchArgs.cors = true;\n\n      return fetch(`${auth.rootUrl}/${providerRoute}/reset`, fetchArgs)\n        .then(common.checkStatus)\n        .then(response => response.json());\n    },\n\n\n    /**\n     * Will trigger an email to the requested account containing a link with the\n     * token and tokenId that must be returned to the server using emailConfirm()\n     * to activate the account.\n     *\n     * @memberof userPassProvider\n     * @instance\n     * @param {String} email the requested email for the account\n     * @param {String} password the requested password for the account\n     * @returns {Promise}\n     */\n    register: (email, password) => {\n      const fetchArgs = common.makeFetchArgs('POST', JSON.stringify({ email, password }));\n      fetchArgs.cors = true;\n\n      return fetch(`${auth.rootUrl}/${providerRoute}/register`, fetchArgs)\n        .then(common.checkStatus)\n        .then(response => response.json());\n    }\n  };\n}\n\n/**\n * @private\n * @namespace\n */\nfunction apiKeyProvider(auth) {\n  // The ternary expression here is redundant but is just preserving previous behavior based on whether or not\n  // the client is for the admin or client API.\n  const loginRoute = auth.isAppClient() ? 'providers/api-key/login' : 'providers/api-key/login';\n\n  return {\n    /**\n     * Login to a stitch application using an api key\n     *\n     * @memberof apiKeyProvider\n     * @instance\n     * @param {String} key the key for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: (key, link) => {\n      const deviceId = auth.getDeviceId();\n      const device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n      const fetchArgs = common.makeFetchArgs(\n        'POST',\n        JSON.stringify({ 'key': key, 'options': { device } })\n      );\n      fetchArgs.cors = true;\n\n      return fetch(urlWithLinkParam(`${auth.rootUrl}/${loginRoute}`, link), auth.fetchArgsWithLink(fetchArgs, link))\n        .then(common.checkStatus)\n        .then(response => response.json())\n        .then(json => auth.set(json, PROVIDER_TYPE_APIKEY));\n    }\n  };\n}\n\n// The state we generate is to be used for any kind of request where we will\n// complete an authentication flow via a redirect. We store the generate in\n// a local storage bound to the app's origin. This ensures that any time we\n// receive a redirect, there must be a state parameter and it must match\n// what we ourselves have generated. This state MUST only be sent to\n// a trusted Stitch endpoint in order to preserve its integrity. Stitch will\n// store it in some way on its origin (currently a cookie stored on this client)\n// and use that state at the end of an auth flow as a parameter in the redirect URI.\nconst alpha = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\nfunction generateState() {\n  let state = '';\n  for (let i = 0; i < 64; ++i) {\n    state += alpha.charAt(Math.floor(Math.random() * alpha.length));\n  }\n\n  return state;\n}\n\nfunction getOAuthLoginURL(auth, providerName, redirectUrl) {\n  if (redirectUrl === undefined) {\n    redirectUrl = auth.pageRootUrl();\n  }\n\n  const state = generateState();\n  return auth.storage.set(authCommon.STATE_KEY, state)\n    .then(() => auth.getDeviceId())\n    .then(deviceId => {\n      const device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n\n      const result = `${auth.rootUrl}/providers/oauth2-${providerName}/login?redirect=${encodeURI(redirectUrl)}&state=${state}&device=${uriEncodeObject(device)}`;\n      return result;\n    });\n}\n\n/**\n * @private\n * @namespace\n */\nfunction googleProvider(auth) {\n  const loginRoute = auth.isAppClient() ? 'providers/oauth2-google/login' : 'providers/oauth2-google/login';\n\n  return {\n    /**\n     * Login to a stitch application using google authentication\n     *\n     * @memberof googleProvider\n     * @instance\n     * @param {Object} data the redirectUrl data to use for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: (data, link) => {\n      let { authCode } = data;\n      if (authCode) {\n        const deviceId = auth.getDeviceId();\n        const device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n\n        const fetchArgs = common.makeFetchArgs(\n          'POST',\n          JSON.stringify({ authCode, options: { device } })\n        );\n\n        return fetch(urlWithLinkParam(`${auth.rootUrl}/${loginRoute}`, link), auth.fetchArgsWithLink(fetchArgs, link))\n          .then(common.checkStatus)\n          .then(response => response.json())\n          .then(json => auth.set(json, PROVIDER_TYPE_GOOGLE));\n      }\n\n      const redirectUrl = (data && data.redirectUrl) ? data.redirectUrl : undefined;\n      return auth.storage.set(authCommon.STITCH_REDIRECT_PROVIDER, PROVIDER_TYPE_GOOGLE)\n        .then(() => getOAuthLoginURL(auth, PROVIDER_TYPE_GOOGLE, redirectUrl))\n        .then((res) => window.location.replace(res));\n    }\n  };\n}\n\n/**\n * @private\n * @namespace\n */\nfunction facebookProvider(auth) {\n  const loginRoute = auth.isAppClient() ? 'providers/oauth2-facebook/login' : 'providers/oauth2-facebook/login';\n\n  return {\n    /**\n     * Login to a stitch application using facebook authentication\n     *\n     * @memberof facebookProvider\n     * @instance\n     * @param {Object} data the redirectUrl data to use for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: (data, link) => {\n      let { accessToken } = data;\n\n      if (accessToken) {\n        const deviceId = auth.getDeviceId();\n        const device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n\n        const fetchArgs = common.makeFetchArgs(\n          'POST',\n          JSON.stringify({ accessToken, options: { device } })\n        );\n\n        return fetch(urlWithLinkParam(`${auth.rootUrl}/${loginRoute}`, link), auth.fetchArgsWithLink(fetchArgs, link))\n          .then(common.checkStatus)\n          .then(response => response.json())\n          .then(json => auth.set(json, PROVIDER_TYPE_FACEBOOK));\n      }\n\n      const redirectUrl = (data && data.redirectUrl) ? data.redirectUrl : undefined;\n      return auth.storage.set(authCommon.STITCH_REDIRECT_PROVIDER, PROVIDER_TYPE_FACEBOOK)\n        .then(() => getOAuthLoginURL(auth, PROVIDER_TYPE_FACEBOOK, redirectUrl))\n        .then((res) => window.location.replace(res));\n    }\n  };\n}\n\n/**\n * @private\n * @namespace\n */\nfunction mongodbCloudProvider(auth) {\n  // The ternary expression here is redundant but is just preserving previous behavior based on whether or not\n  // the client is for the admin or client API.\n  const loginRoute = auth.isAppClient() ? 'providers/mongodb-cloud/login' : 'providers/mongodb-cloud/login';\n\n  return {\n    /**\n     * Login to a stitch application using mongodb cloud authentication\n     *\n     * @memberof mongodbCloudProvider\n     * @instance\n     * @param {Object} data the username, apiKey, cors, and cookie data to use for authentication\n     * @returns {Promise} a promise that resolves when authentication succeeds.\n     */\n    authenticate: (data, link) => {\n      const { username, apiKey, cors, cookie } = data;\n      const options = Object.assign({}, { cors: true, cookie: false }, { cors: cors, cookie: cookie });\n      const deviceId = auth.getDeviceId();\n      const device = auth.getDeviceInfo(deviceId, !!auth.client && auth.client.clientAppID);\n      const fetchArgs = common.makeFetchArgs(\n        'POST',\n        JSON.stringify({ username, apiKey, options: { device } })\n      );\n      fetchArgs.cors = true;  // TODO: shouldn't this use the passed in `cors` value?\n      fetchArgs.credentials = 'include';\n\n      let url = urlWithLinkParam(`${auth.rootUrl}/${loginRoute}`, link);\n      if (options.cookie) {\n        return fetch(url + '?cookie=true', fetchArgs)\n          .then(common.checkStatus);\n      }\n\n      return fetch(url, auth.fetchArgsWithLink(fetchArgs, link))\n        .then(common.checkStatus)\n        .then(response => response.json())\n        .then(json => auth.set(json, PROVIDER_TYPE_MONGODB_CLOUD));\n    }\n  };\n}\n\n// TODO: support auth-specific options\nfunction createProviders(auth, options = {}) {\n  return {\n    [PROVIDER_TYPE_ANON]: anonProvider(auth),\n    [PROVIDER_TYPE_APIKEY]: apiKeyProvider(auth),\n    [PROVIDER_TYPE_GOOGLE]: googleProvider(auth),\n    [PROVIDER_TYPE_FACEBOOK]: facebookProvider(auth),\n    [PROVIDER_TYPE_MONGODB_CLOUD]: mongodbCloudProvider(auth),\n    [PROVIDER_TYPE_USERPASS]: userPassProvider(auth),\n    [PROVIDER_TYPE_CUSTOM]: customProvider(auth)\n  };\n}\n\nexport { createProviders };\n\n\n\n// WEBPACK FOOTER //\n// ./src/auth/providers.js","// the whatwg-fetch polyfill installs the fetch() function\n// on the global object (window or self)\n//\n// Return that as the export for use in Webpack, Browserify etc.\nrequire('whatwg-fetch');\nvar globalObj = typeof self !== 'undefined' && self || this;\nmodule.exports = globalObj.fetch.bind(globalObj);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fetch-everywhere/fetch-npm-browserify.js\n// module id = 23\n// module chunks = 0","/* global window, fetch */\n/* eslint no-labels: ['error', { 'allowLoop': true }] */\nimport 'fetch-everywhere';\nimport { newStitchClient, StitchClient } from './client';\nimport ADMIN_CLIENT_TYPE from './common';\nimport { ADMIN_CLIENT_CODEC } from './auth/common';\nimport { StitchError } from './errors';\n\nconst v3 = 3;\n\n/** @private **/\nexport class StitchAdminClientFactory {\n  constructor() {\n    throw new StitchError('StitchAdminClient can only be made from the StitchAdminClientFactory.create function');\n  }\n\n  static create(baseUrl) {\n    return newStitchClient(StitchAdminClient.prototype, '', {baseUrl, authCodec: ADMIN_CLIENT_CODEC});\n  }\n}\n\n/** @private */\nexport class StitchAdminClient extends StitchClient {\n  constructor() {\n    super();\n  }\n\n  get type() {\n    return ADMIN_CLIENT_TYPE;\n  }\n\n  get _v3() {\n    const v3do = (url, method, options) =>\n      super._do(\n        url,\n        method,\n        Object.assign({}, { apiVersion: v3 }, options)\n      ).then(response => {\n        const contentHeader = response.headers.get('content-type') || '';\n        if (contentHeader.split(',').indexOf('application/json') >= 0) {\n          return response.json();\n        }\n        return response;\n      });\n\n    return {\n      _get: (url, queryParams) => v3do(url, 'GET', {queryParams}),\n      _put: (url, data) =>\n        (data ?\n          v3do(url, 'PUT', {body: JSON.stringify(data)}) :\n          v3do(url, 'PUT')),\n      _patch: (url, data) =>\n        (data ?\n          v3do(url, 'PATCH', {body: JSON.stringify(data)}) :\n          v3do(url, 'PATCH')),\n      _delete: (url)  => v3do(url, 'DELETE'),\n      _post: (url, body, queryParams) =>\n        (queryParams ?\n          v3do(url, 'POST', { body: JSON.stringify(body), queryParams }) :\n          v3do(url, 'POST', { body: JSON.stringify(body) }))\n    };\n  }\n\n  /**\n   * Ends the session for the current user.\n   *\n   * @returns {Promise}\n   */\n  logout() {\n    return super._do('/auth/session', 'DELETE', { refreshOnFailure: false, useRefreshToken: true, apiVersion: v3 })\n      .then(() => this.auth.clear());\n  }\n\n  /**\n   * Returns profile information for the currently logged in user\n   *\n   * @returns {Promise}\n   */\n  userProfile() {\n    return this._v3._get('/auth/profile');\n  }\n\n  /**\n   * Returns available providers for the currently logged in admin\n   *\n   * @returns {Promise}\n   */\n  getAuthProviders() {\n    return super._do('/auth/providers', 'GET', { noAuth: true, apiVersion: v3 })\n      .then(response => response.json());\n  }\n\n  /**\n   * Returns an access token for the user\n   *\n   * @returns {Promise}\n   */\n  doSessionPost() {\n    return super._do('/auth/session', 'POST', { refreshOnFailure: false, useRefreshToken: true, apiVersion: v3 })\n      .then(response => response.json());\n  }\n\n  /* Examples of how to access admin API with this client:\n   *\n   * List all apps\n   *    a.apps('580e6d055b199c221fcb821c').list()\n   *\n   * Fetch app under name 'planner'\n   *    a.apps('580e6d055b199c221fcb821c').app('planner').get()\n   *\n   * List services under the app 'planner'\n   *    a.apps('580e6d055b199c221fcb821c').app('planner').services().list()\n   *\n   * Delete a rule by ID\n   *    a.apps('580e6d055b199c221fcb821c').app('planner').services().service('mdb1').rules().rule('580e6d055b199c221fcb821d').remove()\n   *\n   */\n  apps(groupId) {\n    const api = this._v3;\n    const groupUrl = `/groups/${groupId}/apps`;\n    return {\n      list: () => api._get(groupUrl),\n      create: (data, options) => {\n        let query = (options && options.defaults) ? '?defaults=true' : '';\n        return api._post(groupUrl + query, data);\n      },\n\n      app: (appId) => {\n        const appUrl = `${groupUrl}/${appId}`;\n        return {\n          get: () => api._get(appUrl),\n          remove: () => api._delete(appUrl),\n\n          export: () => api._get(`${appUrl}/export`),\n\n          measurements: (filter) => api._get(`${appUrl}/measurements`, filter),\n\n          values: () => ({\n            list: () => api._get(`${appUrl}/values`),\n            create: (data) => api._post( `${appUrl}/values`, data),\n            value: (valueId) => {\n              const valueUrl = `${appUrl}/values/${valueId}`;\n              return {\n                get: ()=> api._get(valueUrl),\n                remove: ()=> api._delete(valueUrl),\n                update: (data) => api._put(valueUrl, data)\n              };\n            }\n          }),\n\n          services: () => ({\n            list: () => api._get(`${appUrl}/services`),\n            create: (data) => api._post(`${appUrl}/services`, data),\n            service: (serviceId) => ({\n              get: () => api._get(`${appUrl}/services/${serviceId}`),\n              remove: () => api._delete(`${appUrl}/services/${serviceId}`),\n              update: (data) => api._patch(`${appUrl}/services/${serviceId}`, data),\n              runCommand: (commandName, data) => api._post(`${appUrl}/services/${serviceId}/commands/${commandName}`, data),\n              config: ()=> ({\n                get: () => api._get(`${appUrl}/services/${serviceId}/config`),\n                update: (data) => api._patch(`${appUrl}/services/${serviceId}/config`, data)\n              }),\n\n              rules: () => ({\n                list: () => api._get(`${appUrl}/services/${serviceId}/rules`),\n                create: (data) => api._post(`${appUrl}/services/${serviceId}/rules`, data),\n                rule: (ruleId) => {\n                  const ruleUrl = `${appUrl}/services/${serviceId}/rules/${ruleId}`;\n                  return {\n                    get: () => api._get(ruleUrl),\n                    update: (data) => api._put(ruleUrl, data),\n                    remove: () => api._delete(ruleUrl)\n                  };\n                }\n              }),\n\n              incomingWebhooks: () => ({\n                list: () => api._get(`${appUrl}/services/${serviceId}/incoming_webhooks`),\n                create: (data) => api._post(`${appUrl}/services/${serviceId}/incoming_webhooks`, data),\n                incomingWebhook: (incomingWebhookId) => {\n                  const webhookUrl = `${appUrl}/services/${serviceId}/incoming_webhooks/${incomingWebhookId}`;\n                  return {\n                    get: () => api._get(webhookUrl),\n                    update: (data) => api._put(webhookUrl, data),\n                    remove: () => api._delete(webhookUrl)\n                  };\n                }\n              })\n            })\n          }),\n\n          pushNotifications: () => ({\n            list: (filter) => api._get(`${appUrl}/push/notifications`, filter),\n            create: (data) => api._post(`${appUrl}/push/notifications`, data),\n            pushNotification: (messageId) => ({\n              get: () => api._get(`${appUrl}/push/notifications/${messageId}`),\n              update: (data) => api._put(`${appUrl}/push/notifications/${messageId}`, data),\n              remove: () => api._delete(`${appUrl}/push/notifications/${messageId}`),\n              send: () => api._post(`${appUrl}/push/notifications/${messageId}/send`)\n            })\n          }),\n\n          users: () => ({\n            list: (filter) => api._get(`${appUrl}/users`, filter),\n            create: (user) => api._post(`${appUrl}/users`, user),\n            user: (uid) => ({\n              get: () => api._get(`${appUrl}/users/${uid}`),\n              devices: () => ({\n                get: () => api._get(`${appUrl}/users/${uid}/devices`)\n              }),\n              logout: () => api._put(`${appUrl}/users/${uid}/logout`),\n              enable: () => api._put(`${appUrl}/users/${uid}/enable`),\n              disable: () => api._put(`${appUrl}/users/${uid}/disable`),\n              remove: () => api._delete(`${appUrl}/users/${uid}`)\n            })\n          }),\n\n          userRegistrations: () => ({\n            sendConfirmationEmail: (email) => api._post(`${appUrl}/user_registrations/by_email/${email}/send_confirm`)\n          }),\n\n          debug: () => ({\n            executeFunction: (userId, name = '', ...args) => {\n              return api._post(\n                `${appUrl}/debug/execute_function`,\n                {name, 'arguments': args},\n                { user_id: userId });\n            },\n            executeFunctionSource: ({userId, source = '', evalSource = '', runAsSystem}) => {\n              return api._post(\n                `${appUrl}/debug/execute_function_source`,\n                {source, 'eval_source': evalSource},\n                { user_id: userId, run_as_system: runAsSystem });\n            }\n          }),\n\n          authProviders: () => ({\n            list: () => api._get(`${appUrl}/auth_providers`),\n            create: (data) => api._post(`${appUrl}/auth_providers`, data),\n            authProvider: (providerId) => ({\n              get: () => api._get(`${appUrl}/auth_providers/${providerId}`),\n              update: (data) => api._patch(`${appUrl}/auth_providers/${providerId}`, data),\n              enable: () => api._put(`${appUrl}/auth_providers/${providerId}/enable`),\n              disable: () => api._put(`${appUrl}/auth_providers/${providerId}/disable`),\n              remove: () => api._delete(`${appUrl}/auth_providers/${providerId}`)\n            })\n          }),\n\n          security: () => ({\n            allowedRequestOrigins: () => ({\n              get: () => api._get(`${appUrl}/security/allowed_request_origins`),\n              update: (data) => api._post(`${appUrl}/security/allowed_request_origins`, data)\n            })\n          }),\n\n          logs: () => ({\n            list: (filter) => api._get(`${appUrl}/logs`, filter)\n          }),\n\n          apiKeys: () => ({\n            list: () => api._get(`${appUrl}/api_keys`),\n            create: (data) => api._post(`${appUrl}/api_keys`, data),\n            apiKey: (apiKeyId) => ({\n              get: () => api._get(`${appUrl}/api_keys/${apiKeyId}`),\n              remove: () => api._delete(`${appUrl}/api_keys/${apiKeyId}`),\n              enable: () => api._put(`${appUrl}/api_keys/${apiKeyId}/enable`),\n              disable: () => api._put(`${appUrl}/api_keys/${apiKeyId}/disable`)\n            })\n          }),\n\n          functions: () => ({\n            list: () => api._get(`${appUrl}/functions`),\n            create: (data) => api._post(`${appUrl}/functions`, data),\n            function: (functionId) => ({\n              get: () => api._get(`${appUrl}/functions/${functionId}`),\n              update: (data) => api._put(`${appUrl}/functions/${functionId}`, data),\n              remove: () => api._delete(`${appUrl}/functions/${functionId}`)\n            })\n          }),\n\n          eventSubscriptions: () => ({\n            list: () => api._get(`${appUrl}/event_subscriptions`),\n            create: (data) => api._post(`${appUrl}/event_subscriptions`, data),\n            eventSubscription: (eventSubscriptionId) => ({\n              get: () => api._get(`${appUrl}/event_subscriptions/${eventSubscriptionId}`),\n              update: (data) => api._put(`${appUrl}/event_subscriptions/${eventSubscriptionId}`, data),\n              remove: () => api._delete(`${appUrl}/event_subscriptions/${eventSubscriptionId}`),\n              resume: () => api._put(`${appUrl}/event_subscriptions/${eventSubscriptionId}/resume`)\n            })\n          })\n        };\n      }\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/admin.js",";(function () {\n\n  var object =\n    typeof exports != 'undefined' ? exports :\n    typeof self != 'undefined' ? self : // #8: web workers\n    $.global; // #31: ExtendScript\n\n  var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n  function InvalidCharacterError(message) {\n    this.message = message;\n  }\n  InvalidCharacterError.prototype = new Error;\n  InvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\n  // encoder\n  // [https://gist.github.com/999166] by [https://github.com/nignag]\n  object.btoa || (\n  object.btoa = function (input) {\n    var str = String(input);\n    for (\n      // initialize result and counter\n      var block, charCode, idx = 0, map = chars, output = '';\n      // if the next str index does not exist:\n      //   change the mapping table to \"=\"\n      //   check if d has no fractional digits\n      str.charAt(idx | 0) || (map = '=', idx % 1);\n      // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n      output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n    ) {\n      charCode = str.charCodeAt(idx += 3/4);\n      if (charCode > 0xFF) {\n        throw new InvalidCharacterError(\"'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.\");\n      }\n      block = block << 8 | charCode;\n    }\n    return output;\n  });\n\n  // decoder\n  // [https://gist.github.com/1020396] by [https://github.com/atk]\n  object.atob || (\n  object.atob = function (input) {\n    var str = String(input).replace(/[=]+$/, ''); // #31: ExtendScript bad parse of /=\n    if (str.length % 4 == 1) {\n      throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n    }\n    for (\n      // initialize result and counters\n      var bc = 0, bs, buffer, idx = 0, output = '';\n      // get next character\n      buffer = str.charAt(idx++);\n      // character found in table? initialize bit storage and add its ascii value;\n      ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n        // and if not first of each 4 characters,\n        // convert the first 8 bits to one ascii character\n        bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n    ) {\n      // try to find character in table (0-63, not found => -1)\n      buffer = chars.indexOf(buffer);\n    }\n    return output;\n  });\n\n}());\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/Base64/base64.js\n// module id = 25\n// module chunks = 0","'use strict';\n\nvar Map = require('./map'),\n  Long = require('./long'),\n  Double = require('./double'),\n  Timestamp = require('./timestamp'),\n  ObjectID = require('./objectid'),\n  BSONRegExp = require('./regexp'),\n  Symbol = require('./symbol'),\n  Int32 = require('./int_32'),\n  Code = require('./code'),\n  Decimal128 = require('./decimal128'),\n  MinKey = require('./min_key'),\n  MaxKey = require('./max_key'),\n  DBRef = require('./db_ref'),\n  Binary = require('./binary');\n\n// Parts of the parser\nvar deserialize = require('./parser/deserializer'),\n  serializer = require('./parser/serializer'),\n  calculateObjectSize = require('./parser/calculate_size');\n\n/**\n * @ignore\n * @api private\n */\n// Max Size\nvar MAXSIZE = 1024 * 1024 * 17;\n// Max Document Buffer size\nvar buffer = new Buffer(MAXSIZE);\n\nvar BSON = function() {};\n\n/**\n * Serialize a Javascript object.\n *\n * @param {Object} object the Javascript object to serialize.\n * @param {Boolean} [options.checkKeys] the serializer will check if keys are valid.\n * @param {Boolean} [options.serializeFunctions=false] serialize the javascript functions **(default:false)**.\n * @param {Boolean} [options.ignoreUndefined=true] ignore undefined fields **(default:true)**.\n * @return {Buffer} returns the Buffer object containing the serialized object.\n * @api public\n */\nBSON.prototype.serialize = function serialize(object, options) {\n  options = options || {};\n  // Unpack the options\n  var checkKeys = typeof options.checkKeys === 'boolean' ? options.checkKeys : false;\n  var serializeFunctions =\n    typeof options.serializeFunctions === 'boolean' ? options.serializeFunctions : false;\n  var ignoreUndefined =\n    typeof options.ignoreUndefined === 'boolean' ? options.ignoreUndefined : true;\n\n  // Attempt to serialize\n  var serializationIndex = serializer(\n    buffer,\n    object,\n    checkKeys,\n    0,\n    0,\n    serializeFunctions,\n    ignoreUndefined,\n    []\n  );\n  // Create the final buffer\n  var finishedBuffer = new Buffer(serializationIndex);\n  // Copy into the finished buffer\n  buffer.copy(finishedBuffer, 0, 0, finishedBuffer.length);\n  // Return the buffer\n  return finishedBuffer;\n};\n\n/**\n * Serialize a Javascript object using a predefined Buffer and index into the buffer, useful when pre-allocating the space for serialization.\n *\n * @param {Object} object the Javascript object to serialize.\n * @param {Buffer} buffer the Buffer you pre-allocated to store the serialized BSON object.\n * @param {Boolean} [options.checkKeys] the serializer will check if keys are valid.\n * @param {Boolean} [options.serializeFunctions=false] serialize the javascript functions **(default:false)**.\n * @param {Boolean} [options.ignoreUndefined=true] ignore undefined fields **(default:true)**.\n * @param {Number} [options.index] the index in the buffer where we wish to start serializing into.\n * @return {Number} returns the index pointing to the last written byte in the buffer.\n * @api public\n */\nBSON.prototype.serializeWithBufferAndIndex = function(object, finalBuffer, options) {\n  options = options || {};\n  // Unpack the options\n  var checkKeys = typeof options.checkKeys === 'boolean' ? options.checkKeys : false;\n  var serializeFunctions =\n    typeof options.serializeFunctions === 'boolean' ? options.serializeFunctions : false;\n  var ignoreUndefined =\n    typeof options.ignoreUndefined === 'boolean' ? options.ignoreUndefined : true;\n  var startIndex = typeof options.index === 'number' ? options.index : 0;\n\n  // Attempt to serialize\n  var serializationIndex = serializer(\n    buffer,\n    object,\n    checkKeys,\n    0,\n    0,\n    serializeFunctions,\n    ignoreUndefined\n  );\n  buffer.copy(finalBuffer, startIndex, 0, serializationIndex);\n\n  // Return the index\n  return startIndex + serializationIndex - 1;\n};\n\n/**\n * Deserialize data as BSON.\n *\n * @param {Buffer} buffer the buffer containing the serialized set of BSON documents.\n * @param {Object} [options.evalFunctions=false] evaluate functions in the BSON document scoped to the object deserialized.\n * @param {Object} [options.cacheFunctions=false] cache evaluated functions for reuse.\n * @param {Object} [options.cacheFunctionsCrc32=false] use a crc32 code for caching, otherwise use the string of the function.\n * @param {Object} [options.promoteLongs=true] when deserializing a Long will fit it into a Number if it's smaller than 53 bits\n * @param {Object} [options.promoteBuffers=false] when deserializing a Binary will return it as a node.js Buffer instance.\n * @param {Object} [options.promoteValues=false] when deserializing will promote BSON values to their Node.js closest equivalent types.\n * @param {Object} [options.fieldsAsRaw=null] allow to specify if there what fields we wish to return as unserialized raw buffer.\n * @param {Object} [options.bsonRegExp=false] return BSON regular expressions as BSONRegExp instances.\n * @return {Object} returns the deserialized Javascript Object.\n * @api public\n */\nBSON.prototype.deserialize = function(buffer, options) {\n  return deserialize(buffer, options);\n};\n\n/**\n * Calculate the bson size for a passed in Javascript object.\n *\n * @param {Object} object the Javascript object to calculate the BSON byte size for.\n * @param {Boolean} [options.serializeFunctions=false] serialize the javascript functions **(default:false)**.\n * @param {Boolean} [options.ignoreUndefined=true] ignore undefined fields **(default:true)**.\n * @return {Number} returns the number of bytes the BSON object will take up.\n * @api public\n */\nBSON.prototype.calculateObjectSize = function(object, options) {\n  options = options || {};\n\n  var serializeFunctions =\n    typeof options.serializeFunctions === 'boolean' ? options.serializeFunctions : false;\n  var ignoreUndefined =\n    typeof options.ignoreUndefined === 'boolean' ? options.ignoreUndefined : true;\n\n  return calculateObjectSize(object, serializeFunctions, ignoreUndefined);\n};\n\n/**\n * Deserialize stream data as BSON documents.\n *\n * @param {Buffer} data the buffer containing the serialized set of BSON documents.\n * @param {Number} startIndex the start index in the data Buffer where the deserialization is to start.\n * @param {Number} numberOfDocuments number of documents to deserialize.\n * @param {Array} documents an array where to store the deserialized documents.\n * @param {Number} docStartIndex the index in the documents array from where to start inserting documents.\n * @param {Object} [options] additional options used for the deserialization.\n * @param {Object} [options.evalFunctions=false] evaluate functions in the BSON document scoped to the object deserialized.\n * @param {Object} [options.cacheFunctions=false] cache evaluated functions for reuse.\n * @param {Object} [options.cacheFunctionsCrc32=false] use a crc32 code for caching, otherwise use the string of the function.\n * @param {Object} [options.promoteLongs=true] when deserializing a Long will fit it into a Number if it's smaller than 53 bits\n * @param {Object} [options.promoteBuffers=false] when deserializing a Binary will return it as a node.js Buffer instance.\n * @param {Object} [options.promoteValues=false] when deserializing will promote BSON values to their Node.js closest equivalent types.\n * @param {Object} [options.fieldsAsRaw=null] allow to specify if there what fields we wish to return as unserialized raw buffer.\n * @param {Object} [options.bsonRegExp=false] return BSON regular expressions as BSONRegExp instances.\n * @return {Number} returns the next index in the buffer after deserialization **x** numbers of documents.\n * @api public\n */\nBSON.prototype.deserializeStream = function(\n  data,\n  startIndex,\n  numberOfDocuments,\n  documents,\n  docStartIndex,\n  options\n) {\n  options = options != null ? options : {};\n  var index = startIndex;\n  // Loop over all documents\n  for (var i = 0; i < numberOfDocuments; i++) {\n    // Find size of the document\n    var size =\n      data[index] | (data[index + 1] << 8) | (data[index + 2] << 16) | (data[index + 3] << 24);\n    // Update options with index\n    options['index'] = index;\n    // Parse the document at this point\n    documents[docStartIndex + i] = this.deserialize(data, options);\n    // Adjust index by the document size\n    index = index + size;\n  }\n\n  // Return object containing end index of parsing and list of documents\n  return index;\n};\n\n/**\n * @ignore\n * @api private\n */\n// BSON MAX VALUES\nBSON.BSON_INT32_MAX = 0x7fffffff;\nBSON.BSON_INT32_MIN = -0x80000000;\n\nBSON.BSON_INT64_MAX = Math.pow(2, 63) - 1;\nBSON.BSON_INT64_MIN = -Math.pow(2, 63);\n\n// JS MAX PRECISE VALUES\nBSON.JS_INT_MAX = 0x20000000000000; // Any integer up to 2^53 can be precisely represented by a double.\nBSON.JS_INT_MIN = -0x20000000000000; // Any integer down to -2^53 can be precisely represented by a double.\n\n// Internal long versions\n// var JS_INT_MAX_LONG = Long.fromNumber(0x20000000000000); // Any integer up to 2^53 can be precisely represented by a double.\n// var JS_INT_MIN_LONG = Long.fromNumber(-0x20000000000000); // Any integer down to -2^53 can be precisely represented by a double.\n\n/**\n * Number BSON Type\n *\n * @classconstant BSON_DATA_NUMBER\n **/\nBSON.BSON_DATA_NUMBER = 1;\n/**\n * String BSON Type\n *\n * @classconstant BSON_DATA_STRING\n **/\nBSON.BSON_DATA_STRING = 2;\n/**\n * Object BSON Type\n *\n * @classconstant BSON_DATA_OBJECT\n **/\nBSON.BSON_DATA_OBJECT = 3;\n/**\n * Array BSON Type\n *\n * @classconstant BSON_DATA_ARRAY\n **/\nBSON.BSON_DATA_ARRAY = 4;\n/**\n * Binary BSON Type\n *\n * @classconstant BSON_DATA_BINARY\n **/\nBSON.BSON_DATA_BINARY = 5;\n/**\n * ObjectID BSON Type\n *\n * @classconstant BSON_DATA_OID\n **/\nBSON.BSON_DATA_OID = 7;\n/**\n * Boolean BSON Type\n *\n * @classconstant BSON_DATA_BOOLEAN\n **/\nBSON.BSON_DATA_BOOLEAN = 8;\n/**\n * Date BSON Type\n *\n * @classconstant BSON_DATA_DATE\n **/\nBSON.BSON_DATA_DATE = 9;\n/**\n * null BSON Type\n *\n * @classconstant BSON_DATA_NULL\n **/\nBSON.BSON_DATA_NULL = 10;\n/**\n * RegExp BSON Type\n *\n * @classconstant BSON_DATA_REGEXP\n **/\nBSON.BSON_DATA_REGEXP = 11;\n/**\n * Code BSON Type\n *\n * @classconstant BSON_DATA_CODE\n **/\nBSON.BSON_DATA_CODE = 13;\n/**\n * Symbol BSON Type\n *\n * @classconstant BSON_DATA_SYMBOL\n **/\nBSON.BSON_DATA_SYMBOL = 14;\n/**\n * Code with Scope BSON Type\n *\n * @classconstant BSON_DATA_CODE_W_SCOPE\n **/\nBSON.BSON_DATA_CODE_W_SCOPE = 15;\n/**\n * 32 bit Integer BSON Type\n *\n * @classconstant BSON_DATA_INT\n **/\nBSON.BSON_DATA_INT = 16;\n/**\n * Timestamp BSON Type\n *\n * @classconstant BSON_DATA_TIMESTAMP\n **/\nBSON.BSON_DATA_TIMESTAMP = 17;\n/**\n * Long BSON Type\n *\n * @classconstant BSON_DATA_LONG\n **/\nBSON.BSON_DATA_LONG = 18;\n/**\n * MinKey BSON Type\n *\n * @classconstant BSON_DATA_MIN_KEY\n **/\nBSON.BSON_DATA_MIN_KEY = 0xff;\n/**\n * MaxKey BSON Type\n *\n * @classconstant BSON_DATA_MAX_KEY\n **/\nBSON.BSON_DATA_MAX_KEY = 0x7f;\n\n/**\n * Binary Default Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_DEFAULT\n **/\nBSON.BSON_BINARY_SUBTYPE_DEFAULT = 0;\n/**\n * Binary Function Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_FUNCTION\n **/\nBSON.BSON_BINARY_SUBTYPE_FUNCTION = 1;\n/**\n * Binary Byte Array Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_BYTE_ARRAY\n **/\nBSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY = 2;\n/**\n * Binary UUID Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_UUID\n **/\nBSON.BSON_BINARY_SUBTYPE_UUID = 3;\n/**\n * Binary MD5 Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_MD5\n **/\nBSON.BSON_BINARY_SUBTYPE_MD5 = 4;\n/**\n * Binary User Defined Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_USER_DEFINED\n **/\nBSON.BSON_BINARY_SUBTYPE_USER_DEFINED = 128;\n\n// Return BSON\nmodule.exports = BSON;\nmodule.exports.Code = Code;\nmodule.exports.Map = Map;\nmodule.exports.Symbol = Symbol;\nmodule.exports.BSON = BSON;\nmodule.exports.DBRef = DBRef;\nmodule.exports.Binary = Binary;\nmodule.exports.ObjectID = ObjectID;\nmodule.exports.Long = Long;\nmodule.exports.Timestamp = Timestamp;\nmodule.exports.Double = Double;\nmodule.exports.Int32 = Int32;\nmodule.exports.MinKey = MinKey;\nmodule.exports.MaxKey = MaxKey;\nmodule.exports.BSONRegExp = BSONRegExp;\nmodule.exports.Decimal128 = Decimal128;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/bson.js","'use strict';\n// Copyright (c) 2008, Fair Oaks Labs, Inc.\n// All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are met:\n//\n//  * Redistributions of source code must retain the above copyright notice,\n//    this list of conditions and the following disclaimer.\n//\n//  * Redistributions in binary form must reproduce the above copyright notice,\n//    this list of conditions and the following disclaimer in the documentation\n//    and/or other materials provided with the distribution.\n//\n//  * Neither the name of Fair Oaks Labs, Inc. nor the names of its contributors\n//    may be used to endorse or promote products derived from this software\n//    without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n// AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n// ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\n// LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n// CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n// SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n// INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n// CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n// POSSIBILITY OF SUCH DAMAGE.\n//\n//\n// Modifications to writeIEEE754 to support negative zeroes made by Brian White\n\nvar readIEEE754 = function(buffer, offset, endian, mLen, nBytes) {\n  var e,\n    m,\n    bBE = endian === 'big',\n    eLen = nBytes * 8 - mLen - 1,\n    eMax = (1 << eLen) - 1,\n    eBias = eMax >> 1,\n    nBits = -7,\n    i = bBE ? 0 : nBytes - 1,\n    d = bBE ? 1 : -1,\n    s = buffer[offset + i];\n\n  i += d;\n\n  e = s & ((1 << -nBits) - 1);\n  s >>= -nBits;\n  nBits += eLen;\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8);\n\n  m = e & ((1 << -nBits) - 1);\n  e >>= -nBits;\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8);\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : (s ? -1 : 1) * Infinity;\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n};\n\nvar writeIEEE754 = function(buffer, value, offset, endian, mLen, nBytes) {\n  var e,\n    m,\n    c,\n    bBE = endian === 'big',\n    eLen = nBytes * 8 - mLen - 1,\n    eMax = (1 << eLen) - 1,\n    eBias = eMax >> 1,\n    rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0,\n    i = bBE ? nBytes - 1 : 0,\n    d = bBE ? -1 : 1,\n    s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0;\n\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  if (isNaN(value)) m = 0;\n\n  while (mLen >= 8) {\n    buffer[offset + i] = m & 0xff;\n    i += d;\n    m /= 256;\n    mLen -= 8;\n  }\n\n  e = (e << mLen) | m;\n\n  if (isNaN(value)) e += 8;\n\n  eLen += mLen;\n\n  while (eLen > 0) {\n    buffer[offset + i] = e & 0xff;\n    i += d;\n    e /= 256;\n    eLen -= 8;\n  }\n\n  buffer[offset + i - d] |= s * 128;\n};\n\nexports.readIEEE754 = readIEEE754;\nexports.writeIEEE754 = writeIEEE754;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/float_parser.js","'use strict';\n\nvar Long = require('../long').Long,\n  Double = require('../double').Double,\n  Timestamp = require('../timestamp').Timestamp,\n  ObjectID = require('../objectid').ObjectID,\n  Symbol = require('../symbol').Symbol,\n  BSONRegExp = require('../regexp').BSONRegExp,\n  Code = require('../code').Code,\n  Decimal128 = require('../decimal128'),\n  MinKey = require('../min_key').MinKey,\n  MaxKey = require('../max_key').MaxKey,\n  DBRef = require('../db_ref').DBRef,\n  Binary = require('../binary').Binary;\n\n// To ensure that 0.4 of node works correctly\nvar isDate = function isDate(d) {\n  return typeof d === 'object' && Object.prototype.toString.call(d) === '[object Date]';\n};\n\nvar calculateObjectSize = function calculateObjectSize(\n  object,\n  serializeFunctions,\n  ignoreUndefined\n) {\n  var totalLength = 4 + 1;\n\n  if (Array.isArray(object)) {\n    for (var i = 0; i < object.length; i++) {\n      totalLength += calculateElement(\n        i.toString(),\n        object[i],\n        serializeFunctions,\n        true,\n        ignoreUndefined\n      );\n    }\n  } else {\n    // If we have toBSON defined, override the current object\n\n    if (object.toBSON) {\n      object = object.toBSON();\n    }\n\n    // Calculate size\n    for (var key in object) {\n      totalLength += calculateElement(key, object[key], serializeFunctions, false, ignoreUndefined);\n    }\n  }\n\n  return totalLength;\n};\n\n/**\n * @ignore\n * @api private\n */\nfunction calculateElement(name, value, serializeFunctions, isArray, ignoreUndefined) {\n  // If we have toBSON defined, override the current object\n  if (value && value.toBSON) {\n    value = value.toBSON();\n  }\n\n  switch (typeof value) {\n    case 'string':\n      return 1 + Buffer.byteLength(name, 'utf8') + 1 + 4 + Buffer.byteLength(value, 'utf8') + 1;\n    case 'number':\n      if (Math.floor(value) === value && value >= BSON.JS_INT_MIN && value <= BSON.JS_INT_MAX) {\n        if (value >= BSON.BSON_INT32_MIN && value <= BSON.BSON_INT32_MAX) {\n          // 32 bit\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (4 + 1);\n        } else {\n          return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (8 + 1);\n        }\n      } else {\n        // 64 bit\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (8 + 1);\n      }\n    case 'undefined':\n      if (isArray || !ignoreUndefined)\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1;\n      return 0;\n    case 'boolean':\n      return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (1 + 1);\n    case 'object':\n      if (\n        value == null ||\n        value instanceof MinKey ||\n        value instanceof MaxKey ||\n        value['_bsontype'] === 'MinKey' ||\n        value['_bsontype'] === 'MaxKey'\n      ) {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + 1;\n      } else if (value instanceof ObjectID || value['_bsontype'] === 'ObjectID') {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (12 + 1);\n      } else if (value instanceof Date || isDate(value)) {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (8 + 1);\n      } else if (typeof Buffer !== 'undefined' && Buffer.isBuffer(value)) {\n        return (\n          (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (1 + 4 + 1) + value.length\n        );\n      } else if (\n        value instanceof Long ||\n        value instanceof Double ||\n        value instanceof Timestamp ||\n        value['_bsontype'] === 'Long' ||\n        value['_bsontype'] === 'Double' ||\n        value['_bsontype'] === 'Timestamp'\n      ) {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (8 + 1);\n      } else if (value instanceof Decimal128 || value['_bsontype'] === 'Decimal128') {\n        return (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (16 + 1);\n      } else if (value instanceof Code || value['_bsontype'] === 'Code') {\n        // Calculate size depending on the availability of a scope\n        if (value.scope != null && Object.keys(value.scope).length > 0) {\n          return (\n            (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) +\n            1 +\n            4 +\n            4 +\n            Buffer.byteLength(value.code.toString(), 'utf8') +\n            1 +\n            calculateObjectSize(value.scope, serializeFunctions, ignoreUndefined)\n          );\n        } else {\n          return (\n            (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) +\n            1 +\n            4 +\n            Buffer.byteLength(value.code.toString(), 'utf8') +\n            1\n          );\n        }\n      } else if (value instanceof Binary || value['_bsontype'] === 'Binary') {\n        // Check what kind of subtype we have\n        if (value.sub_type === Binary.SUBTYPE_BYTE_ARRAY) {\n          return (\n            (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) +\n            (value.position + 1 + 4 + 1 + 4)\n          );\n        } else {\n          return (\n            (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) + (value.position + 1 + 4 + 1)\n          );\n        }\n      } else if (value instanceof Symbol || value['_bsontype'] === 'Symbol') {\n        return (\n          (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) +\n          Buffer.byteLength(value.value, 'utf8') +\n          4 +\n          1 +\n          1\n        );\n      } else if (value instanceof DBRef || value['_bsontype'] === 'DBRef') {\n        // Set up correct object for serialization\n        var ordered_values = {\n          $ref: value.collection,\n          $id: value.oid\n        };\n\n        // Add db reference if it exists\n        if (value.db != null) {\n          ordered_values['$db'] = value.db;\n        }\n\n        ordered_values = Object.assign(ordered_values, value.fields);\n\n        return (\n          (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) +\n          1 +\n          calculateObjectSize(ordered_values, serializeFunctions, ignoreUndefined)\n        );\n      } else if (\n        value instanceof RegExp ||\n        Object.prototype.toString.call(value) === '[object RegExp]'\n      ) {\n        return (\n          (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) +\n          1 +\n          Buffer.byteLength(value.source, 'utf8') +\n          1 +\n          (value.global ? 1 : 0) +\n          (value.ignoreCase ? 1 : 0) +\n          (value.multiline ? 1 : 0) +\n          1\n        );\n      } else if (value instanceof BSONRegExp || value['_bsontype'] === 'BSONRegExp') {\n        return (\n          (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) +\n          1 +\n          Buffer.byteLength(value.pattern, 'utf8') +\n          1 +\n          Buffer.byteLength(value.options, 'utf8') +\n          1\n        );\n      } else {\n        return (\n          (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) +\n          calculateObjectSize(value, serializeFunctions, ignoreUndefined) +\n          1\n        );\n      }\n    case 'function':\n      // WTF for 0.4.X where typeof /someregexp/ === 'function'\n      if (\n        value instanceof RegExp ||\n        Object.prototype.toString.call(value) === '[object RegExp]' ||\n        String.call(value) === '[object RegExp]'\n      ) {\n        return (\n          (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) +\n          1 +\n          Buffer.byteLength(value.source, 'utf8') +\n          1 +\n          (value.global ? 1 : 0) +\n          (value.ignoreCase ? 1 : 0) +\n          (value.multiline ? 1 : 0) +\n          1\n        );\n      } else {\n        if (serializeFunctions && value.scope != null && Object.keys(value.scope).length > 0) {\n          return (\n            (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) +\n            1 +\n            4 +\n            4 +\n            Buffer.byteLength(value.toString(), 'utf8') +\n            1 +\n            calculateObjectSize(value.scope, serializeFunctions, ignoreUndefined)\n          );\n        } else if (serializeFunctions) {\n          return (\n            (name != null ? Buffer.byteLength(name, 'utf8') + 1 : 0) +\n            1 +\n            4 +\n            Buffer.byteLength(value.toString(), 'utf8') +\n            1\n          );\n        }\n      }\n  }\n\n  return 0;\n}\n\nvar BSON = {};\n\n// BSON MAX VALUES\nBSON.BSON_INT32_MAX = 0x7fffffff;\nBSON.BSON_INT32_MIN = -0x80000000;\n\n// JS MAX PRECISE VALUES\nBSON.JS_INT_MAX = 0x20000000000000; // Any integer up to 2^53 can be precisely represented by a double.\nBSON.JS_INT_MIN = -0x20000000000000; // Any integer down to -2^53 can be precisely represented by a double.\n\nmodule.exports = calculateObjectSize;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/parser/calculate_size.js","'use strict';\n\nvar Long = require('../long').Long,\n  Double = require('../double').Double,\n  Timestamp = require('../timestamp').Timestamp,\n  ObjectID = require('../objectid').ObjectID,\n  Code = require('../code').Code,\n  MinKey = require('../min_key').MinKey,\n  MaxKey = require('../max_key').MaxKey,\n  Decimal128 = require('../decimal128'),\n  Int32 = require('../int_32'),\n  DBRef = require('../db_ref').DBRef,\n  BSONRegExp = require('../regexp').BSONRegExp,\n  Binary = require('../binary').Binary;\n\nvar deserialize = function(buffer, options, isArray) {\n  options = options == null ? {} : options;\n  var index = options && options.index ? options.index : 0;\n  // Read the document size\n  var size =\n    buffer[index] |\n    (buffer[index + 1] << 8) |\n    (buffer[index + 2] << 16) |\n    (buffer[index + 3] << 24);\n\n  // Ensure buffer is valid size\n  if (size < 5 || buffer.length !== size || size + index > buffer.length) {\n    throw new Error('corrupt bson message');\n  }\n\n  // Illegal end value\n  if (buffer[index + size - 1] !== 0) {\n    throw new Error(\"One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00\");\n  }\n\n  // Start deserializtion\n  return deserializeObject(buffer, index, options, isArray);\n};\n\nvar deserializeObject = function(buffer, index, options, isArray) {\n  var evalFunctions = options['evalFunctions'] == null ? false : options['evalFunctions'];\n  var cacheFunctions = options['cacheFunctions'] == null ? false : options['cacheFunctions'];\n  var cacheFunctionsCrc32 =\n    options['cacheFunctionsCrc32'] == null ? false : options['cacheFunctionsCrc32'];\n\n  if (!cacheFunctionsCrc32) var crc32 = null;\n\n  var fieldsAsRaw = options['fieldsAsRaw'] == null ? null : options['fieldsAsRaw'];\n\n  // Return raw bson buffer instead of parsing it\n  var raw = options['raw'] == null ? false : options['raw'];\n\n  // Return BSONRegExp objects instead of native regular expressions\n  var bsonRegExp = typeof options['bsonRegExp'] === 'boolean' ? options['bsonRegExp'] : false;\n\n  // Controls the promotion of values vs wrapper classes\n  var promoteBuffers = options['promoteBuffers'] == null ? false : options['promoteBuffers'];\n  var promoteLongs = options['promoteLongs'] == null ? true : options['promoteLongs'];\n  var promoteValues = options['promoteValues'] == null ? true : options['promoteValues'];\n\n  // Set the start index\n  var startIndex = index;\n\n  // Validate that we have at least 4 bytes of buffer\n  if (buffer.length < 5) throw new Error('corrupt bson message < 5 bytes long');\n\n  // Read the document size\n  var size =\n    buffer[index++] | (buffer[index++] << 8) | (buffer[index++] << 16) | (buffer[index++] << 24);\n\n  // Ensure buffer is valid size\n  if (size < 5 || size > buffer.length) throw new Error('corrupt bson message');\n\n  // Create holding object\n  var object = isArray ? [] : {};\n  // Used for arrays to skip having to perform utf8 decoding\n  var arrayIndex = 0,\n    done = false;\n\n  // While we have more left data left keep parsing\n  while (!done) {\n    // Read the type\n    var elementType = buffer[index++];\n\n    // If we get a zero it's the last byte, exit\n    if (elementType === 0) break;\n\n    // Get the start search index\n    var i = index;\n    // Locate the end of the c string\n    while (buffer[i] !== 0x00 && i < buffer.length) {\n      i++;\n    }\n\n    // If are at the end of the buffer there is a problem with the document\n    if (i >= buffer.length) throw new Error('Bad BSON Document: illegal CString');\n    var name = isArray ? arrayIndex++ : buffer.toString('utf8', index, i);\n\n    index = i + 1;\n\n    if (elementType === BSON.BSON_DATA_STRING) {\n      var stringSize =\n        buffer[index++] |\n        (buffer[index++] << 8) |\n        (buffer[index++] << 16) |\n        (buffer[index++] << 24);\n      if (\n        stringSize <= 0 ||\n        stringSize > buffer.length - index ||\n        buffer[index + stringSize - 1] !== 0\n      )\n        throw new Error('bad string length in bson');\n\n      var s = buffer.toString('utf8', index, index + stringSize - 1);\n      for (i = 0; i < s.length; i++) {\n        if (s.charCodeAt(i) === 0xfffd) {\n          throw new Error('Invalid UTF-8 string in BSON document');\n        }\n      }\n\n      object[name] = s;\n      index = index + stringSize;\n    } else if (elementType === BSON.BSON_DATA_OID) {\n      var oid = new Buffer(12);\n      buffer.copy(oid, 0, index, index + 12);\n      object[name] = new ObjectID(oid);\n      index = index + 12;\n    } else if (elementType === BSON.BSON_DATA_INT && promoteValues === false) {\n      object[name] = new Int32(\n        buffer[index++] | (buffer[index++] << 8) | (buffer[index++] << 16) | (buffer[index++] << 24)\n      );\n    } else if (elementType === BSON.BSON_DATA_INT) {\n      object[name] =\n        buffer[index++] |\n        (buffer[index++] << 8) |\n        (buffer[index++] << 16) |\n        (buffer[index++] << 24);\n    } else if (elementType === BSON.BSON_DATA_NUMBER && promoteValues === false) {\n      object[name] = new Double(buffer.readDoubleLE(index));\n      index = index + 8;\n    } else if (elementType === BSON.BSON_DATA_NUMBER) {\n      object[name] = buffer.readDoubleLE(index);\n      index = index + 8;\n    } else if (elementType === BSON.BSON_DATA_DATE) {\n      var lowBits =\n        buffer[index++] |\n        (buffer[index++] << 8) |\n        (buffer[index++] << 16) |\n        (buffer[index++] << 24);\n      var highBits =\n        buffer[index++] |\n        (buffer[index++] << 8) |\n        (buffer[index++] << 16) |\n        (buffer[index++] << 24);\n      object[name] = new Date(new Long(lowBits, highBits).toNumber());\n    } else if (elementType === BSON.BSON_DATA_BOOLEAN) {\n      if (buffer[index] !== 0 && buffer[index] !== 1) throw new Error('illegal boolean type value');\n      object[name] = buffer[index++] === 1;\n    } else if (elementType === BSON.BSON_DATA_OBJECT) {\n      var _index = index;\n      var objectSize =\n        buffer[index] |\n        (buffer[index + 1] << 8) |\n        (buffer[index + 2] << 16) |\n        (buffer[index + 3] << 24);\n      if (objectSize <= 0 || objectSize > buffer.length - index)\n        throw new Error('bad embedded document length in bson');\n\n      // We have a raw value\n      if (raw) {\n        object[name] = buffer.slice(index, index + objectSize);\n      } else {\n        object[name] = deserializeObject(buffer, _index, options, false);\n      }\n\n      index = index + objectSize;\n    } else if (elementType === BSON.BSON_DATA_ARRAY) {\n      _index = index;\n      objectSize =\n        buffer[index] |\n        (buffer[index + 1] << 8) |\n        (buffer[index + 2] << 16) |\n        (buffer[index + 3] << 24);\n      var arrayOptions = options;\n\n      // Stop index\n      var stopIndex = index + objectSize;\n\n      // All elements of array to be returned as raw bson\n      if (fieldsAsRaw && fieldsAsRaw[name]) {\n        arrayOptions = {};\n        for (var n in options) arrayOptions[n] = options[n];\n        arrayOptions['raw'] = true;\n      }\n\n      object[name] = deserializeObject(buffer, _index, arrayOptions, true);\n      index = index + objectSize;\n\n      if (buffer[index - 1] !== 0) throw new Error('invalid array terminator byte');\n      if (index !== stopIndex) throw new Error('corrupted array bson');\n    } else if (elementType === BSON.BSON_DATA_UNDEFINED) {\n      object[name] = undefined;\n    } else if (elementType === BSON.BSON_DATA_NULL) {\n      object[name] = null;\n    } else if (elementType === BSON.BSON_DATA_LONG) {\n      // Unpack the low and high bits\n      lowBits =\n        buffer[index++] |\n        (buffer[index++] << 8) |\n        (buffer[index++] << 16) |\n        (buffer[index++] << 24);\n      highBits =\n        buffer[index++] |\n        (buffer[index++] << 8) |\n        (buffer[index++] << 16) |\n        (buffer[index++] << 24);\n      var long = new Long(lowBits, highBits);\n      // Promote the long if possible\n      if (promoteLongs && promoteValues === true) {\n        object[name] =\n          long.lessThanOrEqual(JS_INT_MAX_LONG) && long.greaterThanOrEqual(JS_INT_MIN_LONG)\n            ? long.toNumber()\n            : long;\n      } else {\n        object[name] = long;\n      }\n    } else if (elementType === BSON.BSON_DATA_DECIMAL128) {\n      // Buffer to contain the decimal bytes\n      var bytes = new Buffer(16);\n      // Copy the next 16 bytes into the bytes buffer\n      buffer.copy(bytes, 0, index, index + 16);\n      // Update index\n      index = index + 16;\n      // Assign the new Decimal128 value\n      var decimal128 = new Decimal128(bytes);\n      // If we have an alternative mapper use that\n      object[name] = decimal128.toObject ? decimal128.toObject() : decimal128;\n    } else if (elementType === BSON.BSON_DATA_BINARY) {\n      var binarySize =\n        buffer[index++] |\n        (buffer[index++] << 8) |\n        (buffer[index++] << 16) |\n        (buffer[index++] << 24);\n      var totalBinarySize = binarySize;\n      var subType = buffer[index++];\n\n      // Did we have a negative binary size, throw\n      if (binarySize < 0) throw new Error('Negative binary type element size found');\n\n      // Is the length longer than the document\n      if (binarySize > buffer.length) throw new Error('Binary type size larger than document size');\n\n      // Decode as raw Buffer object if options specifies it\n      if (buffer['slice'] != null) {\n        // If we have subtype 2 skip the 4 bytes for the size\n        if (subType === Binary.SUBTYPE_BYTE_ARRAY) {\n          binarySize =\n            buffer[index++] |\n            (buffer[index++] << 8) |\n            (buffer[index++] << 16) |\n            (buffer[index++] << 24);\n          if (binarySize < 0)\n            throw new Error('Negative binary type element size found for subtype 0x02');\n          if (binarySize > totalBinarySize - 4)\n            throw new Error('Binary type with subtype 0x02 contains to long binary size');\n          if (binarySize < totalBinarySize - 4)\n            throw new Error('Binary type with subtype 0x02 contains to short binary size');\n        }\n\n        if (promoteBuffers && promoteValues) {\n          object[name] = buffer.slice(index, index + binarySize);\n        } else {\n          object[name] = new Binary(buffer.slice(index, index + binarySize), subType);\n        }\n      } else {\n        var _buffer =\n          typeof Uint8Array !== 'undefined'\n            ? new Uint8Array(new ArrayBuffer(binarySize))\n            : new Array(binarySize);\n        // If we have subtype 2 skip the 4 bytes for the size\n        if (subType === Binary.SUBTYPE_BYTE_ARRAY) {\n          binarySize =\n            buffer[index++] |\n            (buffer[index++] << 8) |\n            (buffer[index++] << 16) |\n            (buffer[index++] << 24);\n          if (binarySize < 0)\n            throw new Error('Negative binary type element size found for subtype 0x02');\n          if (binarySize > totalBinarySize - 4)\n            throw new Error('Binary type with subtype 0x02 contains to long binary size');\n          if (binarySize < totalBinarySize - 4)\n            throw new Error('Binary type with subtype 0x02 contains to short binary size');\n        }\n\n        // Copy the data\n        for (i = 0; i < binarySize; i++) {\n          _buffer[i] = buffer[index + i];\n        }\n\n        if (promoteBuffers && promoteValues) {\n          object[name] = _buffer;\n        } else {\n          object[name] = new Binary(_buffer, subType);\n        }\n      }\n\n      // Update the index\n      index = index + binarySize;\n    } else if (elementType === BSON.BSON_DATA_REGEXP && bsonRegExp === false) {\n      // Get the start search index\n      i = index;\n      // Locate the end of the c string\n      while (buffer[i] !== 0x00 && i < buffer.length) {\n        i++;\n      }\n      // If are at the end of the buffer there is a problem with the document\n      if (i >= buffer.length) throw new Error('Bad BSON Document: illegal CString');\n      // Return the C string\n      var source = buffer.toString('utf8', index, i);\n      // Create the regexp\n      index = i + 1;\n\n      // Get the start search index\n      i = index;\n      // Locate the end of the c string\n      while (buffer[i] !== 0x00 && i < buffer.length) {\n        i++;\n      }\n      // If are at the end of the buffer there is a problem with the document\n      if (i >= buffer.length) throw new Error('Bad BSON Document: illegal CString');\n      // Return the C string\n      var regExpOptions = buffer.toString('utf8', index, i);\n      index = i + 1;\n\n      // For each option add the corresponding one for javascript\n      var optionsArray = new Array(regExpOptions.length);\n\n      // Parse options\n      for (i = 0; i < regExpOptions.length; i++) {\n        switch (regExpOptions[i]) {\n          case 'm':\n            optionsArray[i] = 'm';\n            break;\n          case 's':\n            optionsArray[i] = 'g';\n            break;\n          case 'i':\n            optionsArray[i] = 'i';\n            break;\n        }\n      }\n\n      object[name] = new RegExp(source, optionsArray.join(''));\n    } else if (elementType === BSON.BSON_DATA_REGEXP && bsonRegExp === true) {\n      // Get the start search index\n      i = index;\n      // Locate the end of the c string\n      while (buffer[i] !== 0x00 && i < buffer.length) {\n        i++;\n      }\n      // If are at the end of the buffer there is a problem with the document\n      if (i >= buffer.length) throw new Error('Bad BSON Document: illegal CString');\n      // Return the C string\n      source = buffer.toString('utf8', index, i);\n      index = i + 1;\n\n      // Get the start search index\n      i = index;\n      // Locate the end of the c string\n      while (buffer[i] !== 0x00 && i < buffer.length) {\n        i++;\n      }\n      // If are at the end of the buffer there is a problem with the document\n      if (i >= buffer.length) throw new Error('Bad BSON Document: illegal CString');\n      // Return the C string\n      regExpOptions = buffer.toString('utf8', index, i);\n      index = i + 1;\n\n      // Set the object\n      object[name] = new BSONRegExp(source, regExpOptions);\n    } else if (elementType === BSON.BSON_DATA_SYMBOL) {\n      stringSize =\n        buffer[index++] |\n        (buffer[index++] << 8) |\n        (buffer[index++] << 16) |\n        (buffer[index++] << 24);\n      if (\n        stringSize <= 0 ||\n        stringSize > buffer.length - index ||\n        buffer[index + stringSize - 1] !== 0\n      )\n        throw new Error('bad string length in bson');\n      // symbol is deprecated - upgrade to string.\n      object[name] = buffer.toString('utf8', index, index + stringSize - 1);\n      index = index + stringSize;\n    } else if (elementType === BSON.BSON_DATA_TIMESTAMP) {\n      lowBits =\n        buffer[index++] |\n        (buffer[index++] << 8) |\n        (buffer[index++] << 16) |\n        (buffer[index++] << 24);\n      highBits =\n        buffer[index++] |\n        (buffer[index++] << 8) |\n        (buffer[index++] << 16) |\n        (buffer[index++] << 24);\n\n      object[name] = new Timestamp(lowBits, highBits);\n    } else if (elementType === BSON.BSON_DATA_MIN_KEY) {\n      object[name] = new MinKey();\n    } else if (elementType === BSON.BSON_DATA_MAX_KEY) {\n      object[name] = new MaxKey();\n    } else if (elementType === BSON.BSON_DATA_CODE) {\n      stringSize =\n        buffer[index++] |\n        (buffer[index++] << 8) |\n        (buffer[index++] << 16) |\n        (buffer[index++] << 24);\n      if (\n        stringSize <= 0 ||\n        stringSize > buffer.length - index ||\n        buffer[index + stringSize - 1] !== 0\n      )\n        throw new Error('bad string length in bson');\n      var functionString = buffer.toString('utf8', index, index + stringSize - 1);\n\n      // If we are evaluating the functions\n      if (evalFunctions) {\n        // If we have cache enabled let's look for the md5 of the function in the cache\n        if (cacheFunctions) {\n          var hash = cacheFunctionsCrc32 ? crc32(functionString) : functionString;\n          // Got to do this to avoid V8 deoptimizing the call due to finding eval\n          object[name] = isolateEvalWithHash(functionCache, hash, functionString, object);\n        } else {\n          object[name] = isolateEval(functionString);\n        }\n      } else {\n        object[name] = new Code(functionString);\n      }\n\n      // Update parse index position\n      index = index + stringSize;\n    } else if (elementType === BSON.BSON_DATA_CODE_W_SCOPE) {\n      var totalSize =\n        buffer[index++] |\n        (buffer[index++] << 8) |\n        (buffer[index++] << 16) |\n        (buffer[index++] << 24);\n\n      // Element cannot be shorter than totalSize + stringSize + documentSize + terminator\n      if (totalSize < 4 + 4 + 4 + 1) {\n        throw new Error('code_w_scope total size shorter minimum expected length');\n      }\n\n      // Get the code string size\n      stringSize =\n        buffer[index++] |\n        (buffer[index++] << 8) |\n        (buffer[index++] << 16) |\n        (buffer[index++] << 24);\n      // Check if we have a valid string\n      if (\n        stringSize <= 0 ||\n        stringSize > buffer.length - index ||\n        buffer[index + stringSize - 1] !== 0\n      )\n        throw new Error('bad string length in bson');\n\n      // Javascript function\n      functionString = buffer.toString('utf8', index, index + stringSize - 1);\n      // Update parse index position\n      index = index + stringSize;\n      // Parse the element\n      _index = index;\n      // Decode the size of the object document\n      objectSize =\n        buffer[index] |\n        (buffer[index + 1] << 8) |\n        (buffer[index + 2] << 16) |\n        (buffer[index + 3] << 24);\n      // Decode the scope object\n      var scopeObject = deserializeObject(buffer, _index, options, false);\n      // Adjust the index\n      index = index + objectSize;\n\n      // Check if field length is to short\n      if (totalSize < 4 + 4 + objectSize + stringSize) {\n        throw new Error('code_w_scope total size is to short, truncating scope');\n      }\n\n      // Check if totalSize field is to long\n      if (totalSize > 4 + 4 + objectSize + stringSize) {\n        throw new Error('code_w_scope total size is to long, clips outer document');\n      }\n\n      // If we are evaluating the functions\n      if (evalFunctions) {\n        // If we have cache enabled let's look for the md5 of the function in the cache\n        if (cacheFunctions) {\n          hash = cacheFunctionsCrc32 ? crc32(functionString) : functionString;\n          // Got to do this to avoid V8 deoptimizing the call due to finding eval\n          object[name] = isolateEvalWithHash(functionCache, hash, functionString, object);\n        } else {\n          object[name] = isolateEval(functionString);\n        }\n\n        object[name].scope = scopeObject;\n      } else {\n        object[name] = new Code(functionString, scopeObject);\n      }\n    } else if (elementType === BSON.BSON_DATA_DBPOINTER) {\n      // Get the code string size\n      stringSize =\n        buffer[index++] |\n        (buffer[index++] << 8) |\n        (buffer[index++] << 16) |\n        (buffer[index++] << 24);\n      // Check if we have a valid string\n      if (\n        stringSize <= 0 ||\n        stringSize > buffer.length - index ||\n        buffer[index + stringSize - 1] !== 0\n      )\n        throw new Error('bad string length in bson');\n      // Namespace\n      var namespace = buffer.toString('utf8', index, index + stringSize - 1);\n      // Update parse index position\n      index = index + stringSize;\n\n      // Read the oid\n      var oidBuffer = new Buffer(12);\n      buffer.copy(oidBuffer, 0, index, index + 12);\n      oid = new ObjectID(oidBuffer);\n\n      // Update the index\n      index = index + 12;\n\n      for (i = 0; i < namespace.length; i++) {\n        if (namespace.charCodeAt(i) === 0xfffd) {\n          throw new Error('Invalid UTF-8 string in BSON document');\n        }\n      }\n\n      // Split the namespace\n      var parts = namespace.split('.');\n\n      var db, collection;\n      if (parts.length === 2) {\n        db = parts.shift();\n        collection = parts.shift();\n      } else {\n        collection = namespace;\n      }\n\n      // Upgrade to DBRef type\n      object[name] = new DBRef(collection, oid, db);\n    } else {\n      throw new Error(\n        'Detected unknown BSON type ' +\n          elementType.toString(16) +\n          ' for fieldname \"' +\n          name +\n          '\", are you using the latest BSON parser?'\n      );\n    }\n  }\n\n  // Check if the deserialization was against a valid array/object\n  if (size !== index - startIndex) {\n    if (isArray) throw new Error('corrupt array bson');\n    throw new Error('corrupt object bson');\n  }\n\n  // check if object's $ keys are those of a DBRef\n  var dollarKeys = Object.keys(object).filter(k => k.startsWith('$'));\n  var valid = true;\n  dollarKeys.forEach(k => {\n    if (['$ref', '$id', '$db'].indexOf(k) === -1) valid = false;\n  });\n\n  // if a $key not in \"$ref\", \"$id\", \"$db\", don't make a DBRef\n  if (!valid) return object;\n\n  if (object['$id'] != null && object['$ref'] != null) {\n    let copy = Object.assign({}, object);\n    delete copy.$ref;\n    delete copy.$id;\n    delete copy.$db;\n    return new DBRef(object.$ref, object.$id, object.$db || null, copy);\n  }\n\n  return object;\n};\n\n/**\n * Ensure eval is isolated.\n *\n * @ignore\n * @api private\n */\nvar isolateEvalWithHash = function(functionCache, hash, functionString, object) {\n  // Contains the value we are going to set\n  var value = null;\n\n  // Check for cache hit, eval if missing and return cached function\n  if (functionCache[hash] == null) {\n    eval('value = ' + functionString);\n    functionCache[hash] = value;\n  }\n  // Set the object\n  return functionCache[hash].bind(object);\n};\n\n/**\n * Ensure eval is isolated.\n *\n * @ignore\n * @api private\n */\nvar isolateEval = function(functionString) {\n  // Contains the value we are going to set\n  var value = null;\n  // Eval the function\n  eval('value = ' + functionString);\n  return value;\n};\n\nvar BSON = {};\n\n/**\n * Contains the function cache if we have that enable to allow for avoiding the eval step on each deserialization, comparison is by md5\n *\n * @ignore\n * @api private\n */\nvar functionCache = (BSON.functionCache = {});\n\n/**\n * Number BSON Type\n *\n * @classconstant BSON_DATA_NUMBER\n **/\nBSON.BSON_DATA_NUMBER = 1;\n/**\n * String BSON Type\n *\n * @classconstant BSON_DATA_STRING\n **/\nBSON.BSON_DATA_STRING = 2;\n/**\n * Object BSON Type\n *\n * @classconstant BSON_DATA_OBJECT\n **/\nBSON.BSON_DATA_OBJECT = 3;\n/**\n * Array BSON Type\n *\n * @classconstant BSON_DATA_ARRAY\n **/\nBSON.BSON_DATA_ARRAY = 4;\n/**\n * Binary BSON Type\n *\n * @classconstant BSON_DATA_BINARY\n **/\nBSON.BSON_DATA_BINARY = 5;\n/**\n * Binary BSON Type\n *\n * @classconstant BSON_DATA_UNDEFINED\n **/\nBSON.BSON_DATA_UNDEFINED = 6;\n/**\n * ObjectID BSON Type\n *\n * @classconstant BSON_DATA_OID\n **/\nBSON.BSON_DATA_OID = 7;\n/**\n * Boolean BSON Type\n *\n * @classconstant BSON_DATA_BOOLEAN\n **/\nBSON.BSON_DATA_BOOLEAN = 8;\n/**\n * Date BSON Type\n *\n * @classconstant BSON_DATA_DATE\n **/\nBSON.BSON_DATA_DATE = 9;\n/**\n * null BSON Type\n *\n * @classconstant BSON_DATA_NULL\n **/\nBSON.BSON_DATA_NULL = 10;\n/**\n * RegExp BSON Type\n *\n * @classconstant BSON_DATA_REGEXP\n **/\nBSON.BSON_DATA_REGEXP = 11;\n/**\n * Code BSON Type\n *\n * @classconstant BSON_DATA_DBPOINTER\n **/\nBSON.BSON_DATA_DBPOINTER = 12;\n/**\n * Code BSON Type\n *\n * @classconstant BSON_DATA_CODE\n **/\nBSON.BSON_DATA_CODE = 13;\n/**\n * Symbol BSON Type\n *\n * @classconstant BSON_DATA_SYMBOL\n **/\nBSON.BSON_DATA_SYMBOL = 14;\n/**\n * Code with Scope BSON Type\n *\n * @classconstant BSON_DATA_CODE_W_SCOPE\n **/\nBSON.BSON_DATA_CODE_W_SCOPE = 15;\n/**\n * 32 bit Integer BSON Type\n *\n * @classconstant BSON_DATA_INT\n **/\nBSON.BSON_DATA_INT = 16;\n/**\n * Timestamp BSON Type\n *\n * @classconstant BSON_DATA_TIMESTAMP\n **/\nBSON.BSON_DATA_TIMESTAMP = 17;\n/**\n * Long BSON Type\n *\n * @classconstant BSON_DATA_LONG\n **/\nBSON.BSON_DATA_LONG = 18;\n/**\n * Long BSON Type\n *\n * @classconstant BSON_DATA_DECIMAL128\n **/\nBSON.BSON_DATA_DECIMAL128 = 19;\n/**\n * MinKey BSON Type\n *\n * @classconstant BSON_DATA_MIN_KEY\n **/\nBSON.BSON_DATA_MIN_KEY = 0xff;\n/**\n * MaxKey BSON Type\n *\n * @classconstant BSON_DATA_MAX_KEY\n **/\nBSON.BSON_DATA_MAX_KEY = 0x7f;\n\n/**\n * Binary Default Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_DEFAULT\n **/\nBSON.BSON_BINARY_SUBTYPE_DEFAULT = 0;\n/**\n * Binary Function Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_FUNCTION\n **/\nBSON.BSON_BINARY_SUBTYPE_FUNCTION = 1;\n/**\n * Binary Byte Array Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_BYTE_ARRAY\n **/\nBSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY = 2;\n/**\n * Binary UUID Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_UUID\n **/\nBSON.BSON_BINARY_SUBTYPE_UUID = 3;\n/**\n * Binary MD5 Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_MD5\n **/\nBSON.BSON_BINARY_SUBTYPE_MD5 = 4;\n/**\n * Binary User Defined Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_USER_DEFINED\n **/\nBSON.BSON_BINARY_SUBTYPE_USER_DEFINED = 128;\n\n// BSON MAX VALUES\nBSON.BSON_INT32_MAX = 0x7fffffff;\nBSON.BSON_INT32_MIN = -0x80000000;\n\nBSON.BSON_INT64_MAX = Math.pow(2, 63) - 1;\nBSON.BSON_INT64_MIN = -Math.pow(2, 63);\n\n// JS MAX PRECISE VALUES\nBSON.JS_INT_MAX = 0x20000000000000; // Any integer up to 2^53 can be precisely represented by a double.\nBSON.JS_INT_MIN = -0x20000000000000; // Any integer down to -2^53 can be precisely represented by a double.\n\n// Internal long versions\nvar JS_INT_MAX_LONG = Long.fromNumber(0x20000000000000); // Any integer up to 2^53 can be precisely represented by a double.\nvar JS_INT_MIN_LONG = Long.fromNumber(-0x20000000000000); // Any integer down to -2^53 can be precisely represented by a double.\n\nmodule.exports = deserialize;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/parser/deserializer.js","'use strict';\n\nvar writeIEEE754 = require('../float_parser').writeIEEE754,\n  Long = require('../long').Long,\n  Map = require('../map'),\n  MinKey = require('../min_key').MinKey,\n  Binary = require('../binary').Binary;\n\n// try {\n//   var _Buffer = Uint8Array;\n// } catch (e) {\n//   _Buffer = Buffer;\n// }\n\nvar regexp = /\\x00/; // eslint-disable-line no-control-regex\n\n// To ensure that 0.4 of node works correctly\nvar isDate = function isDate(d) {\n  return typeof d === 'object' && Object.prototype.toString.call(d) === '[object Date]';\n};\n\nvar isRegExp = function isRegExp(d) {\n  return Object.prototype.toString.call(d) === '[object RegExp]';\n};\n\nvar serializeString = function(buffer, key, value, index, isArray) {\n  // Encode String type\n  buffer[index++] = BSON.BSON_DATA_STRING;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray\n    ? buffer.write(key, index, 'utf8')\n    : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes + 1;\n  buffer[index - 1] = 0;\n  // Write the string\n  var size = buffer.write(value, index + 4, 'utf8');\n  // Write the size of the string to buffer\n  buffer[index + 3] = ((size + 1) >> 24) & 0xff;\n  buffer[index + 2] = ((size + 1) >> 16) & 0xff;\n  buffer[index + 1] = ((size + 1) >> 8) & 0xff;\n  buffer[index] = (size + 1) & 0xff;\n  // Update index\n  index = index + 4 + size;\n  // Write zero\n  buffer[index++] = 0;\n  return index;\n};\n\nvar serializeNumber = function(buffer, key, value, index, isArray) {\n  // We have an integer value\n  if (Math.floor(value) === value && value >= BSON.JS_INT_MIN && value <= BSON.JS_INT_MAX) {\n    // If the value fits in 32 bits encode as int, if it fits in a double\n    // encode it as a double, otherwise long\n    if (value >= BSON.BSON_INT32_MIN && value <= BSON.BSON_INT32_MAX) {\n      // Set int type 32 bits or less\n      buffer[index++] = BSON.BSON_DATA_INT;\n      // Number of written bytes\n      var numberOfWrittenBytes = !isArray\n        ? buffer.write(key, index, 'utf8')\n        : buffer.write(key, index, 'ascii');\n      // Encode the name\n      index = index + numberOfWrittenBytes;\n      buffer[index++] = 0;\n      // Write the int value\n      buffer[index++] = value & 0xff;\n      buffer[index++] = (value >> 8) & 0xff;\n      buffer[index++] = (value >> 16) & 0xff;\n      buffer[index++] = (value >> 24) & 0xff;\n    } else if (value >= BSON.JS_INT_MIN && value <= BSON.JS_INT_MAX) {\n      // Encode as double\n      buffer[index++] = BSON.BSON_DATA_NUMBER;\n      // Number of written bytes\n      numberOfWrittenBytes = !isArray\n        ? buffer.write(key, index, 'utf8')\n        : buffer.write(key, index, 'ascii');\n      // Encode the name\n      index = index + numberOfWrittenBytes;\n      buffer[index++] = 0;\n      // Write float\n      writeIEEE754(buffer, value, index, 'little', 52, 8);\n      // Ajust index\n      index = index + 8;\n    } else {\n      // Set long type\n      buffer[index++] = BSON.BSON_DATA_LONG;\n      // Number of written bytes\n      numberOfWrittenBytes = !isArray\n        ? buffer.write(key, index, 'utf8')\n        : buffer.write(key, index, 'ascii');\n      // Encode the name\n      index = index + numberOfWrittenBytes;\n      buffer[index++] = 0;\n      var longVal = Long.fromNumber(value);\n      var lowBits = longVal.getLowBits();\n      var highBits = longVal.getHighBits();\n      // Encode low bits\n      buffer[index++] = lowBits & 0xff;\n      buffer[index++] = (lowBits >> 8) & 0xff;\n      buffer[index++] = (lowBits >> 16) & 0xff;\n      buffer[index++] = (lowBits >> 24) & 0xff;\n      // Encode high bits\n      buffer[index++] = highBits & 0xff;\n      buffer[index++] = (highBits >> 8) & 0xff;\n      buffer[index++] = (highBits >> 16) & 0xff;\n      buffer[index++] = (highBits >> 24) & 0xff;\n    }\n  } else {\n    // Encode as double\n    buffer[index++] = BSON.BSON_DATA_NUMBER;\n    // Number of written bytes\n    numberOfWrittenBytes = !isArray\n      ? buffer.write(key, index, 'utf8')\n      : buffer.write(key, index, 'ascii');\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    // Write float\n    writeIEEE754(buffer, value, index, 'little', 52, 8);\n    // Ajust index\n    index = index + 8;\n  }\n\n  return index;\n};\n\nvar serializeNull = function(buffer, key, value, index, isArray) {\n  // Set long type\n  buffer[index++] = BSON.BSON_DATA_NULL;\n\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray\n    ? buffer.write(key, index, 'utf8')\n    : buffer.write(key, index, 'ascii');\n\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  return index;\n};\n\nvar serializeBoolean = function(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_BOOLEAN;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray\n    ? buffer.write(key, index, 'utf8')\n    : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Encode the boolean value\n  buffer[index++] = value ? 1 : 0;\n  return index;\n};\n\nvar serializeDate = function(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_DATE;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray\n    ? buffer.write(key, index, 'utf8')\n    : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n\n  // Write the date\n  var dateInMilis = Long.fromNumber(value.getTime());\n  var lowBits = dateInMilis.getLowBits();\n  var highBits = dateInMilis.getHighBits();\n  // Encode low bits\n  buffer[index++] = lowBits & 0xff;\n  buffer[index++] = (lowBits >> 8) & 0xff;\n  buffer[index++] = (lowBits >> 16) & 0xff;\n  buffer[index++] = (lowBits >> 24) & 0xff;\n  // Encode high bits\n  buffer[index++] = highBits & 0xff;\n  buffer[index++] = (highBits >> 8) & 0xff;\n  buffer[index++] = (highBits >> 16) & 0xff;\n  buffer[index++] = (highBits >> 24) & 0xff;\n  return index;\n};\n\nvar serializeRegExp = function(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_REGEXP;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray\n    ? buffer.write(key, index, 'utf8')\n    : buffer.write(key, index, 'ascii');\n\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  if (value.source && value.source.match(regexp) != null) {\n    throw Error('value ' + value.source + ' must not contain null bytes');\n  }\n  // Adjust the index\n  index = index + buffer.write(value.source, index, 'utf8');\n  // Write zero\n  buffer[index++] = 0x00;\n  // Write the parameters\n  if (value.global) buffer[index++] = 0x73; // s\n  if (value.ignoreCase) buffer[index++] = 0x69; // i\n  if (value.multiline) buffer[index++] = 0x6d; // m\n\n  // Add ending zero\n  buffer[index++] = 0x00;\n  return index;\n};\n\nvar serializeBSONRegExp = function(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_REGEXP;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray\n    ? buffer.write(key, index, 'utf8')\n    : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n\n  // Check the pattern for 0 bytes\n  if (value.pattern.match(regexp) != null) {\n    // The BSON spec doesn't allow keys with null bytes because keys are\n    // null-terminated.\n    throw Error('pattern ' + value.pattern + ' must not contain null bytes');\n  }\n\n  // Adjust the index\n  index = index + buffer.write(value.pattern, index, 'utf8');\n  // Write zero\n  buffer[index++] = 0x00;\n  // Write the options\n  index =\n    index +\n    buffer.write(\n      value.options\n        .split('')\n        .sort()\n        .join(''),\n      index,\n      'utf8'\n    );\n  // Add ending zero\n  buffer[index++] = 0x00;\n  return index;\n};\n\nvar serializeMinMax = function(buffer, key, value, index, isArray) {\n  // Write the type of either min or max key\n  if (value === null) {\n    buffer[index++] = BSON.BSON_DATA_NULL;\n  } else if (value instanceof MinKey) {\n    buffer[index++] = BSON.BSON_DATA_MIN_KEY;\n  } else {\n    buffer[index++] = BSON.BSON_DATA_MAX_KEY;\n  }\n\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray\n    ? buffer.write(key, index, 'utf8')\n    : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  return index;\n};\n\nvar serializeObjectId = function(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_OID;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray\n    ? buffer.write(key, index, 'utf8')\n    : buffer.write(key, index, 'ascii');\n\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n\n  // Write the objectId into the shared buffer\n  if (typeof value.id === 'string') {\n    buffer.write(value.id, index, 'binary');\n  } else if (value.id && value.id.copy) {\n    value.id.copy(buffer, index, 0, 12);\n  } else {\n    throw new Error('object [' + JSON.stringify(value) + '] is not a valid ObjectId');\n  }\n\n  // Ajust index\n  return index + 12;\n};\n\nvar serializeBuffer = function(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_BINARY;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray\n    ? buffer.write(key, index, 'utf8')\n    : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Get size of the buffer (current write point)\n  var size = value.length;\n  // Write the size of the string to buffer\n  buffer[index++] = size & 0xff;\n  buffer[index++] = (size >> 8) & 0xff;\n  buffer[index++] = (size >> 16) & 0xff;\n  buffer[index++] = (size >> 24) & 0xff;\n  // Write the default subtype\n  buffer[index++] = BSON.BSON_BINARY_SUBTYPE_DEFAULT;\n  // Copy the content form the binary field to the buffer\n  value.copy(buffer, index, 0, size);\n  // Adjust the index\n  index = index + size;\n  return index;\n};\n\nvar serializeObject = function(\n  buffer,\n  key,\n  value,\n  index,\n  checkKeys,\n  depth,\n  serializeFunctions,\n  ignoreUndefined,\n  isArray,\n  path\n) {\n  for (var i = 0; i < path.length; i++) {\n    if (path[i] === value) throw new Error('cyclic dependency detected');\n  }\n\n  // Push value to stack\n  path.push(value);\n  // Write the type\n  buffer[index++] = Array.isArray(value) ? BSON.BSON_DATA_ARRAY : BSON.BSON_DATA_OBJECT;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray\n    ? buffer.write(key, index, 'utf8')\n    : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  var endIndex = serializeInto(\n    buffer,\n    value,\n    checkKeys,\n    index,\n    depth + 1,\n    serializeFunctions,\n    ignoreUndefined,\n    path\n  );\n  // Pop stack\n  path.pop();\n  return endIndex;\n};\n\nvar serializeDecimal128 = function(buffer, key, value, index, isArray) {\n  buffer[index++] = BSON.BSON_DATA_DECIMAL128;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray\n    ? buffer.write(key, index, 'utf8')\n    : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Write the data from the value\n  value.bytes.copy(buffer, index, 0, 16);\n  return index + 16;\n};\n\nvar serializeLong = function(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = value._bsontype === 'Long' ? BSON.BSON_DATA_LONG : BSON.BSON_DATA_TIMESTAMP;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray\n    ? buffer.write(key, index, 'utf8')\n    : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Write the date\n  var lowBits = value.getLowBits();\n  var highBits = value.getHighBits();\n  // Encode low bits\n  buffer[index++] = lowBits & 0xff;\n  buffer[index++] = (lowBits >> 8) & 0xff;\n  buffer[index++] = (lowBits >> 16) & 0xff;\n  buffer[index++] = (lowBits >> 24) & 0xff;\n  // Encode high bits\n  buffer[index++] = highBits & 0xff;\n  buffer[index++] = (highBits >> 8) & 0xff;\n  buffer[index++] = (highBits >> 16) & 0xff;\n  buffer[index++] = (highBits >> 24) & 0xff;\n  return index;\n};\n\nvar serializeInt32 = function(buffer, key, value, index, isArray) {\n  // Set int type 32 bits or less\n  buffer[index++] = BSON.BSON_DATA_INT;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray\n    ? buffer.write(key, index, 'utf8')\n    : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Write the int value\n  buffer[index++] = value & 0xff;\n  buffer[index++] = (value >> 8) & 0xff;\n  buffer[index++] = (value >> 16) & 0xff;\n  buffer[index++] = (value >> 24) & 0xff;\n  return index;\n};\n\nvar serializeDouble = function(buffer, key, value, index, isArray) {\n  // Encode as double\n  buffer[index++] = BSON.BSON_DATA_NUMBER;\n\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray\n    ? buffer.write(key, index, 'utf8')\n    : buffer.write(key, index, 'ascii');\n\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n\n  // Write float\n  writeIEEE754(buffer, value.value, index, 'little', 52, 8);\n\n  // Adjust index\n  index = index + 8;\n  return index;\n};\n\nvar serializeFunction = function(buffer, key, value, index, checkKeys, depth, isArray) {\n  buffer[index++] = BSON.BSON_DATA_CODE;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray\n    ? buffer.write(key, index, 'utf8')\n    : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Function string\n  var functionString = value.toString();\n  // Write the string\n  var size = buffer.write(functionString, index + 4, 'utf8') + 1;\n  // Write the size of the string to buffer\n  buffer[index] = size & 0xff;\n  buffer[index + 1] = (size >> 8) & 0xff;\n  buffer[index + 2] = (size >> 16) & 0xff;\n  buffer[index + 3] = (size >> 24) & 0xff;\n  // Update index\n  index = index + 4 + size - 1;\n  // Write zero\n  buffer[index++] = 0;\n  return index;\n};\n\nvar serializeCode = function(\n  buffer,\n  key,\n  value,\n  index,\n  checkKeys,\n  depth,\n  serializeFunctions,\n  ignoreUndefined,\n  isArray\n) {\n  if (value.scope && typeof value.scope === 'object') {\n    // Write the type\n    buffer[index++] = BSON.BSON_DATA_CODE_W_SCOPE;\n    // Number of written bytes\n    var numberOfWrittenBytes = !isArray\n      ? buffer.write(key, index, 'utf8')\n      : buffer.write(key, index, 'ascii');\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n\n    // Starting index\n    var startIndex = index;\n\n    // Serialize the function\n    // Get the function string\n    var functionString = typeof value.code === 'string' ? value.code : value.code.toString();\n    // Index adjustment\n    index = index + 4;\n    // Write string into buffer\n    var codeSize = buffer.write(functionString, index + 4, 'utf8') + 1;\n    // Write the size of the string to buffer\n    buffer[index] = codeSize & 0xff;\n    buffer[index + 1] = (codeSize >> 8) & 0xff;\n    buffer[index + 2] = (codeSize >> 16) & 0xff;\n    buffer[index + 3] = (codeSize >> 24) & 0xff;\n    // Write end 0\n    buffer[index + 4 + codeSize - 1] = 0;\n    // Write the\n    index = index + codeSize + 4;\n\n    //\n    // Serialize the scope value\n    var endIndex = serializeInto(\n      buffer,\n      value.scope,\n      checkKeys,\n      index,\n      depth + 1,\n      serializeFunctions,\n      ignoreUndefined\n    );\n    index = endIndex - 1;\n\n    // Writ the total\n    var totalSize = endIndex - startIndex;\n\n    // Write the total size of the object\n    buffer[startIndex++] = totalSize & 0xff;\n    buffer[startIndex++] = (totalSize >> 8) & 0xff;\n    buffer[startIndex++] = (totalSize >> 16) & 0xff;\n    buffer[startIndex++] = (totalSize >> 24) & 0xff;\n    // Write trailing zero\n    buffer[index++] = 0;\n  } else {\n    buffer[index++] = BSON.BSON_DATA_CODE;\n    // Number of written bytes\n    numberOfWrittenBytes = !isArray\n      ? buffer.write(key, index, 'utf8')\n      : buffer.write(key, index, 'ascii');\n    // Encode the name\n    index = index + numberOfWrittenBytes;\n    buffer[index++] = 0;\n    // Function string\n    functionString = value.code.toString();\n    // Write the string\n    var size = buffer.write(functionString, index + 4, 'utf8') + 1;\n    // Write the size of the string to buffer\n    buffer[index] = size & 0xff;\n    buffer[index + 1] = (size >> 8) & 0xff;\n    buffer[index + 2] = (size >> 16) & 0xff;\n    buffer[index + 3] = (size >> 24) & 0xff;\n    // Update index\n    index = index + 4 + size - 1;\n    // Write zero\n    buffer[index++] = 0;\n  }\n\n  return index;\n};\n\nvar serializeBinary = function(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_BINARY;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray\n    ? buffer.write(key, index, 'utf8')\n    : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Extract the buffer\n  var data = value.value(true);\n  // Calculate size\n  var size = value.position;\n  // Add the deprecated 02 type 4 bytes of size to total\n  if (value.sub_type === Binary.SUBTYPE_BYTE_ARRAY) size = size + 4;\n  // Write the size of the string to buffer\n  buffer[index++] = size & 0xff;\n  buffer[index++] = (size >> 8) & 0xff;\n  buffer[index++] = (size >> 16) & 0xff;\n  buffer[index++] = (size >> 24) & 0xff;\n  // Write the subtype to the buffer\n  buffer[index++] = value.sub_type;\n\n  // If we have binary type 2 the 4 first bytes are the size\n  if (value.sub_type === Binary.SUBTYPE_BYTE_ARRAY) {\n    size = size - 4;\n    buffer[index++] = size & 0xff;\n    buffer[index++] = (size >> 8) & 0xff;\n    buffer[index++] = (size >> 16) & 0xff;\n    buffer[index++] = (size >> 24) & 0xff;\n  }\n\n  // Write the data to the object\n  data.copy(buffer, index, 0, value.position);\n  // Adjust the index\n  index = index + value.position;\n  return index;\n};\n\nvar serializeSymbol = function(buffer, key, value, index, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_SYMBOL;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray\n    ? buffer.write(key, index, 'utf8')\n    : buffer.write(key, index, 'ascii');\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n  // Write the string\n  var size = buffer.write(value.value, index + 4, 'utf8') + 1;\n  // Write the size of the string to buffer\n  buffer[index] = size & 0xff;\n  buffer[index + 1] = (size >> 8) & 0xff;\n  buffer[index + 2] = (size >> 16) & 0xff;\n  buffer[index + 3] = (size >> 24) & 0xff;\n  // Update index\n  index = index + 4 + size - 1;\n  // Write zero\n  buffer[index++] = 0x00;\n  return index;\n};\n\nvar serializeDBRef = function(buffer, key, value, index, depth, serializeFunctions, isArray) {\n  // Write the type\n  buffer[index++] = BSON.BSON_DATA_OBJECT;\n  // Number of written bytes\n  var numberOfWrittenBytes = !isArray\n    ? buffer.write(key, index, 'utf8')\n    : buffer.write(key, index, 'ascii');\n\n  // Encode the name\n  index = index + numberOfWrittenBytes;\n  buffer[index++] = 0;\n\n  var startIndex = index;\n  var endIndex;\n  var output = {\n    $ref: value.collection,\n    $id: value.oid\n  };\n\n  if (value.db != null) output.$db = value.db;\n\n  output = Object.assign(output, value.fields);\n  endIndex = serializeInto(buffer, output, false, index, depth + 1, serializeFunctions);\n\n  // Calculate object size\n  var size = endIndex - startIndex;\n  // Write the size\n  buffer[startIndex++] = size & 0xff;\n  buffer[startIndex++] = (size >> 8) & 0xff;\n  buffer[startIndex++] = (size >> 16) & 0xff;\n  buffer[startIndex++] = (size >> 24) & 0xff;\n  // Set index\n  return endIndex;\n};\n\nvar serializeInto = function serializeInto(\n  buffer,\n  object,\n  checkKeys,\n  startingIndex,\n  depth,\n  serializeFunctions,\n  ignoreUndefined,\n  path\n) {\n  startingIndex = startingIndex || 0;\n  path = path || [];\n\n  // Push the object to the path\n  path.push(object);\n\n  // Start place to serialize into\n  var index = startingIndex + 4;\n\n  // Special case isArray\n  if (Array.isArray(object)) {\n    // Get object keys\n    for (var i = 0; i < object.length; i++) {\n      var key = '' + i;\n      var value = object[i];\n\n      // Is there an override value\n      if (value && value.toBSON) {\n        if (typeof value.toBSON !== 'function') throw new Error('toBSON is not a function');\n        value = value.toBSON();\n      }\n\n      var type = typeof value;\n      if (type === 'string') {\n        index = serializeString(buffer, key, value, index, true);\n      } else if (type === 'number') {\n        index = serializeNumber(buffer, key, value, index, true);\n      } else if (type === 'boolean') {\n        index = serializeBoolean(buffer, key, value, index, true);\n      } else if (value instanceof Date || isDate(value)) {\n        index = serializeDate(buffer, key, value, index, true);\n      } else if (value === undefined) {\n        index = serializeNull(buffer, key, value, index, true);\n      } else if (value === null) {\n        index = serializeNull(buffer, key, value, index, true);\n      } else if (value['_bsontype'] === 'ObjectID') {\n        index = serializeObjectId(buffer, key, value, index, true);\n      } else if (Buffer.isBuffer(value)) {\n        index = serializeBuffer(buffer, key, value, index, true);\n      } else if (value instanceof RegExp || isRegExp(value)) {\n        index = serializeRegExp(buffer, key, value, index, true);\n      } else if (type === 'object' && value['_bsontype'] == null) {\n        index = serializeObject(\n          buffer,\n          key,\n          value,\n          index,\n          checkKeys,\n          depth,\n          serializeFunctions,\n          ignoreUndefined,\n          true,\n          path\n        );\n      } else if (type === 'object' && value['_bsontype'] === 'Decimal128') {\n        index = serializeDecimal128(buffer, key, value, index, true);\n      } else if (value['_bsontype'] === 'Long' || value['_bsontype'] === 'Timestamp') {\n        index = serializeLong(buffer, key, value, index, true);\n      } else if (value['_bsontype'] === 'Double') {\n        index = serializeDouble(buffer, key, value, index, true);\n      } else if (typeof value === 'function' && serializeFunctions) {\n        index = serializeFunction(\n          buffer,\n          key,\n          value,\n          index,\n          checkKeys,\n          depth,\n          serializeFunctions,\n          true\n        );\n      } else if (value['_bsontype'] === 'Code') {\n        index = serializeCode(\n          buffer,\n          key,\n          value,\n          index,\n          checkKeys,\n          depth,\n          serializeFunctions,\n          ignoreUndefined,\n          true\n        );\n      } else if (value['_bsontype'] === 'Binary') {\n        index = serializeBinary(buffer, key, value, index, true);\n      } else if (value['_bsontype'] === 'Symbol') {\n        index = serializeSymbol(buffer, key, value, index, true);\n      } else if (value['_bsontype'] === 'DBRef') {\n        index = serializeDBRef(buffer, key, value, index, depth, serializeFunctions, true);\n      } else if (value['_bsontype'] === 'BSONRegExp') {\n        index = serializeBSONRegExp(buffer, key, value, index, true);\n      } else if (value['_bsontype'] === 'Int32') {\n        index = serializeInt32(buffer, key, value, index, true);\n      } else if (value['_bsontype'] === 'MinKey' || value['_bsontype'] === 'MaxKey') {\n        index = serializeMinMax(buffer, key, value, index, true);\n      }\n    }\n  } else if (object instanceof Map) {\n    var iterator = object.entries();\n    var done = false;\n\n    while (!done) {\n      // Unpack the next entry\n      var entry = iterator.next();\n      done = entry.done;\n      // Are we done, then skip and terminate\n      if (done) continue;\n\n      // Get the entry values\n      key = entry.value[0];\n      value = entry.value[1];\n\n      // Check the type of the value\n      type = typeof value;\n\n      // Check the key and throw error if it's illegal\n      if (key !== '$db' && key !== '$ref' && key !== '$id') {\n        if (key.match(regexp) != null) {\n          // The BSON spec doesn't allow keys with null bytes because keys are\n          // null-terminated.\n          throw Error('key ' + key + ' must not contain null bytes');\n        }\n\n        if (checkKeys) {\n          if ('$' === key[0]) {\n            throw Error('key ' + key + \" must not start with '$'\");\n          } else if (~key.indexOf('.')) {\n            throw Error('key ' + key + \" must not contain '.'\");\n          }\n        }\n      }\n\n      if (type === 'string') {\n        index = serializeString(buffer, key, value, index);\n      } else if (type === 'number') {\n        index = serializeNumber(buffer, key, value, index);\n      } else if (type === 'boolean') {\n        index = serializeBoolean(buffer, key, value, index);\n      } else if (value instanceof Date || isDate(value)) {\n        index = serializeDate(buffer, key, value, index);\n      } else if (value === null || (value === undefined && ignoreUndefined === false)) {\n        index = serializeNull(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'ObjectID') {\n        index = serializeObjectId(buffer, key, value, index);\n      } else if (Buffer.isBuffer(value)) {\n        index = serializeBuffer(buffer, key, value, index);\n      } else if (value instanceof RegExp || isRegExp(value)) {\n        index = serializeRegExp(buffer, key, value, index);\n      } else if (type === 'object' && value['_bsontype'] == null) {\n        index = serializeObject(\n          buffer,\n          key,\n          value,\n          index,\n          checkKeys,\n          depth,\n          serializeFunctions,\n          ignoreUndefined,\n          false,\n          path\n        );\n      } else if (type === 'object' && value['_bsontype'] === 'Decimal128') {\n        index = serializeDecimal128(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Long' || value['_bsontype'] === 'Timestamp') {\n        index = serializeLong(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Double') {\n        index = serializeDouble(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Code') {\n        index = serializeCode(\n          buffer,\n          key,\n          value,\n          index,\n          checkKeys,\n          depth,\n          serializeFunctions,\n          ignoreUndefined\n        );\n      } else if (typeof value === 'function' && serializeFunctions) {\n        index = serializeFunction(buffer, key, value, index, checkKeys, depth, serializeFunctions);\n      } else if (value['_bsontype'] === 'Binary') {\n        index = serializeBinary(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Symbol') {\n        index = serializeSymbol(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'DBRef') {\n        index = serializeDBRef(buffer, key, value, index, depth, serializeFunctions);\n      } else if (value['_bsontype'] === 'BSONRegExp') {\n        index = serializeBSONRegExp(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Int32') {\n        index = serializeInt32(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'MinKey' || value['_bsontype'] === 'MaxKey') {\n        index = serializeMinMax(buffer, key, value, index);\n      }\n    }\n  } else {\n    // Did we provide a custom serialization method\n    if (object.toBSON) {\n      if (typeof object.toBSON !== 'function') throw new Error('toBSON is not a function');\n      object = object.toBSON();\n      if (object != null && typeof object !== 'object')\n        throw new Error('toBSON function did not return an object');\n    }\n\n    // Iterate over all the keys\n    for (key in object) {\n      value = object[key];\n      // Is there an override value\n      if (value && value.toBSON) {\n        if (typeof value.toBSON !== 'function') throw new Error('toBSON is not a function');\n        value = value.toBSON();\n      }\n\n      // Check the type of the value\n      type = typeof value;\n\n      // Check the key and throw error if it's illegal\n      if (key !== '$db' && key !== '$ref' && key !== '$id') {\n        if (key.match(regexp) != null) {\n          // The BSON spec doesn't allow keys with null bytes because keys are\n          // null-terminated.\n          throw Error('key ' + key + ' must not contain null bytes');\n        }\n\n        if (checkKeys) {\n          if ('$' === key[0]) {\n            throw Error('key ' + key + \" must not start with '$'\");\n          } else if (~key.indexOf('.')) {\n            throw Error('key ' + key + \" must not contain '.'\");\n          }\n        }\n      }\n\n      if (type === 'string') {\n        index = serializeString(buffer, key, value, index);\n      } else if (type === 'number') {\n        index = serializeNumber(buffer, key, value, index);\n      } else if (type === 'boolean') {\n        index = serializeBoolean(buffer, key, value, index);\n      } else if (value instanceof Date || isDate(value)) {\n        index = serializeDate(buffer, key, value, index);\n      } else if (value === undefined) {\n        if (ignoreUndefined === false) index = serializeNull(buffer, key, value, index);\n      } else if (value === null) {\n        index = serializeNull(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'ObjectID') {\n        index = serializeObjectId(buffer, key, value, index);\n      } else if (Buffer.isBuffer(value)) {\n        index = serializeBuffer(buffer, key, value, index);\n      } else if (value instanceof RegExp || isRegExp(value)) {\n        index = serializeRegExp(buffer, key, value, index);\n      } else if (type === 'object' && value['_bsontype'] == null) {\n        index = serializeObject(\n          buffer,\n          key,\n          value,\n          index,\n          checkKeys,\n          depth,\n          serializeFunctions,\n          ignoreUndefined,\n          false,\n          path\n        );\n      } else if (type === 'object' && value['_bsontype'] === 'Decimal128') {\n        index = serializeDecimal128(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Long' || value['_bsontype'] === 'Timestamp') {\n        index = serializeLong(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Double') {\n        index = serializeDouble(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Code') {\n        index = serializeCode(\n          buffer,\n          key,\n          value,\n          index,\n          checkKeys,\n          depth,\n          serializeFunctions,\n          ignoreUndefined\n        );\n      } else if (typeof value === 'function' && serializeFunctions) {\n        index = serializeFunction(buffer, key, value, index, checkKeys, depth, serializeFunctions);\n      } else if (value['_bsontype'] === 'Binary') {\n        index = serializeBinary(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Symbol') {\n        index = serializeSymbol(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'DBRef') {\n        index = serializeDBRef(buffer, key, value, index, depth, serializeFunctions);\n      } else if (value['_bsontype'] === 'BSONRegExp') {\n        index = serializeBSONRegExp(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'Int32') {\n        index = serializeInt32(buffer, key, value, index);\n      } else if (value['_bsontype'] === 'MinKey' || value['_bsontype'] === 'MaxKey') {\n        index = serializeMinMax(buffer, key, value, index);\n      }\n    }\n  }\n\n  // Remove the path\n  path.pop();\n\n  // Final padding byte for object\n  buffer[index++] = 0x00;\n\n  // Final size\n  var size = index - startingIndex;\n  // Write the size of the object\n  buffer[startingIndex++] = size & 0xff;\n  buffer[startingIndex++] = (size >> 8) & 0xff;\n  buffer[startingIndex++] = (size >> 16) & 0xff;\n  buffer[startingIndex++] = (size >> 24) & 0xff;\n  return index;\n};\n\nvar BSON = {};\n\n/**\n * Contains the function cache if we have that enable to allow for avoiding the eval step on each deserialization, comparison is by md5\n *\n * @ignore\n * @api private\n */\n// var functionCache = (BSON.functionCache = {});\n\n/**\n * Number BSON Type\n *\n * @classconstant BSON_DATA_NUMBER\n **/\nBSON.BSON_DATA_NUMBER = 1;\n/**\n * String BSON Type\n *\n * @classconstant BSON_DATA_STRING\n **/\nBSON.BSON_DATA_STRING = 2;\n/**\n * Object BSON Type\n *\n * @classconstant BSON_DATA_OBJECT\n **/\nBSON.BSON_DATA_OBJECT = 3;\n/**\n * Array BSON Type\n *\n * @classconstant BSON_DATA_ARRAY\n **/\nBSON.BSON_DATA_ARRAY = 4;\n/**\n * Binary BSON Type\n *\n * @classconstant BSON_DATA_BINARY\n **/\nBSON.BSON_DATA_BINARY = 5;\n/**\n * ObjectID BSON Type, deprecated\n *\n * @classconstant BSON_DATA_UNDEFINED\n **/\nBSON.BSON_DATA_UNDEFINED = 6;\n/**\n * ObjectID BSON Type\n *\n * @classconstant BSON_DATA_OID\n **/\nBSON.BSON_DATA_OID = 7;\n/**\n * Boolean BSON Type\n *\n * @classconstant BSON_DATA_BOOLEAN\n **/\nBSON.BSON_DATA_BOOLEAN = 8;\n/**\n * Date BSON Type\n *\n * @classconstant BSON_DATA_DATE\n **/\nBSON.BSON_DATA_DATE = 9;\n/**\n * null BSON Type\n *\n * @classconstant BSON_DATA_NULL\n **/\nBSON.BSON_DATA_NULL = 10;\n/**\n * RegExp BSON Type\n *\n * @classconstant BSON_DATA_REGEXP\n **/\nBSON.BSON_DATA_REGEXP = 11;\n/**\n * Code BSON Type\n *\n * @classconstant BSON_DATA_CODE\n **/\nBSON.BSON_DATA_CODE = 13;\n/**\n * Symbol BSON Type\n *\n * @classconstant BSON_DATA_SYMBOL\n **/\nBSON.BSON_DATA_SYMBOL = 14;\n/**\n * Code with Scope BSON Type\n *\n * @classconstant BSON_DATA_CODE_W_SCOPE\n **/\nBSON.BSON_DATA_CODE_W_SCOPE = 15;\n/**\n * 32 bit Integer BSON Type\n *\n * @classconstant BSON_DATA_INT\n **/\nBSON.BSON_DATA_INT = 16;\n/**\n * Timestamp BSON Type\n *\n * @classconstant BSON_DATA_TIMESTAMP\n **/\nBSON.BSON_DATA_TIMESTAMP = 17;\n/**\n * Long BSON Type\n *\n * @classconstant BSON_DATA_LONG\n **/\nBSON.BSON_DATA_LONG = 18;\n/**\n * Long BSON Type\n *\n * @classconstant BSON_DATA_DECIMAL128\n **/\nBSON.BSON_DATA_DECIMAL128 = 19;\n/**\n * MinKey BSON Type\n *\n * @classconstant BSON_DATA_MIN_KEY\n **/\nBSON.BSON_DATA_MIN_KEY = 0xff;\n/**\n * MaxKey BSON Type\n *\n * @classconstant BSON_DATA_MAX_KEY\n **/\nBSON.BSON_DATA_MAX_KEY = 0x7f;\n/**\n * Binary Default Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_DEFAULT\n **/\nBSON.BSON_BINARY_SUBTYPE_DEFAULT = 0;\n/**\n * Binary Function Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_FUNCTION\n **/\nBSON.BSON_BINARY_SUBTYPE_FUNCTION = 1;\n/**\n * Binary Byte Array Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_BYTE_ARRAY\n **/\nBSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY = 2;\n/**\n * Binary UUID Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_UUID\n **/\nBSON.BSON_BINARY_SUBTYPE_UUID = 3;\n/**\n * Binary MD5 Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_MD5\n **/\nBSON.BSON_BINARY_SUBTYPE_MD5 = 4;\n/**\n * Binary User Defined Type\n *\n * @classconstant BSON_BINARY_SUBTYPE_USER_DEFINED\n **/\nBSON.BSON_BINARY_SUBTYPE_USER_DEFINED = 128;\n\n// BSON MAX VALUES\nBSON.BSON_INT32_MAX = 0x7fffffff;\nBSON.BSON_INT32_MIN = -0x80000000;\n\nBSON.BSON_INT64_MAX = Math.pow(2, 63) - 1;\nBSON.BSON_INT64_MIN = -Math.pow(2, 63);\n\n// JS MAX PRECISE VALUES\nBSON.JS_INT_MAX = 0x20000000000000; // Any integer up to 2^53 can be precisely represented by a double.\nBSON.JS_INT_MIN = -0x20000000000000; // Any integer down to -2^53 can be precisely represented by a double.\n\n// Internal long versions\n// var JS_INT_MAX_LONG = Long.fromNumber(0x20000000000000); // Any integer up to 2^53 can be precisely represented by a double.\n// var JS_INT_MIN_LONG = Long.fromNumber(-0x20000000000000); // Any integer down to -2^53 can be precisely represented by a double.\n\nmodule.exports = serializeInto;\n\n\n\n// WEBPACK FOOTER //\n// ./~/bson/lib/bson/parser/serializer.js","/* global window, document, fetch */\n\nimport { createStorage } from './storage';\nimport { createProviders, PROVIDER_TYPE_MONGODB_CLOUD } from './providers';\nimport { StitchError } from '../errors';\nimport * as authCommon from './common';\nimport * as common from '../common';\nimport * as _platform from 'detect-browser';\n\nconst jwtDecode = require('jwt-decode');\n\nconst EMBEDDED_USER_AUTH_DATA_PARTS = 4;\n\n/** @private */\nexport class AuthFactory {\n  constructor() {\n    throw new StitchError('Auth can only be made from the AuthFactory.create function');\n  }\n\n  static create(client, rootUrl, options) {\n    return newAuth(client, rootUrl, options);\n  }\n}\n\n/** @private */\nexport function newAuth(client, rootUrl, options) {\n  let auth = Object.create(Auth.prototype);\n  let namespace;\n  if (!client || client.clientAppID === '') {\n    namespace = 'admin';\n  } else {\n    namespace = `client.${client.clientAppID}`;\n  }\n\n  options = Object.assign({\n    codec: authCommon.APP_CLIENT_CODEC,\n    namespace: namespace,\n    storageType: 'localStorage'\n  }, options);\n\n  auth.client = client;\n  auth.rootUrl = rootUrl;\n  auth.codec = options.codec;\n  auth.platform = options.platform || _platform;\n  auth.storage = createStorage(options);\n  auth.providers = createProviders(auth, options);\n\n  return Promise.all([\n    auth._get(),\n    auth.storage.get(authCommon.REFRESH_TOKEN_KEY),\n    auth.storage.get(authCommon.USER_LOGGED_IN_PT_KEY),\n    auth.storage.get(authCommon.DEVICE_ID_KEY)\n  ]).then(([authObj, rt, loggedInProviderType, deviceId]) => {\n    auth.auth = authObj;\n    auth.authedId = authObj.userId;\n    auth.rt = rt;\n    auth.loggedInProviderType = loggedInProviderType;\n    auth.deviceId = deviceId;\n\n    return auth;\n  });\n}\n\n/** @private */\nexport class Auth {\n  constructor(client, rootUrl, options) {\n    throw new StitchError('Auth can only be made from the AuthFactory.create function');\n  }\n\n  /**\n   * Create the device info for this client.\n   *\n   * @private\n   * @memberof module:auth\n   * @method getDeviceInfo\n   * @param {String} appId The app ID for this client\n   * @param {String} appVersion The version of the app\n   * @returns {Object} The device info object\n   */\n  getDeviceInfo(deviceId, appId, appVersion = '') {\n    const deviceInfo = { appId, appVersion, sdkVersion: common.SDK_VERSION };\n\n    if (deviceId) {\n      deviceInfo.deviceId = deviceId;\n    }\n\n    if (this.platform) {\n      deviceInfo.platform = this.platform.name;\n      deviceInfo.platformVersion = this.platform.version;\n    }\n\n    return deviceInfo;\n  }\n\n  provider(name) {\n    if (!this.providers.hasOwnProperty(name)) {\n      throw new Error('Invalid auth provider specified: ' + name);\n    }\n\n    return this.providers[name];\n  }\n\n  refreshToken() {\n    return this.client.doSessionPost()\n      .then((json) => this.set(json));\n  }\n\n  pageRootUrl() {\n    return [window.location.protocol, '//', window.location.host, window.location.pathname].join('');\n  }\n\n  error() {\n    return this._error;\n  }\n\n  isAppClient() {\n    if (!this.client) {\n      return true; // Handle the case where Auth is constructed with null\n    }\n    return this.client.type === common.APP_CLIENT_TYPE;\n  }\n\n  handleRedirect() {\n    if (typeof (window) === 'undefined') {\n      // This means we're running in some environment other\n      // than a browser - so handling a redirect makes no sense here.\n      return;\n    }\n    if (!window.location || !window.location.hash) {\n      return;\n    }\n\n    return Promise.all([\n      this.storage.get(authCommon.STATE_KEY),\n      this.storage.get(authCommon.STITCH_REDIRECT_PROVIDER)\n    ]).then(([ourState, redirectProvider]) => {\n      let redirectFragment = window.location.hash.substring(1);\n      const redirectState = this.parseRedirectFragment(redirectFragment, ourState);\n      if (redirectState.lastError || (redirectState.found && !redirectProvider)) {\n        console.error(`StitchClient: error from redirect: ${redirectState.lastError ?\n          redirectState.lastError : 'provider type not set'}`);\n        this._error = redirectState.lastError;\n        window.history.replaceState(null, '', this.pageRootUrl());\n        return Promise.reject();\n      }\n\n      if (!redirectState.found) {\n        return Promise.reject();\n      }\n\n      return Promise.all(\n        [\n          this.storage.remove(authCommon.STATE_KEY),\n          this.storage.remove(authCommon.STITCH_REDIRECT_PROVIDER)\n        ]\n      ).then(() => ({redirectState, redirectProvider}));\n    }).then(({redirectState, redirectProvider}) => {\n      if (!redirectState.stateValid) {\n        console.error('StitchClient: state values did not match!');\n        window.history.replaceState(null, '', this.pageRootUrl());\n        return;\n      }\n\n      if (!redirectState.ua) {\n        console.error('StitchClient: no UA value was returned from redirect!');\n        return;\n      }\n\n      // If we get here, the state is valid - set auth appropriately.\n      return this.set(redirectState.ua, redirectProvider);\n    }).then(() => window.history.replaceState(null, '', this.pageRootUrl()))\n      .catch(error => {\n        if (error) {\n          throw error;\n        }\n      });\n  }\n\n  getCookie(name) {\n    let splitCookies = document.cookie.split(' ');\n    for (let i = 0; i < splitCookies.length; i++) {\n      let cookie = splitCookies[i];\n      let sepIdx = cookie.indexOf('=');\n      let cookieName = cookie.substring(0, sepIdx);\n      if (cookieName === name) {\n        let cookieVal = cookie.substring(sepIdx + 1, cookie.length);\n        if (cookieVal[cookieVal.length - 1] === ';') {\n          return cookieVal.substring(0, cookie.length - 1);\n        }\n        return cookieVal;\n      }\n    }\n  }\n\n  handleCookie() {\n    if (typeof (window) === 'undefined' || typeof (document) === 'undefined') {\n      // This means we're running in some environment other\n      // than a browser - so handling a cookie makes no sense here.\n      return;\n    }\n    if (!document.cookie) {\n      return;\n    }\n\n    let uaCookie = this.getCookie(authCommon.USER_AUTH_COOKIE_NAME);\n    if (!uaCookie) {\n      return;\n    }\n\n    document.cookie = `${authCommon.USER_AUTH_COOKIE_NAME}=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT;`;\n    const userAuth = this.unmarshallUserAuth(uaCookie);\n    return this.set(userAuth, PROVIDER_TYPE_MONGODB_CLOUD).then(() =>\n      window.history.replaceState(null, '', this.pageRootUrl())\n    );\n  }\n\n  clear() {\n    this.auth = null;\n    this.authedId = null;\n    this.rt = null;\n    this.loggedInProviderType = null;\n\n    return Promise.all(\n      [\n        this.storage.remove(authCommon.USER_AUTH_KEY),\n        this.storage.remove(authCommon.REFRESH_TOKEN_KEY),\n        this.storage.remove(authCommon.USER_LOGGED_IN_PT_KEY),\n        this.storage.remove(authCommon.STITCH_REDIRECT_PROVIDER)\n      ]\n    );\n  }\n\n  getDeviceId() {\n    return this.deviceId;\n  }\n\n  // Returns whether or not the access token is expired or is going to expire within 'withinSeconds'\n  // seconds, according to current system time. Returns false if the token is malformed in any way.\n  isAccessTokenExpired(withinSeconds = authCommon.DEFAULT_ACCESS_TOKEN_EXPIRE_WITHIN_SECS) {\n    const token = this.getAccessToken();\n    if (!token) {\n      return false;\n    }\n\n    let decodedToken;\n    try {\n      decodedToken = jwtDecode(token);\n    } catch (e) {\n      return false;\n    }\n\n    if (!decodedToken) {\n      return false;\n    }\n\n    return decodedToken.exp && Math.floor(Date.now() / 1000) >= decodedToken.exp - withinSeconds;\n  }\n\n  getAccessToken() {\n    return this.auth.accessToken;\n  }\n\n  getRefreshToken() {\n    return this.rt;\n  }\n\n  set(json, authType = '') {\n    if (!json) {\n      return;\n    }\n\n    let newUserAuth = {};\n    let setters = [];\n\n    if (authType) {\n      this.loggedInProviderType = authType;\n      setters.push(this.storage.set(authCommon.USER_LOGGED_IN_PT_KEY, authType));\n    }\n\n    if (json[this.codec.refreshToken]) {\n      this.rt = json[this.codec.refreshToken];\n      delete json[this.codec.refreshToken];\n      setters.push(this.storage.set(authCommon.REFRESH_TOKEN_KEY, this.rt));\n    }\n\n    if (json[this.codec.deviceId]) {\n      this.deviceId = json[this.codec.deviceId];\n      delete json[this.codec.deviceId];\n      setters.push(this.storage.set(authCommon.DEVICE_ID_KEY, this.deviceId));\n    }\n\n    // Merge in new fields with old fields. Typically the first json value\n    // is complete with every field inside a user auth, but subsequent requests\n    // do not include everything. This merging behavior is safe so long as json\n    // value responses with absent fields do not indicate that the field should\n    // be unset.\n    if (json[this.codec.accessToken]) {\n      newUserAuth.accessToken = json[this.codec.accessToken];\n    }\n    if (json[this.codec.userId]) {\n      newUserAuth.userId = json[this.codec.userId];\n    }\n\n    this.auth = Object.assign(this.auth ? this.auth : {}, newUserAuth);\n    this.authedId = this.auth.userId;\n    setters.push(this.storage.set(authCommon.USER_AUTH_KEY, JSON.stringify(this.auth)));\n    return Promise.all(setters).then(() => this.auth);\n  }\n\n  _get() {\n    return this.storage.get(authCommon.USER_AUTH_KEY).then((data) => {\n      if (!data) {\n        return {};\n      }\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        // Need to back out and clear auth otherwise we will never\n        // be able to do anything useful.\n        return this.clear().then(() => {\n          throw new StitchError('Failure retrieving stored auth');\n        });\n      }\n    });\n  }\n\n  getLoggedInProviderType() {\n    return this.loggedInProviderType;\n  }\n\n  parseRedirectFragment(fragment, ourState) {\n    // After being redirected from oauth, the URL will look like:\n    // https://todo.examples.stitch.mongodb.com/#_stitch_state=...&_stitch_ua=...\n    // This function parses out stitch-specific tokens from the fragment and\n    // builds an object describing the result.\n    const vars = fragment.split('&');\n    const result = { ua: null, found: false, stateValid: false, lastError: null };\n    let shouldBreak = false;\n    for (let i = 0; i < vars.length && !shouldBreak; ++i) {\n      const pairParts = vars[i].split('=');\n      const pairKey = decodeURIComponent(pairParts[0]);\n      switch (pairKey) {\n      case authCommon.STITCH_ERROR_KEY:\n        result.lastError = decodeURIComponent(pairParts[1]);\n        result.found = true;\n        shouldBreak = true;\n        break;\n      case authCommon.USER_AUTH_KEY:\n        try {\n          result.ua = this.unmarshallUserAuth(decodeURIComponent(pairParts[1]));\n          result.found = true;\n        } catch (e) {\n          result.lastError = e;\n        }\n        continue;\n      case authCommon.STITCH_LINK_KEY:\n        result.found = true;\n        continue;\n      case authCommon.STATE_KEY:\n        result.found = true;\n        let theirState = decodeURIComponent(pairParts[1]);\n        if (ourState && ourState === theirState) {\n          result.stateValid = true;\n        }\n        continue;\n      default: continue;\n      }\n    }\n\n    return result;\n  }\n\n  unmarshallUserAuth(data) {\n    let parts = data.split('$');\n    if (parts.length !== EMBEDDED_USER_AUTH_DATA_PARTS) {\n      throw new RangeError('invalid user auth data provided: ' + data);\n    }\n\n    return {\n      [this.codec.accessToken]: parts[0],\n      [this.codec.refreshToken]: parts[1],\n      [this.codec.userId]: parts[2],\n      [this.codec.deviceId]: parts[3]\n    };\n  }\n\n  fetchArgsWithLink(fetchArgs, link) {\n    if (link) {\n      fetchArgs.headers.Authorization = `Bearer ${this.getAccessToken()}`;\n    }\n\n    return fetchArgs;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/auth/index.js","import { USER_AUTH_KEY, REFRESH_TOKEN_KEY, DEVICE_ID_KEY, STATE_KEY } from './common';\n\nexport class MemoryStorage {\n  constructor() {\n    this._data = {};\n    this._orderedKeys = [];\n    this.length = 0;\n  }\n\n  getItem(key) {\n    return (key in this._data) ? this._data[key] : null;\n  }\n\n  setItem(key, value) {\n    this._orderedKeys.push(key);\n    this._data[key] = value;\n    this.length++;\n    return this._data[key];\n  }\n\n  removeItem(key) {\n    this._orderedKeys.pop(key);\n    delete this._data[key];\n    this.length--;\n    return undefined;\n  }\n\n  key(index) {\n    return this._orderedKeys[index];\n  }\n}\n\nconst _VERSION = 1;\nconst _VERSION_KEY = '__stitch_storage_version__';\n\n/**\n  * Run a migration on the currently used storage\n  * that checks to see if the current version is up to date.\n  * If the version has not been set, this method will migrate\n  * to the latest version.\n  *\n  * @private\n  * @param {Integer} version version number of storage\n  * @param {Object} storage storage class being checked\n  * @returns {Promise} nullable promise containing migration logic\n  */\nfunction _runMigration(version, storage) {\n  switch (version) {\n  case null:\n  case undefined:\n    // return a promise,\n    // mapping each of the store's keys to a Promise\n    // that fetches the each value for each key,\n    // sets the old value to the new \"namespaced\" key\n    // remove the old key value pair,\n    // and set the version number\n    let migrations = [\n      USER_AUTH_KEY,\n      REFRESH_TOKEN_KEY,\n      DEVICE_ID_KEY,\n      STATE_KEY\n    ].map(key =>\n      Promise.resolve(storage.store.getItem(key))\n        .then(item => !!item && storage.store.setItem(storage._generateKey(key), item))\n        .then(() => storage.store.removeItem(key))\n    );\n    return Promise.all(migrations)\n      .then(() => storage.store.setItem(_VERSION_KEY, _VERSION));\n  // in future versions, `case 1:`, `case 2:` and so on\n  // could be added to perform similar migrations\n  default: break;\n  }\n}\n\n/** @private */\nclass Storage {\n  /**\n   * @param {Storage} store implementer of Storage interface\n   * @param {String} namespace clientAppID to be used for namespacing\n   * @param\n  */\n  constructor(store, namespace) {\n    this.store = store;\n    this.namespace = `_stitch.${namespace}`;\n\n    this._migration = Promise.resolve(this.store.getItem(_VERSION_KEY))\n      .then(version => _runMigration(version, this));\n  }\n\n  _generateKey(key) {\n    return `${this.namespace}.${key}`;\n  }\n\n  get(key) {\n    return Promise.resolve(this._migration)\n      .then(() => this.store.getItem(this._generateKey(key)));\n  }\n\n  set(key, value) {\n    return Promise.resolve(this._migration)\n      .then(() => this.store.setItem(this._generateKey(key), value))\n      .then(() => value);\n  }\n\n  remove(key) {\n    return Promise.resolve(this._migration)\n      .then(() => this.store.removeItem(this._generateKey(key)));\n  }\n}\n\nexport function createStorage(options) {\n  let { storageType, storage, namespace } = options;\n\n  if (storageType === 'localStorage') {\n    if ((typeof window !== 'undefined') && 'localStorage' in window && window.localStorage !== null) {\n      return new Storage(window.localStorage, namespace);\n    }\n  } else if (storageType === 'sessionStorage') {\n    if ((typeof window !== 'undefined') && 'sessionStorage' in window && window.sessionStorage !== null) {\n      return new Storage(window.sessionStorage, namespace);\n    }\n  } else if (storageType == 'customStorage') { //eslint-disable-line eqeqeq\n    return new Storage(storage, namespace);\n  }\n\n  // default to memory storage\n  return new Storage(new MemoryStorage(), namespace);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/auth/storage.js","import { StitchClientFactory } from './client';\nimport { StitchAdminClientFactory } from './admin';\nimport { BSON } from 'mongodb-extjson';\n\nexport {\n  StitchClientFactory,\n  StitchAdminClientFactory,\n  BSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import { serviceResponse } from '../../util';\n\n/**\n * Convenience wrapper around AWS S3 service (not meant to be instantiated directly,\n * use `.service('aws-s3', '<service-name>')` on a {@link StitchClient} instance).\n *\n * @class\n * @return {S3Service} a S3Service instance.\n */\nclass S3Service {\n  constructor(stitchClient, serviceName) {\n    this.client = stitchClient;\n    this.serviceName = serviceName;\n  }\n\n  /**\n   * Put an object to S3 via Stitch. For small uploads\n   *\n   * @param {String} bucket which S3 bucket to use\n   * @param {String} key which key (filename) to use\n   * @param {String} acl which policy to apply\n   * @param {String} contentType content type of uploaded data\n   * @param {String|BSON.Binary} body the content to put in the bucket\n   * @return {Promise} which resolves to an object containing a single field \"location\"\n   *                   which is the URL of the object that was put into the S3 bucket\n   */\n  put(bucket, key, acl, contentType, body) {\n    return serviceResponse(this, {\n      action: 'put',\n      args: { bucket, key, acl, contentType, body }\n    });\n  }\n\n  /**\n   * Sign a policy for putting via Stitch. For large uploads\n   *\n   * @param {String} bucket which S3 bucket to use\n   * @param {String} key which key (filename) to use\n   * @param {String} acl which policy to apply\n   * @param {String} contentType content type of uploaded data\n   * @return {Promise}\n   */\n  signPolicy(bucket, key, acl, contentType) {\n    return serviceResponse(this, {\n      action: 'signPolicy',\n      args: { bucket, key, acl, contentType }\n    });\n  }\n}\n\nexport default S3Service;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/aws/s3_service.js","import { serviceResponse } from '../../util';\n\n/**\n * Convenience wrapper around AWS SES service (not meant to be instantiated directly,\n * use `.service('aws-ses', '<service-name>')` on a {@link StitchClient} instance).\n *\n * @class\n * @return {SESService} a SESService instance.\n */\nclass SESService {\n  constructor(stitchClient, serviceName) {\n    this.client = stitchClient;\n    this.serviceName = serviceName;\n  }\n\n  /**\n   * Send an email\n   *\n   * @method\n   * @param {String} fromAddress the email to send from\n   * @param {String} toAddress the email to send to\n   * @param {String} subject the subject of the email\n   * @param {String} body the body of the email\n   * @return {Promise} resolving to an object which contains the single string field\n   *                   \"messageId\", which is the SES message ID for the email message.\n   */\n  send(fromAddress, toAddress, subject, body) {\n    return serviceResponse(this, {\n      action: 'send',\n      args: { fromAddress, toAddress, subject, body }\n    });\n  }\n}\n\nexport default SESService;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/aws/ses_service.js","import { serviceResponse } from '../../util';\n\n/**\n * Convenience wrapper for HTTP service (not meant to be instantiated directly,\n * use `.service('http', '<service-name>')` on a {@link StitchClient} instance).\n *\n * @class\n * @return {HTTPService} a HTTPService instance.\n */\nclass HTTPService {\n  constructor(client, serviceName) {\n    this.client = client;\n    this.serviceName = serviceName;\n  }\n\n  /**\n   * Send a GET request to a resource (result must be application/json)\n   *\n   * @param {String|Object} urlOrOptions the url to request, or an object of GET args\n   * @param {Object} [options] optional settings for the GET operation\n   * @param {String} [options.authUrl] url that grants a cookie\n   * @return {Promise}\n   */\n  get(urlOrOptions, options = {}) {\n    return buildResponse('get', this, buildArgs(urlOrOptions, options));\n  }\n\n  /**\n   * Send a POST request to a resource with payload\n   *\n   * @param {String|Object} urlOrOptions the url to request, or an object of POST args\n   * @param {Object} [options] optional settings for the POST operation\n   * @param {String} [options.authUrl] url that grants a cookie\n   * @return {Promise}\n   */\n  post(urlOrOptions, options = {}) {\n    return buildResponse('post', this, buildArgs(urlOrOptions, options));\n  }\n\n  /**\n   * Send a PUT request to a resource with payload\n   *\n   * @param {String|Object} urlOrOptions the url to request, or an object of PUT args\n   * @param {Object} [options] optional settings for the PUT operation\n   * @param {String} [options.authUrl] url that grants a cookie\n   * @return {Promise}\n   */\n  put(urlOrOptions, options = {}) {\n    return buildResponse('put', this, buildArgs(urlOrOptions, options));\n  }\n\n  /**\n   * Send a PATCH request to a resource with payload\n   *\n   * @param {String|Object} urlOrOptions the url to request, or an object of PATCH args\n   * @param {Object} [options] optional settings for the PATCH operation\n   * @param {String} [options.authUrl] url that grants a cookie\n   * @return {Promise}\n   */\n  patch(urlOrOptions, options = {}) {\n    return buildResponse('patch', this, buildArgs(urlOrOptions, options));\n  }\n\n  /**\n   * Send a DELETE request to a resource\n   *\n   * @param {String|Object} urlOrOptions the url to request, or an object of DELETE args\n   * @param {Object} [options] optional settings for the DELETE operation\n   * @param {String} [options.authUrl] url that grants a cookie\n   * @return {Promise}\n   */\n  delete(urlOrOptions, options = {}) {\n    return buildResponse('delete', this, buildArgs(urlOrOptions, options));\n  }\n\n  /**\n   * Send a HEAD request to a resource\n   *\n   * @param {String|Object} urlOrOptions the url to request, or an object of HEAD args\n   * @param {Object} [options] optional settings for the HEAD operation\n   * @param {String} [options.authUrl] url that grants a cookie\n   * @return {Promise}\n   */\n  head(urlOrOptions, options = {}) {\n    return buildResponse('head', this, buildArgs(urlOrOptions, options));\n  }\n}\n\nfunction buildArgs(urlOrOptions, options) {\n  let args;\n  if (typeof urlOrOptions !== 'string') {\n    args = urlOrOptions;\n  } else {\n    args = { url: urlOrOptions };\n    if (!!options.authUrl) args.authUrl = options.authUrl;\n  }\n\n  return args;\n}\n\nfunction buildResponse(action, service, args) {\n  return serviceResponse(service, {\n    action,\n    args\n  });\n}\n\nexport default HTTPService;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/http/http_service.js","import S3Service from './aws/s3_service';\nimport SESService from './aws/ses_service';\nimport HTTPService from './http/http_service';\nimport MongoDBService from './mongodb/mongodb_service';\nimport TwilioService from './twilio/twilio_service';\n\nexport default {\n  'aws-s3': S3Service,\n  'aws-ses': SESService,\n  'aws_s3': S3Service,\n  'aws_ses': SESService,\n  'http': HTTPService,\n  'mongodb': MongoDBService,\n  'twilio': TwilioService\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/index.js","import { serviceResponse } from '../../util';\n\n/**\n * Creates a new Collection instance (not meant to be instantiated directly,\n * use `.collection()` on a {@link DB} instance).\n *\n * @class\n * @return {Collection} a Collection instance.\n */\nclass Collection {\n  /**\n   * @hideconstructor\n   */\n  constructor(db, name) {\n    this.db = db;\n    this.name = name;\n  }\n\n  /**\n   * Inserts a single document.\n   *\n   * @method\n   * @param {Object} doc The document to insert.\n   * @return {Promise<Object, Error>} a Promise for the operation.\n   */\n  insertOne(doc) {\n    const args = { document: doc };\n    return buildResponse('insertOne', this, buildArgs(this, args));\n  }\n\n  /**\n   * Inserts multiple documents.\n   *\n   * @method\n   * @param {Array} docs The documents to insert.\n   * @return {Promise<Object, Error>} Returns a Promise for the operation.\n   */\n  insertMany(docs) {\n    const args = { documents: Array.isArray(docs) ? docs : [ docs ] };\n    return buildResponse('insertMany', this, buildArgs(this, args));\n  }\n\n  /**\n   * Deletes a single document.\n   *\n   * @method\n   * @param {Object} query The query used to match a single document.\n   * @return {Promise<Object, Error>} Returns a Promise for the operation.\n   */\n  deleteOne(query) {\n    return buildResponse('deleteOne', this, buildArgs(this, { query }));\n  }\n\n  /**\n   * Deletes all documents matching query.\n   *\n   * @method\n   * @param {Object} query The query used to match the documents to delete.\n   * @return {Promise<Object, Error>} Returns a Promise for the operation.\n   */\n  deleteMany(query) {\n    return buildResponse('deleteMany', this, buildArgs(this, { query }));\n  }\n\n  /**\n   * Updates a single document.\n   *\n   * @method\n   * @param {Object} query The query used to match a single document.\n   * @param {Object} update The update operations to perform on the matching document.\n   * @param {Object} [options] Additional options object.\n   * @param {Boolean} [options.upsert=false] Perform an upsert operation.\n   * @return {Promise<Object, Error>} A Promise for the operation.\n   */\n  updateOne(query, update, options = {}) {\n    return updateOp(this, false, query, update, options);\n  }\n\n  /**\n   * Updates multiple documents.\n   *\n   * @method\n   * @param {Object} query The query used to match the documents.\n   * @param {Object} update The update operations to perform on the matching documents.\n   * @param {Object} [options] Additional options object.\n   * @param {Boolean} [options.upsert=false] Perform an upsert operation.\n   * @return {Promise<Object, Error>} Returns a Promise for the operation.\n   */\n  updateMany(query, update) {\n    return updateOp(this, true, query, update);\n  }\n\n  /**\n   * Finds documents.\n   *\n   * @method\n   * @param {Object} query The query used to match documents.\n   * @param {Object} [project] The query document projection.\n   * @return {MongoQuery} An object which allows for `limit` and `sort` parameters to be set.\n   * `execute` will return a {Promise} for the operation.\n   */\n  find(query, project) {\n    return new MongoQuery(this, query, project);\n  }\n\n  /**\n   * Finds one document.\n   *\n   * @method\n   * @param {Object} query The query used to match documents.\n   * @param {Object} [project] The query document projection.\n   * @return {Promise<Object, Error>} Returns a Promise for the operation\n   */\n  findOne(query, project) {\n    return buildResponse('findOne', this, buildArgs(this, { query, project }));\n  }\n\n  /**\n   * Executes an aggregation pipeline.\n   *\n   * @param {Array} pipeline The aggregation pipeline.\n   * @returns {Array} The results of the aggregation.\n   */\n  aggregate(pipeline) {\n    return aggregateOp(this, pipeline);\n  }\n\n  /**\n   * Gets the number of documents matching the filter.\n   *\n   * @param {Object} query The query used to match documents.\n   * @param {Object} options Additional count options.\n   * @param {Number} [options.limit=null] The maximum number of documents to return.\n   * @return {Number} The results of the count operation.\n   */\n  count(query, options = {}) {\n    let outgoingOptions;\n    if (options.limit) {\n      outgoingOptions = { limit: options.limit };\n    }\n\n    return buildResponse('count', this, buildArgs(this, { count: true, query }, outgoingOptions));\n  }\n}\n\n// private\n\nfunction updateOp(service, isMulti, query, update, options = {}) {\n  const action = isMulti ? 'updateMany' : 'updateOne';\n\n  let outgoingOptions;\n  if (!isMulti && options.upsert) {\n    outgoingOptions = { upsert: true };\n  }\n\n  return buildResponse(action, service, buildArgs(service, { query, update }, outgoingOptions));\n}\n\nfunction findOp({ service, query, project, limit, sort }) {\n  return buildResponse('find', service, buildArgs(service, { query, project, limit, sort }));\n}\n\nfunction aggregateOp(service, pipeline) {\n  return buildResponse('aggregate', service, buildArgs(service, { pipeline }));\n}\n\nfunction buildArgs({ db: { name: database }, name: collection }, args, options = {}) {\n  return Object.assign(\n    { database, collection },\n    args,\n    options\n  );\n}\n\nfunction buildResponse(action, service, args) {\n  return serviceResponse(service.db, {\n    serviceName: service.db.service,\n    action,\n    args\n  });\n}\n\n// mongo query (find) support\n\nfunction MongoQuery(service, query, project) {\n  if (this instanceof MongoQuery) {\n    this.service = service;\n    this.query = query;\n    this.project = project;\n    return this;\n  }\n  return new MongoQuery(service, query, project);\n}\n\nMongoQuery.prototype.limit = function(limit) {\n  this.limit = limit;\n  return this;\n};\n\nMongoQuery.prototype.sort = function(sort) {\n  this.sort = sort;\n  return this;\n};\n\nMongoQuery.prototype.execute = function(resolve) {\n  return findOp(this);\n};\n\nexport default Collection;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/mongodb/collection.js","import Collection from './collection';\n\n/**\n * Creates a new DB instance (not meant to be instantiated directly, use `.db()` on\n * a {@link MongoDBService} instance).\n * @class\n * @return {DB} a DB instance.\n */\nclass DB {\n  /**\n   * @hideconstructor\n   */\n  constructor(client, service, name) {\n    this.client = client;\n    this.service = service;\n    this.name = name;\n  }\n\n  /**\n   * Returns a Collection instance representing a MongoDB Collection object.\n   *\n   * @method\n   * @param {String} name The collection name.\n   * @param {Object} [options] Additional options.\n   * @return {Collection} returns a Collection instance representing a MongoDb collection.\n   */\n  collection(name, options = {}) {\n    return new Collection(this, name, options);\n  }\n}\n\nexport default DB;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/mongodb/db.js","import DB from './db';\n\n/**\n * Creates a new MongoDBService instance (not meant to be instantiated directly, use\n * `.service('mongodb', '<service-name>')` on a {@link StitchClient} instance.\n *\n * @class\n * @return {MongoDBService} a MongoDBService instance.\n */\nclass MongoDBService {\n  /**\n   * @hideconstructor\n   */\n  constructor(stitchClient, serviceName) {\n    this.stitchClient = stitchClient;\n    this.serviceName = serviceName;\n  }\n\n  /**\n   * Get a DB instance\n   *\n   * @method\n   * @param {String} databaseName The MongoDB database name\n   * @param {Object} [options] Additional options.\n   * @return {DB} returns a DB instance representing a MongoDB database.\n   */\n  db(databaseName, options = {}) {\n    return new DB(this.stitchClient, this.serviceName, databaseName);\n  }\n}\n\n\nexport default MongoDBService;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/mongodb/mongodb_service.js","import { serviceResponse } from '../../util';\n\n/**\n * Create a new TwilioService instance (not meant to be instantiated directly,\n * use `.service('twilio', '<service-name>')` on a {@link StitchClient} instance).\n *\n * @class\n * @return {TwilioService} a TwilioService instance.\n */\nclass TwilioService {\n  constructor(stitchClient, serviceName) {\n    this.client = stitchClient;\n    this.serviceName = serviceName;\n  }\n\n  /**\n   * Send a text message to a number\n   *\n   * @method\n   * @param {String} from number to send from\n   * @param {String} to number to send to\n   * @param {String} body SMS body content\n   * @return {Promise} which resolves to 'null' when message is sent successfully,\n   *                   or is rejected when there is an error\n   */\n  send(from, to, body) {\n    return serviceResponse(this, {\n      action: 'send',\n      args: { from, to, body }\n    });\n  }\n}\n\nexport default TwilioService;\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/twilio/twilio_service.js","'use strict';\n\n/**\n * Module dependencies.\n * @ignore\n */\nfunction convert(integer) {\n  var str = Number(integer).toString(16);\n  return str.length === 1 ? '0' + str : str;\n}\n\nfunction toExtendedJSON(obj) {\n  var base64String = obj.buffer.toString('base64');\n\n  return {\n    $binary: {\n      base64: base64String,\n      subType: convert(obj.sub_type)\n    }\n  };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  var type = doc.$binary.subType ? parseInt(doc.$binary.subType, 16) : 0;\n\n  var data = new Buffer(doc.$binary.base64, 'base64');\n\n  return new BSON.Binary(data, type);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/binary.js","'use strict';\n\nfunction toExtendedJSON(obj) {\n  if (obj.scope) {\n    return { $code: obj.code, $scope: obj.scope };\n  }\n\n  return { $code: obj.code };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.Code(doc.$code, doc.$scope);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/code.js","'use strict';\n\nfunction toExtendedJSON(obj) {\n  var o = {\n    $ref: obj.collection,\n    $id: obj.oid\n  };\n  if (obj.db) o.$db = obj.db;\n  o = Object.assign(o, obj.fields);\n  return o;\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  var copy = Object.assign({}, doc);\n  ['$ref', '$id', '$db'].forEach(k => delete copy[k]);\n  return new BSON.DBRef(doc.$ref, doc.$id, doc.$db, copy);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/db_ref.js","'use strict';\n\nfunction toExtendedJSON(obj) {\n  return { $numberDecimal: obj.toString() };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.Decimal128.fromString(doc.$numberDecimal);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/decimal128.js","'use strict';\n\nfunction toExtendedJSON(obj, options) {\n  if (options.relaxed && isFinite(obj.value)) return obj.value;\n  return { $numberDouble: obj.value.toString() };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.Double(parseFloat(doc.$numberDouble));\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/double.js","'use strict';\n\nvar Binary = require('./binary');\nvar Code = require('./code');\nvar DBRef = require('./db_ref');\nvar Decimal128 = require('./decimal128');\nvar Double = require('./double');\nvar Int32 = require('./int_32');\nvar Long = require('./long');\nvar MaxKey = require('./max_key');\nvar MinKey = require('./min_key');\nvar ObjectID = require('./objectid');\nvar BSONRegExp = require('./regexp');\nvar Symbol = require('./symbol');\nvar Timestamp = require('./timestamp');\n\nmodule.exports = {\n  Binary: Binary,\n  Code: Code,\n  DBRef: DBRef,\n  Decimal128: Decimal128,\n  Double: Double,\n  Int32: Int32,\n  Long: Long,\n  MaxKey: MaxKey,\n  MinKey: MinKey,\n  ObjectID: ObjectID,\n  BSONRegExp: BSONRegExp,\n  Symbol: Symbol,\n  Timestamp: Timestamp\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/index.js","'use strict';\n\nfunction toExtendedJSON(obj, options) {\n  if (options && options.relaxed) return obj.value;\n  return { $numberInt: obj.value.toString() };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.Int32(doc.$numberInt);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/int_32.js","'use strict';\n\nfunction toExtendedJSON(obj, options) {\n  if (options && options.relaxed) return obj.toNumber();\n  return { $numberLong: obj.toString() };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return BSON.Long.fromString(doc.$numberLong);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/long.js","'use strict';\n\nfunction toExtendedJSON() {\n  return { $maxKey: 1 };\n}\n\nfunction fromExtendedJSON(BSON) {\n  return new BSON.MaxKey();\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/max_key.js","'use strict';\n\nfunction toExtendedJSON() {\n  return { $minKey: 1 };\n}\n\nfunction fromExtendedJSON(BSON) {\n  return new BSON.MinKey();\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/min_key.js","'use strict';\n\nfunction toExtendedJSON(obj) {\n  if (obj.toHexString) return { $oid: obj.toHexString() };\n  return { $oid: obj.toString('hex') };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.ObjectID(doc.$oid);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/objectid.js","'use strict';\n\nfunction toExtendedJSON(obj) {\n  return { $regularExpression: { pattern: obj.pattern, options: obj.options } };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.BSONRegExp(\n    doc.$regularExpression.pattern,\n    doc.$regularExpression.options\n      .split('')\n      .sort()\n      .join('')\n  );\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/regexp.js","'use strict';\n\nfunction toExtendedJSON(obj) {\n  return { $symbol: obj.value };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.Symbol(doc.$symbol);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/symbol.js","'use strict';\n\nfunction toExtendedJSON(obj) {\n  return {\n    $timestamp: {\n      t: obj.high_,\n      i: obj.low_\n    }\n  };\n}\n\nfunction fromExtendedJSON(BSON, doc) {\n  return new BSON.Timestamp(doc.$timestamp.i, doc.$timestamp.t);\n}\n\nmodule.exports = {\n  toExtendedJSON: toExtendedJSON,\n  fromExtendedJSON: fromExtendedJSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/bson/timestamp.js","'use strict';\n\nlet codecs = require('./bson'),\n  BSON = require('bson');\n\nvar BSONTypes = [\n  'Binary',\n  'Code',\n  'DBRef',\n  'Decimal128',\n  'Double',\n  'Int32',\n  'Long',\n  'MaxKey',\n  'MinKey',\n  'ObjectID',\n  'BSONRegExp',\n  'Symbol',\n  'Timestamp'\n];\n\nsetBSONModule(BSON);\n\n// all the types where we don't need to do any special processing and can just pass the EJSON\n//straight to type.fromExtendedJSON\nvar keysToCodecs = {\n  $oid: codecs.ObjectID,\n  $binary: codecs.Binary,\n  $symbol: codecs.Symbol,\n  $numberDecimal: codecs.Decimal128,\n  $numberLong: codecs.Long,\n  $minKey: codecs.MinKey,\n  $maxKey: codecs.MaxKey,\n  $regularExpression: codecs.BSONRegExp,\n  $timestamp: codecs.Timestamp\n};\n\nfunction setBSONModule(module) {\n  BSONTypes.forEach(t => {\n    if (!module[t]) throw new Error('passed in module does not contain all BSON types required');\n  });\n  BSON = module;\n}\n\nfunction deserializeValue(self, key, value, options) {\n  if (typeof value === 'number') {\n    // if it's an integer, should interpret as smallest BSON integer\n    // that can represent it exactly. (if out of range, interpret as double.)\n    if (Math.floor(value) === value) {\n      let int32Range = value >= BSON_INT32_MIN && value <= BSON_INT32_MAX,\n        int64Range = value >= BSON_INT64_MIN && value <= BSON_INT64_MAX;\n\n      if (int32Range) return options.strict ? new BSON.Int32(value) : value;\n      if (int64Range) return options.strict ? new BSON.Long.fromNumber(value) : value;\n    }\n    // If the number is a non-integer or out of integer range, should interpret as BSON Double.\n    return new BSON.Double(value);\n  }\n\n  // from here on out we're looking for bson types, so bail if its not an object\n  if (value == null || typeof value !== 'object') return value;\n\n  // upgrade deprecated undefined to null\n  if (value.$undefined) return null;\n\n  var keys = Object.keys(value).filter(k => k.startsWith('$') && value[k] != null);\n  for (let i = 0; i < keys.length; i++) {\n    let c = keysToCodecs[keys[i]];\n    if (c) return c.fromExtendedJSON(BSON, value);\n  }\n\n  if (value.$date != null) {\n    let d = value.$date,\n      date = new Date();\n\n    if (typeof d === 'string') date.setTime(Date.parse(d));\n    else if (d instanceof BSON.Long) date.setTime(d.toNumber());\n    return date;\n  }\n\n  if (value.$code != null) {\n    if (value.$scope) var scope = deserializeValue(self, null, value.$scope);\n    let copy = Object.assign({}, value);\n    copy.$scope = scope;\n    return codecs.Code.fromExtendedJSON(BSON, value);\n  }\n\n  if (value.$numberDouble != null) {\n    return options.strict\n      ? codecs.Double.fromExtendedJSON(BSON, value)\n      : parseFloat(value.$numberDouble);\n  }\n\n  if (value.$numberInt != null) {\n    return options.strict\n      ? codecs.Int32.fromExtendedJSON(BSON, value)\n      : parseInt(value.$numberInt, 10);\n  }\n\n  if (value.$ref != null || value.$dbPointer != null) {\n    let v = value.$ref ? value : value.$dbPointer;\n\n    // we run into this in a \"degenerate EJSON\" case (with $id and $ref order flipped)\n    // because of the order JSON.parse goes through the document\n    if (v instanceof BSON.DBRef) return v;\n\n    let dollarKeys = Object.keys(v).filter(k => k.startsWith('$')),\n      valid = true;\n    dollarKeys.forEach(k => {\n      if (['$ref', '$id', '$db'].indexOf(k) === -1) valid = false;\n    });\n\n    // only make DBRef if $ keys are all valid\n    if (valid) return codecs.DBRef.fromExtendedJSON(BSON, v);\n  }\n\n  return value;\n}\n\nconst parse = function(text, options) {\n  var self = this;\n  options = options || { strict: true };\n\n  return JSON.parse(text, function(key, value) {\n    return deserializeValue(self, key, value, options);\n  });\n};\n\n//\n// Serializer\n//\n\n// MAX INT32 boundaries\nconst BSON_INT32_MAX = 0x7fffffff,\n  BSON_INT32_MIN = -0x80000000,\n  BSON_INT64_MAX = 0x7fffffffffffffff,\n  BSON_INT64_MIN = -0x8000000000000000;\n\nconst stringify = function(value, reducer, indents, options) {\n  var opts = {};\n  if (options != null && typeof options === 'object') opts = options;\n  else if (indents != null && typeof indents === 'object') {\n    opts = indents;\n    indents = 0;\n  } else if (reducer != null && typeof reducer === 'object') {\n    opts = reducer;\n    reducer = null;\n  }\n\n  var doc = Array.isArray(value) ? serializeArray(value, opts) : serializeDocument(value, opts);\n  return JSON.stringify(doc, reducer, indents);\n};\n\nfunction serializeArray(array, options) {\n  return array.map(v => serializeValue(v, options));\n}\n\nfunction getISOString(date) {\n  var isoStr = date.toISOString();\n  // we should only show milliseconds in timestamp if they're non-zero\n  return date.getUTCMilliseconds() !== 0 ? isoStr : isoStr.slice(0, -5) + 'Z';\n}\n\nfunction serializeValue(value, options) {\n  if (Array.isArray(value)) return serializeArray(value, options);\n\n  if (value === undefined) return null;\n\n  if (value instanceof Date) {\n    let dateNum = value.getTime(),\n      // is it in year range 1970-9999?\n      inRange = dateNum > -1 && dateNum < 253402318800000;\n\n    return options.relaxed && inRange\n      ? { $date: getISOString(value) }\n      : { $date: { $numberLong: value.getTime().toString() } };\n  }\n\n  if (typeof value === 'number' && !options.relaxed) {\n    // it's an integer\n    if (Math.floor(value) === value) {\n      let int32Range = value >= BSON_INT32_MIN && value <= BSON_INT32_MAX,\n        int64Range = value >= BSON_INT64_MIN && value <= BSON_INT64_MAX;\n\n      // interpret as being of the smallest BSON integer type that can represent the number exactly\n      if (int32Range) return { $numberInt: value.toString() };\n      if (int64Range) return { $numberLong: value.toString() };\n    }\n    return { $numberDouble: value.toString() };\n  }\n\n  if (value != null && typeof value === 'object') return serializeDocument(value, options);\n  return value;\n}\n\nfunction serializeDocument(doc, options) {\n  if (doc == null || typeof doc !== 'object') throw new Error('not an object instance');\n\n  // the document itself is a BSON type\n  if (doc._bsontype && BSONTypes.indexOf(doc._bsontype) !== -1) {\n    // we need to separately serialize the embedded scope document\n    if (doc._bsontype === 'Code' && doc.scope) {\n      let tempScope = serializeDocument(doc.scope, options),\n        tempDoc = Object.assign({}, doc, { scope: tempScope });\n      return codecs['Code'].toExtendedJSON(tempDoc, options);\n      // we need to separately serialize the embedded OID document\n    } else if (doc._bsontype === 'DBRef' && doc.oid) {\n      let tempId = serializeDocument(doc.oid, options),\n        tempDoc = Object.assign({}, doc, { oid: tempId });\n      return codecs['DBRef'].toExtendedJSON(tempDoc, options);\n    }\n    return codecs[doc._bsontype].toExtendedJSON(doc, options);\n  }\n\n  // the document is an object with nested BSON types\n  var _doc = {};\n  for (var name in doc) {\n    let val = doc[name];\n    if (Array.isArray(val)) {\n      _doc[name] = serializeArray(val, options);\n    } else if (val != null && val._bsontype && BSONTypes.indexOf(val._bsontype) !== -1) {\n      // we need to separately serialize the embedded scope document\n      if (val._bsontype === 'Code' && val.scope) {\n        let tempScope = serializeDocument(val.scope, options),\n          tempVal = Object.assign({}, val, { scope: tempScope });\n        _doc[name] = codecs['Code'].toExtendedJSON(tempVal, options);\n        // we need to separately serialize the embedded OID document\n      } else if (val._bsontype === 'DBRef' && val.oid) {\n        let tempId = serializeDocument(val.oid, options),\n          tempVal = Object.assign({}, val, { oid: tempId });\n        _doc[name] = codecs['DBRef'].toExtendedJSON(tempVal, options);\n      } else _doc[name] = codecs[val._bsontype].toExtendedJSON(val, options);\n    } else if (val instanceof Date) {\n      _doc[name] = serializeValue(val, options);\n    } else if (val != null && typeof val === 'object') {\n      _doc[name] = serializeDocument(val, options);\n    }\n\n    _doc[name] = serializeValue(val, options);\n  }\n\n  return _doc;\n}\n\nmodule.exports = {\n  parse: parse,\n  stringify: stringify,\n  setBSONModule: setBSONModule,\n  BSON: BSON\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/mongodb-extjson/lib/ext_json.js","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction placeHoldersCount (b64) {\n  var len = b64.length\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  return b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n}\n\nfunction byteLength (b64) {\n  // base64 is 4/3 + up to two characters of the original data\n  return (b64.length * 3 / 4) - placeHoldersCount(b64)\n}\n\nfunction toByteArray (b64) {\n  var i, l, tmp, placeHolders, arr\n  var len = b64.length\n  placeHolders = placeHoldersCount(b64)\n\n  arr = new Arr((len * 3 / 4) - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0; i < l; i += 4) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/base64-js/index.js\n// module id = 57\n// module chunks = 0","var detectBrowser = require('./lib/detectBrowser');\n\nvar agent;\n\nif (typeof navigator !== 'undefined' && navigator) {\n  agent = navigator.userAgent;\n}\n\nmodule.exports = detectBrowser(agent);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/detect-browser/browser.js\n// module id = 58\n// module chunks = 0","var detectOS = require('./detectOS.js');\n\nmodule.exports = function detectBrowser(userAgentString) {\n  if (!userAgentString) return null;\n\n  var browsers = [\n    [ 'edge', /Edge\\/([0-9\\._]+)/ ],\n    [ 'yandexbrowser', /YaBrowser\\/([0-9\\._]+)/ ],\n    [ 'vivaldi', /Vivaldi\\/([0-9\\.]+)/ ],\n    [ 'kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/ ],\n    [ 'chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/ ],\n    [ 'firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/ ],\n    [ 'fxios', /FxiOS\\/([0-9\\.]+)/ ],\n    [ 'opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/ ],\n    [ 'opera', /OPR\\/([0-9\\.]+)(:?\\s|$)$/ ],\n    [ 'ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/ ],\n    [ 'ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/ ],\n    [ 'ie', /MSIE\\s(7\\.0)/ ],\n    [ 'bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/ ],\n    [ 'android', /Android\\s([0-9\\.]+)/ ],\n    [ 'ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/ ],\n    [ 'safari', /Version\\/([0-9\\._]+).*Safari/ ]\n  ];\n\n  return browsers.map(function (rule) {\n      if (rule[1].test(userAgentString)) {\n          var match = rule[1].exec(userAgentString);\n          var version = match && match[1].split(/[._]/).slice(0,3);\n\n          if (version && version.length < 3) {\n              Array.prototype.push.apply(version, (version.length == 1) ? [0, 0] : [0]);\n          }\n\n          return {\n              name: rule[0],\n              version: version.join('.'),\n              os: detectOS(userAgentString)\n          };\n      }\n  }).filter(Boolean).shift();\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/detect-browser/lib/detectBrowser.js\n// module id = 59\n// module chunks = 0","module.exports = function detectOS(userAgentString) {\n  var operatingSystems = [\n    {\n      name: 'iOS',\n      rule: /iP(hone|od|ad)/\n    },\n    {\n      name: 'Android OS',\n      rule: /Android/\n    },\n    {\n      name: 'BlackBerry OS',\n      rule: /BlackBerry|BB10/\n    },\n    {\n      name: 'Windows Mobile',\n      rule: /IEMobile/\n    },\n    {\n      name: 'Amazon OS',\n      rule: /Kindle/\n    },\n    {\n      name: 'Windows 3.11',\n      rule: /Win16/\n    },\n    {\n      name: 'Windows 95',\n      rule: /(Windows 95)|(Win95)|(Windows_95)/\n    },\n    {\n      name: 'Windows 98',\n      rule: /(Windows 98)|(Win98)/\n    },\n    {\n      name: 'Windows 2000',\n      rule: /(Windows NT 5.0)|(Windows 2000)/\n    },\n    {\n      name: 'Windows XP',\n      rule: /(Windows NT 5.1)|(Windows XP)/\n    },\n    {\n      name: 'Windows Server 2003',\n      rule: /(Windows NT 5.2)/\n    },\n    {\n      name: 'Windows Vista',\n      rule: /(Windows NT 6.0)/\n    },\n    {\n      name: 'Windows 7',\n      rule: /(Windows NT 6.1)/\n    },\n    {\n      name: 'Windows 8',\n      rule: /(Windows NT 6.2)/\n    },\n    {\n      name: 'Windows 8.1',\n      rule: /(Windows NT 6.3)/\n    },\n    {\n      name: 'Windows 10',\n      rule: /(Windows NT 10.0)/\n    },\n    {\n      name: 'Windows ME',\n      rule: /Windows ME/\n    },\n    {\n      name: 'Open BSD',\n      rule: /OpenBSD/\n    },\n    {\n      name: 'Sun OS',\n      rule: /SunOS/\n    },\n    {\n      name: 'Linux',\n      rule: /(Linux)|(X11)/\n    },\n    {\n      name: 'Mac OS',\n      rule: /(Mac_PowerPC)|(Macintosh)/\n    },\n    {\n      name: 'QNX',\n      rule: /QNX/\n    },\n    {\n      name: 'BeOS',\n      rule: /BeOS/\n    },\n    {\n      name: 'OS/2',\n      rule: /OS\\/2/\n    },\n    {\n      name: 'Search Bot',\n      rule: /(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\\/Teoma)|(ia_archiver)/\n    }\n  ];\n\n  var detected = operatingSystems.filter(function (os) {\n    if (userAgentString.match(os.rule)) {\n      return true;\n    }\n  });\n\n  return detected && detected[0] ? detected[0].name : null;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/detect-browser/lib/detectOS.js\n// module id = 60\n// module chunks = 0","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/ieee754/index.js\n// module id = 61\n// module chunks = 0","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/isarray/index.js\n// module id = 62\n// module chunks = 0","/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction InvalidCharacterError(message) {\n  this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\nfunction polyfill (input) {\n  var str = String(input).replace(/=+$/, '');\n  if (str.length % 4 == 1) {\n    throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n  }\n  for (\n    // initialize result and counters\n    var bc = 0, bs, buffer, idx = 0, output = '';\n    // get next character\n    buffer = str.charAt(idx++);\n    // character found in table? initialize bit storage and add its ascii value;\n    ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n      // and if not first of each 4 characters,\n      // convert the first 8 bits to one ascii character\n      bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n  ) {\n    // try to find character in table (0-63, not found => -1)\n    buffer = chars.indexOf(buffer);\n  }\n  return output;\n}\n\n\nmodule.exports = typeof window !== 'undefined' && window.atob && window.atob.bind(window) || polyfill;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/jwt-decode/lib/atob.js\n// module id = 63\n// module chunks = 0","var atob = require('./atob');\n\nfunction b64DecodeUnicode(str) {\n  return decodeURIComponent(atob(str).replace(/(.)/g, function (m, p) {\n    var code = p.charCodeAt(0).toString(16).toUpperCase();\n    if (code.length < 2) {\n      code = '0' + code;\n    }\n    return '%' + code;\n  }));\n}\n\nmodule.exports = function(str) {\n  var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  switch (output.length % 4) {\n    case 0:\n      break;\n    case 2:\n      output += \"==\";\n      break;\n    case 3:\n      output += \"=\";\n      break;\n    default:\n      throw \"Illegal base64url string!\";\n  }\n\n  try{\n    return b64DecodeUnicode(output);\n  } catch (err) {\n    return atob(output);\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/jwt-decode/lib/base64_url_decode.js\n// module id = 64\n// module chunks = 0","'use strict';\n\nvar base64_url_decode = require('./base64_url_decode');\n\nfunction InvalidTokenError(message) {\n  this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = 'InvalidTokenError';\n\nmodule.exports = function (token,options) {\n  if (typeof token !== 'string') {\n    throw new InvalidTokenError('Invalid token specified');\n  }\n\n  options = options || {};\n  var pos = options.header === true ? 0 : 1;\n  try {\n    return JSON.parse(base64_url_decode(token.split('.')[pos]));\n  } catch (e) {\n    throw new InvalidTokenError('Invalid token specified: ' + e.message);\n  }\n};\n\nmodule.exports.InvalidTokenError = InvalidTokenError;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/jwt-decode/lib/index.js\n// module id = 65\n// module chunks = 0","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/object-assign/index.js\n// module id = 66\n// module chunks = 0","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/process/browser.js\n// module id = 67\n// module chunks = 0","'use strict';\nvar strictUriEncode = require('strict-uri-encode');\nvar objectAssign = require('object-assign');\n\nfunction encoderForArrayFormat(opts) {\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, index) {\n\t\t\t\treturn value === null ? [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tindex,\n\t\t\t\t\t']'\n\t\t\t\t].join('') : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[',\n\t\t\t\t\tencode(index, opts),\n\t\t\t\t\t']=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'[]=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value) {\n\t\t\t\treturn value === null ? encode(key, opts) : [\n\t\t\t\t\tencode(key, opts),\n\t\t\t\t\t'=',\n\t\t\t\t\tencode(value, opts)\n\t\t\t\t].join('');\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(opts) {\n\tvar result;\n\n\tswitch (opts.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t} else if (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn function (key, value, accumulator) {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t} else if (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input)).sort(function (a, b) {\n\t\t\treturn Number(a) - Number(b);\n\t\t}).map(function (key) {\n\t\t\treturn input[key];\n\t\t});\n\t}\n\n\treturn input;\n}\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str, opts) {\n\topts = objectAssign({arrayFormat: 'none'}, opts);\n\n\tvar formatter = parserForArrayFormat(opts);\n\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\tformatter(decodeURIComponent(key), val, ret);\n\t});\n\n\treturn Object.keys(ret).sort().reduce(function (result, key) {\n\t\tvar val = ret[key];\n\t\tif (Boolean(val) && typeof val === 'object' && !Array.isArray(val)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(val);\n\t\t} else {\n\t\t\tresult[key] = val;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n};\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none'\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\tvar formatter = encoderForArrayFormat(opts);\n\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresult.push(formatter(key, val2, result.length));\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/query-string/index.js\n// module id = 68\n// module chunks = 0","'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/strict-uri-encode/index.js\n// module id = 69\n// module chunks = 0","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    rawHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = 'status' in options ? options.status : 200\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/whatwg-fetch/fetch.js\n// module id = 70\n// module chunks = 0"],"sourceRoot":""}